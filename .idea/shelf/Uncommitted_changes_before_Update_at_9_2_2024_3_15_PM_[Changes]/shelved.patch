Index: src/main/java/com/sd38/gymtiger/service/BillService.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.sd38.gymtiger.service;\r\n\r\nimport com.sd38.gymtiger.dto.admin.BillDto;\r\nimport com.sd38.gymtiger.model.Account;\r\nimport com.sd38.gymtiger.model.BillDetail;\r\nimport com.sd38.gymtiger.model.Bill;\r\nimport com.sd38.gymtiger.model.Cart;\r\nimport com.sd38.gymtiger.model.SessionCart;\r\nimport jakarta.servlet.http.HttpServletResponse;\r\nimport org.springframework.data.domain.Page;\r\nimport org.springframework.data.domain.Pageable;\r\n\r\nimport java.io.IOException;\r\nimport java.util.Date;\r\nimport java.util.List;\r\n\r\npublic interface BillService {\r\n    List<Bill> getAllBill();\r\n\r\n    Page<Bill> getAllBillPT(Integer page);\r\n\r\n    Bill addBillPos(Bill bill);\r\n\r\n    Bill updateBill(Bill bill, Integer id);\r\n\r\n    List<BillDetail> getAllBillDetail();\r\n\r\n    Page<BillDetail> getAllBillDetailPT(Integer page);\r\n\r\n    BillDetail addBillDetailPos(BillDetail billDetail);\r\n\r\n    BillDetail updateBillDetail(BillDetail billDetail, Integer id);\r\n\r\n    Bill getOneBill(Integer id);\r\n\r\n    BillDetail getOneBillDetail(Integer id);\r\n\r\n    List<BillDetail> getLstDetailByBillId(Integer id);\r\n\r\n    Bill delete(Integer id);\r\n\r\n    Bill placeOrder(Cart cart, String name, String specificAddress, String ward, String district, String city, String phoneNumber, String payment, Integer voucher);\r\n\r\n    Bill placeOrderSession(SessionCart cart, String email, String name, String specificAddress, String ward, String district, String city, String phoneNumber, String payment, Integer voucher);\r\n\r\n    List<Bill> getStatusOrders(Integer status, Integer customerId);\r\n\r\n    List<Bill> getAllOrders(Integer customerId);\r\n\r\n    boolean userCancelOrder(Integer billId);\r\n\r\n    boolean confirmOrder(Integer billId, Account account);\r\n\r\n    boolean cancelOrder(Integer billId, Account account);\r\n\r\n    boolean shippingOrder(Integer id, Account account);\r\n\r\n    boolean completeOrder(Integer id, Account account);\r\n\r\n    boolean changeAddressOrder(Integer billId, String name, String phoneNumber, String specificAddress, String ward, String district, String city, Account account);\r\n\r\n    boolean updateBillItem(Integer itemId, Integer quantity, Account account);\r\n\r\n    boolean deleteBillItem(Integer itemId, Account account);\r\n\r\n    boolean addBillItem(Integer billId, Integer productDetailId, Integer quantity, Account account);\r\n\r\n    Page<BillDto> findAll(Pageable pageable);\r\n\r\n    Page<BillDto> searchListBill(String code,\r\n                                 Date ngayTaoStart,\r\n                                 Date ngayTaoEnd,\r\n                                 Integer status,\r\n                                 Integer type,\r\n                                 String phoneNumber, String customerName, Pageable pageable);\r\n\r\n    String generateBillCode();\r\n\r\n    void exportToExcel(HttpServletResponse response, Page<BillDto> bills, String exportUrl) throws IOException;\r\n\r\n    List<Bill> findAllByStatus(Integer status);\r\n\r\n    void deleteBillDetail(BillDetail id);\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/com/sd38/gymtiger/service/BillService.java b/src/main/java/com/sd38/gymtiger/service/BillService.java
--- a/src/main/java/com/sd38/gymtiger/service/BillService.java	(revision a3f2f4fe416fb7db81751953dbcaea2f7d6afbda)
+++ b/src/main/java/com/sd38/gymtiger/service/BillService.java	(date 1725264597972)
@@ -47,7 +47,7 @@
 
     List<Bill> getAllOrders(Integer customerId);
 
-    boolean userCancelOrder(Integer billId);
+    boolean userCancelOrder(Integer billId, String cancelReason);
 
     boolean confirmOrder(Integer billId, Account account);
 
Index: src/main/resources/templates/user/order-detail.html
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><!DOCTYPE html>\r\n<html lang=\"en\" xmlns:th=\"http://www.thymeleaf.org\">\r\n\r\n<head th:replace=\"~{/user/fragments::head}\">\r\n</head>\r\n\r\n<body>\r\n<div th:replace=\"~{/user/fragments::header}\"></div>\r\n\r\n<br>\r\n<br>\r\n<div class=\"container\">\r\n    <div class=\"row\">\r\n        <div class=\"col-lg-12\">\r\n            <div th:if=\"${mess}\">\r\n                <button hidden id=\"btnSuccess\" th:onclick=\"alertSuccess([[${mess}]])\">Click Me</button>\r\n                <script th:inline=\"javascript\">\r\n                    window.onload = function () {\r\n                        var btnSuccess = document.getElementById(\"btnSuccess\");\r\n                        btnSuccess.click();\r\n                    }\r\n                    alertSuccess = (content) => {\r\n                        Swal.fire({\r\n                            title: content,\r\n                            icon: \"success\",\r\n                            confirmButtonColor: \"#0DC149\"\r\n                        });\r\n                    }\r\n                </script>\r\n            </div>\r\n            <div th:if=\"${error}\">\r\n                <button hidden id=\"btnError\" th:onclick=\"alertError([[${error}]])\">Click Me</button>\r\n                <script th:inline=\"javascript\">\r\n                    window.onload = function () {\r\n                        var btnError = document.getElementById(\"btnError\");\r\n                        btnError.click();\r\n                    }\r\n                    alertError = (content) => {\r\n                        Swal.fire({\r\n                            title: \"Lỗi\",\r\n                            text: content,\r\n                            icon: \"error\",\r\n                            confirmButtonColor: \"#d33\"\r\n                        });\r\n                    }\r\n                </script>\r\n            </div>\r\n            <div class=\"card\" style=\"position: relative\">\r\n                <div class=\"card-body\">\r\n                    <div class=\"invoice-title\">\r\n                        <!--                            <h4 class=\"float-end font-size-15\"><span class=\"badge bg-success font-size-12 ms-2\" th:text=\"${billdetail.trangThaiDonHang}\"></span></h4>-->\r\n                        <div class=\"float-end mr-4\">\r\n                            <!-- Add class 'active' to progress -->\r\n                            <div class=\"track\">\r\n                                <div class=\"step\" th:classappend=\"${\r\n                                    order.status == 10 ||\r\n                                    order.status == 3 ||\r\n                                    order.status == 2 ||\r\n                                    order.status == 1  ? 'active' : ''}\r\n                                    \">\r\n                                            <span class=\"icon\">\r\n                                                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\"\r\n                                                     viewBox=\"0 0 256 256\">\r\n                                                    <path fill=\"currentColor\"\r\n                                                          d=\"M232 136.66A104.12 104.12 0 1 1 119.34 24a8 8 0 0 1 1.32 16A88.12 88.12 0 1 0 216 135.34a8 8 0 0 1 16 1.32ZM120 72v56a8 8 0 0 0 8 8h56a8 8 0 0 0 0-16h-48V72a8 8 0 0 0-16 0Zm40-24a12 12 0 1 0-12-12a12 12 0 0 0 12 12Zm36 24a12 12 0 1 0-12-12a12 12 0 0 0 12 12Zm24 36a12 12 0 1 0-12-12a12 12 0 0 0 12 12Z\" />\r\n                                                </svg>\r\n                                            </span>\r\n                                    <span class=\"text\">Chờ xác nhận</span>\r\n                                    <p th:if=\"${order.orderDate != null}\" th:text=\"${#dates.format(order.orderDate, 'dd-MM-yyyy HH:mm:ss')}\"></p>\r\n                                </div>\r\n                                <div class=\"step\" th:classappend=\"${\r\n                                    order.status == 3 ||\r\n                                    order.status == 2 ||\r\n                                    order.status == 1 ? 'active' : ''}\r\n                                    \">\r\n                                            <span class=\"icon\">\r\n                                                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\"\r\n                                                     viewBox=\"0 0 24 24\">\r\n                                                    <g fill=\"none\" stroke-width=\"1.5\">\r\n                                                        <path fill=\"currentColor\"\r\n                                                              d=\"m2.695 7.185l9 4l.61-1.37l-9-4l-.61 1.37ZM12.75 21.5v-11h-1.5v11h1.5Zm-.445-10.315l9-4l-.61-1.37l-9 4l.61 1.37Z\" />\r\n                                                        <path stroke=\"currentColor\" stroke-linecap=\"round\"\r\n                                                              stroke-linejoin=\"round\"\r\n                                                              d=\"M3 17.11V6.89a.6.6 0 0 1 .356-.548l8.4-3.734a.6.6 0 0 1 .488 0l8.4 3.734A.6.6 0 0 1 21 6.89v10.22a.6.6 0 0 1-.356.548l-8.4 3.734a.6.6 0 0 1-.488 0l-8.4-3.734A.6.6 0 0 1 3 17.11Z\" />\r\n                                                        <path stroke=\"currentColor\" stroke-linecap=\"round\"\r\n                                                              stroke-linejoin=\"round\"\r\n                                                              d=\"m7.5 4.5l8.644 3.842a.6.6 0 0 1 .356.548v3.61\" />\r\n                                                    </g>\r\n                                                </svg>\r\n                                            </span>\r\n                                    <span class=\"text\">Chờ giao hàng</span>\r\n                                    <p th:if=\"${order.confirmationDate != null}\" th:text=\"${#dates.format(order.confirmationDate, 'dd-MM-yyyy HH:mm:ss')}\"></p>\r\n                                </div>\r\n                                <div class=\"step\" th:classappend=\"${\r\n                                    order.status == 2 ||\r\n                                    order.status == 1  ? 'active' : ''}\r\n                                    \">\r\n                                    <span class=\"icon\"> <i class=\"fa fa-truck\"></i> </span>\r\n                                    <span class=\"text\"> Đang giao hàng </span>\r\n                                    <p th:if=\"${order.shippingDate != null}\" th:text=\"${#dates.format(order.shippingDate, 'dd-MM-yyyy HH:mm:ss')}\"></p>\r\n                                </div>\r\n                                <div class=\"step\" th:classappend=\"${\r\n                                    order.status == 1  ? 'active' : ''}\r\n                                    \">\r\n                                            <span class=\"icon\">\r\n                                                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\"\r\n                                                     viewBox=\"0 0 24 24\">\r\n                                                    <path fill=\"currentColor\"\r\n                                                          d=\"M19 13c.7 0 1.37.13 2 .35V12l-1-5H4l-1 5v2h1v6h9.09c-.05-.33-.09-.66-.09-1c0-1.23.37-2.36 1-3.31V14h1.69c.95-.63 2.08-1 3.31-1m-7 5H6v-4h6v4m-6.96-6l.6-3h12.72l.6 3H5.04M20 6H4V4h16v2m2.5 11.25L17.75 22L15 19l1.16-1.16l1.59 1.59l3.59-3.59l1.16 1.41\" />\r\n                                                </svg>\r\n                                            </span>\r\n                                    <span class=\"text\">Đã hoàn thành</span>\r\n                                    <p th:if=\"${order.completionDate != null}\" th:text=\"${#dates.format(order.completionDate, 'dd-MM-yyyy HH:mm:ss')}\"></p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"mb-4\" style=\"padding-top: 20px\">\r\n                            <h2 class=\"mb-1 text-muted\" th:text=\"'Mã hoá đơn: ' + ${order.code}\">\r\n                            </h2>\r\n                            <div th:if=\"${order.status == 0}\" th:text=\"'ĐÃ HUỶ - NGÀY HUỶ: ' + ${#dates.format(order.cancellationDate, 'dd-MM-yyyy HH:mm:ss')}\" class=\"text-danger font-weight-bold border rounded p-2 border-danger\">\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <hr class=\"my-4\" />\r\n\r\n                    <div class=\"row\">\r\n                        <div class=\"col-sm-6\">\r\n                            <div class=\"text-muted\">\r\n                                <h5 class=\"font-size-16 mb-3\">Thông tin đơn hàng</h5>\r\n                                <h6 class=\"font-size-15 mb-2\" th:if=\"${order.customerName != null}\"\r\n                                    th:text=\"${order.customerName}\">\r\n                                </h6>\r\n                                <p class=\"mb-1\" th:if=\"${order.address != null}\"\r\n                                   th:text=\"${order.address}\">\r\n                                </p>\r\n                                <p th:if=\"${order.phoneNumber != null}\"\r\n                                   th:text=\"${order.phoneNumber}\">\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                        <!-- end col -->\r\n                        <div class=\"col-sm-6\">\r\n                            <div class=\"text-muted\" style=\"text-align: right\">\r\n                                <div>\r\n                                    <h5 class=\"font-size-15 mb-1\">Ngày mua hàng:</h5>\r\n                                    <p\r\n                                            th:text=\"${#dates.format(order.orderDate, 'dd-MM-yyyy HH:mm:ss')}\">\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"text-muted\" style=\"text-align: right\" th:if=\"${order.paymentDate != null}\">\r\n                                <div>\r\n                                    <h5 class=\"font-size-15 mb-1\">Ngày thanh toán:</h5>\r\n                                    <p\r\n                                            th:text=\"${#dates.format(order.paymentDate, 'dd-MM-yyyy HH:mm:ss')}\">\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <!-- end col -->\r\n                    </div>\r\n                    <!-- end row -->\r\n                    <div class=\"py-2 mb-4\">\r\n                        <div>\r\n                            <h5>Voucher:\r\n                                <h5 style=\"color: rgb(21, 219, 153)\" th:if=\"${order.voucher != null}\" th:text=\"${order.voucher.code}\">\r\n                                </h5>\r\n                                <h5 style=\"color: rgb(21, 219, 153)\" th:if=\"${order.voucher == null}\">\r\n                                    Không có\r\n                                </h5>\r\n                            </h5>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"mb-4\">\r\n                        <div>\r\n                            <h5>Loại đơn:\r\n                                <h5 style=\"color: rgb(21, 219, 153)\" th:if=\"${order.type == 1}\">Tại quầy</h5>\r\n                                <h5 style=\"color: rgb(21, 219, 153)\" th:if=\"${order.type == 0}\">Mua Online</h5>\r\n                            </h5>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"py-2\">\r\n                        <h5 class=\"font-size-15\">Thanh toán</h5>\r\n\r\n                        <div class=\"table-responsive\">\r\n                            <table class=\"table align-middle table-nowrap table-centered mb-0\">\r\n                                <thead>\r\n                                <tr>\r\n                                    <th>Thanh toán</th>\r\n                                    <th>Số tiền thanh toán</th>\r\n                                    <th>Trạng thái thanh toán</th>\r\n                                </tr>\r\n                                </thead>\r\n                                <!-- end thead -->\r\n                                <tbody>\r\n                                <tr th:each=\"paymentMethod : ${listPaymentMethod}\">\r\n                                    <td>\r\n                                        <div>\r\n                                            <h6 class=\"text-truncate font-size-14 mb-1\"\r\n                                                th:text=\"${paymentMethod.name}\">\r\n                                            </h6>\r\n                                        </div>\r\n                                    </td>\r\n                                    <td\r\n                                            th:text=\"'₫' + ${#numbers.formatDecimal(paymentMethod.money, 0, 'POINT', 0, 'COMMA')}\">\r\n                                    </td>\r\n                                    <td>\r\n\r\n                    <span class=\"text-warning p-1 font-weight-bold\"\r\n                          th:if=\"${paymentMethod.status == 10}\">&nbsp;Chưa thanh toán\r\n                    </span>\r\n                                        <span class=\"text-success p-1 font-weight-bold\"\r\n                                              th:if=\"${paymentMethod.status == 1}\">&nbsp;Đã thanh toán\r\n                    </span>\r\n\r\n                                        <span th:if=\"${paymentMethod.status == 0}\" class=\"text-danger p-1 font-weight-bold\">\r\n                        &nbsp; Đã hủy\r\n                    </span>\r\n\r\n                                    </td>\r\n                                </tr>\r\n                                </tbody>\r\n                                <!-- end tbody -->\r\n                            </table>\r\n                            <!-- end table -->\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"py-2\">\r\n                        <h5 class=\"font-size-15\">Danh sách đơn hàng</h5>\r\n\r\n                        <div class=\"table-responsive\">\r\n                            <table class=\"table align-middle table-nowrap table-centered mb-0\">\r\n                                <thead>\r\n                                <tr>\r\n                                    <th></th>\r\n                                    <th>Mã</th>\r\n                                    <th>Sản phẩm</th>\r\n                                    <th>Màu sắc</th>\r\n                                    <th>Kích cỡ</th>\r\n                                    <th>Giá tiền</th>\r\n                                    <th>Số lượng</th>\r\n                                    <th class=\"text-end\" style=\"width: 120px\">Thành tiền</th>\r\n                                </tr>\r\n                                </thead>\r\n                                <!-- end thead -->\r\n                                <tbody>\r\n                                <tr th:each=\"billDetail : ${lstBillDetails}\">\r\n                                    <td>\r\n                                        <img th:src=\"@{'/image/product/' + ${billDetail.productDetail.product.id}}\" width=\"62\" height=\"62\">\r\n                                    </td>\r\n                                    <td th:text=\"${billDetail.productDetail.code}\"></td>\r\n                                    <td>\r\n                                        <div>\r\n                                            <h6 class=\"text-truncate font-size-14 mb-1\"\r\n                                                th:text=\"${billDetail.productDetail.product.name}\">\r\n                                                Black Strap A012\r\n                                            </h6>\r\n                                        </div>\r\n                                    </td>\r\n                                    <td th:text=\"${billDetail.productDetail.color.name}\"></td>\r\n                                    <td th:text=\"${billDetail.productDetail.size.name}\"></td>\r\n                                    <td\r\n                                            th:text=\"'₫' + ${#numbers.formatDecimal(billDetail.price, 0, 'POINT', 0, 'COMMA')}\">\r\n                                    </td>\r\n                                    <td th:text=\"${billDetail.quantity}\"></td>\r\n                                    <td class=\"text-end\"\r\n                                        th:text=\"'₫' + ${#numbers.formatDecimal(billDetail.price * billDetail.quantity, 0, 'POINT', 0, 'COMMA')}\">\r\n                                        $ 245.50\r\n                                    </td>\r\n                                </tr>\r\n                                <!-- end tr -->\r\n\r\n                                <tr>\r\n                                    <th scope=\"row\" colspan=\"7\" style=\"text-align: right\">\r\n                                        Tổng thanh toán sản phẩm :\r\n                                    </th>\r\n                                    <td style=\"text-align: right\"\r\n                                        th:text=\"'₫' + ${#numbers.formatDecimal(order.price, 0, 'POINT', 0, 'COMMA')}\">\r\n                                        $732.50\r\n                                    </td>\r\n                                </tr>\r\n                                <!-- end tr -->\r\n                                <tr>\r\n                                    <th scope=\"row\" colspan=\"7\" class=\"border-0\" style=\"text-align: right\">\r\n                                        Voucher :\r\n                                    </th>\r\n                                    <td class=\"border-0\" style=\"text-align: right\"\r\n                                        th:text=\"'₫' + ${#numbers.formatDecimal(order.discountAmount, 0, 'POINT', 0, 'COMMA')}\">\r\n                                        - $25.50\r\n                                    </td>\r\n                                </tr>\r\n                                <!-- end tr -->\r\n                                <tr>\r\n                                    <th scope=\"row\" colspan=\"7\" class=\"border-0\" style=\"text-align: right\">\r\n                                        Phí ship :\r\n                                    </th>\r\n                                    <td class=\"border-0\" style=\"text-align: right\" th:text=\"'₫' + ${#numbers.formatDecimal(order.shippingFee, 0, 'POINT', 0, 'COMMA')}\">0</td>\r\n                                </tr>\r\n                                <!-- end tr -->\r\n\r\n                                <!-- end tr -->\r\n                                <tr>\r\n                                    <th scope=\"row\" colspan=\"7\" class=\"border-0\" style=\"text-align: right\">\r\n                                        Tổng thanh toán :\r\n                                    </th>\r\n                                    <td class=\"border-0\" style=\"text-align: right\">\r\n                                        <h4 class=\"m-0 fw-semibold\"\r\n                                            th:text=\"'₫' + ${#numbers.formatDecimal(order.totalPrice, 0, 'POINT', 0, 'COMMA')}\">\r\n                                            $739.00\r\n                                        </h4>\r\n                                    </td>\r\n                                </tr>\r\n                                <!-- end tr -->\r\n                                </tbody>\r\n                                <!-- end tbody -->\r\n                            </table>\r\n                            <!-- end table -->\r\n                        </div>\r\n                        <!-- end table responsive -->\r\n                        <div class=\"d-print-none mt-4\">\r\n                            <div style=\"text-align: right\">\r\n                                <a th:href=\"@{'/orders'}\">\r\n                                    <button type=\"button\" class=\"btn btn-secondary w-md\" data-dismiss=\"modal\">\r\n                                        Đóng\r\n                                    </button>\r\n                                </a>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"py-2\">\r\n                        <a th:href=\"@{'/detail-cancel-order/' + ${order.id}}\" class=\"cancel-btn btn btn-danger rounded\" style=\"float: right; margin-bottom: 10px\"\r\n                                    th:if=\"${order.status == 10}\">\r\n                            <i class=\"far fa-times-circle\"></i>&nbsp;Hủy đơn\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <!-- end col -->\r\n    </div>\r\n</div>\r\n<br>\r\n<br>\r\n\r\n<div th:replace=\"~{/user/fragments::footer}\"></div>\r\n\r\n<div th:replace=\"~{/user/fragments::script}\"></div>\r\n\r\n<script>\r\n    $('.cancel-btn').on('click', function (e) {\r\n        e.preventDefault();\r\n        Swal.fire({\r\n            title: \"Xác nhận?\",\r\n            text: `Bạn chắc chắn muốn hủy đơn này?`,\r\n            icon: \"warning\",\r\n            showCancelButton: true,\r\n            cancelButtonText: 'Hủy',\r\n            confirmButtonText: 'Xác nhận',\r\n            reverseButtons: true\r\n        }).then((result) => {\r\n            if (result.isConfirmed) {\r\n                window.location.href = $(this).attr('href');\r\n            }\r\n        })\r\n    });\r\n</script>\r\n\r\n</body>\r\n\r\n</html>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/resources/templates/user/order-detail.html b/src/main/resources/templates/user/order-detail.html
--- a/src/main/resources/templates/user/order-detail.html	(revision a3f2f4fe416fb7db81751953dbcaea2f7d6afbda)
+++ b/src/main/resources/templates/user/order-detail.html	(date 1725264597983)
@@ -331,7 +331,7 @@
                     </div>
                     <div class="py-2">
                         <a th:href="@{'/detail-cancel-order/' + ${order.id}}" class="cancel-btn btn btn-danger rounded" style="float: right; margin-bottom: 10px"
-                                    th:if="${order.status == 10}">
+                           th:if="${order.status == 10}">
                             <i class="far fa-times-circle"></i>&nbsp;Hủy đơn
                         </a>
                     </div>
@@ -351,19 +351,31 @@
 <script>
     $('.cancel-btn').on('click', function (e) {
         e.preventDefault();
+        const href = $(this).attr('href');
+
         Swal.fire({
             title: "Xác nhận?",
-            text: `Bạn chắc chắn muốn hủy đơn này?`,
+            text: "Bạn chắc chắn muốn hủy đơn này? Vui lòng nhập lý do hủy:",
+            input: 'text',
+            inputPlaceholder: 'Nhập lý do hủy',
             icon: "warning",
             showCancelButton: true,
             cancelButtonText: 'Hủy',
             confirmButtonText: 'Xác nhận',
-            reverseButtons: true
+            reverseButtons: true,
+            preConfirm: (reason) => {
+                if (!reason) {
+                    Swal.showValidationMessage("Lý do hủy không được để trống");
+                    return false;
+                }
+                return reason;
+            }
         }).then((result) => {
             if (result.isConfirmed) {
-                window.location.href = $(this).attr('href');
+                const cancelReason = result.value;
+                window.location.href = `${href}?cancelReason=${encodeURIComponent(cancelReason)}`;
             }
-        })
+        });
     });
 </script>
 
Index: src/main/resources/templates/admin/voucher/voucher.html
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><!DOCTYPE html>\r\n<html lang=\"en\" xmlns:th=\"http://www.thymeleaf.org\" xmlns:layout=\"http://www.ultraq.net.nz/thymeleaf/layout\"\r\n      layout:decorate=\"~{admin/admin-layout.html}\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <title>Voucher Management</title>\r\n</head>\r\n<body>\r\n<div layout:fragment=\"content\">\r\n    <div class=\"col\">\r\n        <div class=\"card\">\r\n            <div class=\"card-header\">\r\n                <h5 style=\"font-weight: bold\">VOUCHER</h5>\r\n            </div>\r\n            <!--            Notification-->\r\n            <div th:if=\"${mess}\">\r\n                <button hidden id=\"btnSuccess\" th:onclick=\"alertSuccess([[${mess}]])\">Click Me</button>\r\n                <script th:inline=\"javascript\">\r\n                    window.onload = function () {\r\n                        var btnSuccess = document.getElementById(\"btnSuccess\");\r\n                        btnSuccess.click();\r\n                    }\r\n                    alertSuccess = (content) => {\r\n                        Swal.fire({\r\n                            title: content,\r\n                            icon: \"success\",\r\n                            confirmButtonColor: \"#0DC149\"\r\n                        });\r\n                    }\r\n                </script>\r\n            </div>\r\n            <div th:if=\"${error}\">\r\n                <button hidden id=\"btnError\" th:onclick=\"alertError1([[${error}]])\">Click Me</button>\r\n                <script th:inline=\"javascript\">\r\n                    window.onload = function () {\r\n                        var btnError = document.getElementById(\"btnError\");\r\n                        btnError.click();\r\n                    }\r\n                    alertError1 = (content) => {\r\n                        Swal.fire({\r\n                            title: \"Lỗi\",\r\n                            text: content,\r\n                            icon: \"error\",\r\n                            confirmButtonColor: \"#d33\"\r\n                        });\r\n                    }\r\n                </script>\r\n            </div>\r\n            <div class=\"card-body card-block\">\r\n                <form th:action=\"@{/tiger/voucher/search}\" method=\"get\">\r\n                    <div class=\"form-row\">\r\n                        <div class=\"form-group col-md-3\">\r\n                            <label >Mã voucher</label>\r\n                            <input type=\"text\" class=\"form-control\" name=\"code\" th:value=\"${code}\">\r\n                        </div>\r\n                        <div class=\"form-group col-md-2\">\r\n                            <label>Trạng thái</label>\r\n                            <select class=\"form-control\" name=\"status\" th:value=\"${status}\">\r\n                                <option value=\"\">Tất cả</option>\r\n                                <option  value=\"1\" th:selected=\"${status == 1}\">Hoạt động</option>\r\n                                <option value=\"2\" th:selected=\"${status == 2}\">Đang chờ</option>\r\n                            </select>\r\n                        </div>\r\n                        <div class=\"form-group col-md-3\">\r\n                            <label for=\"name\">Tên voucher</label>\r\n                            <input type=\"text\" class=\"form-control\" name=\"name\" th:value=\"${name}\">\r\n                        </div>\r\n\r\n                        <div class=\"form-group col-md-3\">\r\n                            <label>Khoảng ngày kết thúc</label>\r\n                            <div class=\"form-row\">\r\n                                <div class=\"col-md-6\">\r\n                                    <input type=\"date\" class=\"form-control\" name=\"ngayTaoStart\"\r\n                                           th:value=\"${ngayTaoStart}\">\r\n                                </div>\r\n                                <div class=\"col-md-6\">\r\n                                    <input type=\"date\" class=\"form-control\" name=\"ngayTaoEnd\" th:value=\"${ngayTaoEnd}\">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group col-md-1\" style=\"margin-top: 30px\">\r\n                            <button type=\"submit\" class=\"btn btn-dark \"><i class=\"fas fa-search px-4\"></i></button>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n                <form id=\"voucherForm\" th:action=\"@{/tiger/voucher/add}\" th:object=\"${voucher}\" method=\"post\"\r\n                      class=\"form-horizontal\">\r\n                    <div class=\"d-flex\">\r\n                        <div class=\"\">\r\n                            <button type=\"button\" class=\"btn btn-dark\" data-toggle=\"modal\" data-target=\"#addModal\">\r\n                                <i class=\"fa-solid fa-square-plus px-4\"></i>\r\n                            </button>\r\n                        </div>\r\n\r\n                        <!-- Modal -->\r\n                        <div class=\"modal fade\" id=\"addModal\" tabindex=\"-1\" role=\"dialog\"\r\n                             aria-labelledby=\"addModalLabel\"\r\n                             aria-hidden=\"true\">\r\n                            <div class=\"modal-dialog modal-dialog-centered modal-lg \" role=\"document\">\r\n                                <div class=\"modal-content\">\r\n                                    <div class=\"modal-header\">\r\n                                        <h5 class=\"modal-title\" id=\"addModalLabel\">Thêm mới voucher</h5>\r\n                                        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                                            <span aria-hidden=\"true\">&times;</span>\r\n                                        </button>\r\n                                    </div>\r\n\r\n                                    <div class=\"modal-body\">\r\n                                        <div class=\"card\">\r\n                                            <div class=\"card-header\">\r\n                                                <strong>Thêm voucher</strong>\r\n                                            </div>\r\n                                            <div class=\"card-body card-block\">\r\n                                                <div class=\"form-group row\">\r\n                                                    <label class=\"col-sm-2 col-form-label font-weight-bold\">Tên\r\n                                                        voucher</label>\r\n                                                    <div class=\"col-sm-10\">\r\n                                                        <input type=\"text\" class=\"form-control\" name=\"name\"\r\n                                                               id=\"name\"\r\n                                                               oninput=\"onInputText('errorName')\">\r\n                                                        <small class=\"\" style=\"color: red\"\r\n                                                               id=\"errorName\"></small>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div class=\"form-group row\">\r\n                                                    <label class=\"col-sm-2 col-form-label font-weight-bold\">Số\r\n                                                        lượng</label>\r\n                                                    <div class=\"col-sm-10\">\r\n                                                        <input type=\"text\" class=\"form-control\" name=\"quantity\"\r\n                                                               id=\"quantity\"\r\n                                                               oninput=\"onInputText('errorQuantity')\">\r\n                                                        <small class=\"\" style=\"color: red\"\r\n                                                               id=\"errorQuantity\"></small>\r\n                                                    </div>\r\n                                                </div>\r\n\r\n                                                <div class=\"form-group row\">\r\n                                                    <label class=\"col-sm-2 col-form-label font-weight-bold\">Giá tối\r\n                                                        thiểu</label>\r\n                                                    <div class=\"col-sm-10\">\r\n                                                        <input type=\"text\" class=\"form-control\" name=\"minimumPrice\"\r\n                                                               id=\"minimumPrice\"\r\n                                                               oninput=\"onInputText('errorMinimumPrice')\">\r\n                                                        <small class=\"\" style=\"color: red\"\r\n                                                               id=\"errorMinimumPrice\"></small>\r\n                                                    </div>\r\n                                                </div>\r\n\r\n                                                <div class=\"form-group row\">\r\n                                                    <label class=\"col-sm-2 col-form-label font-weight-bold\">Số tiền\r\n                                                        giảm</label>\r\n                                                    <div class=\"col-sm-10\">\r\n                                                        <input type=\"text\" class=\"form-control\" name=\"value\"\r\n                                                               id=\"value\"\r\n                                                               oninput=\"onInputText('errorValue')\">\r\n                                                        <small class=\"\" style=\"color: red\"\r\n                                                               id=\"errorValue\"></small>\r\n                                                    </div>\r\n                                                </div>\r\n\r\n                                                <div class=\"form-group row\">\r\n                                                    <label class=\"col-sm-2 col-form-label font-weight-bold\">Ngày bắt\r\n                                                        đầu</label>\r\n                                                    <div class=\"col-sm-10\">\r\n                                                        <div id=\"start-date-picker\"\r\n                                                             class=\"md-form md-outline input-with-post-icon datepicker\"\r\n                                                             inline=\"true\">\r\n                                                            <input placeholder=\"Choose start date\"\r\n                                                                   type=\"datetime-local\"\r\n                                                                   id=\"startDate\"\r\n                                                                   class=\"form-control\"\r\n                                                                   name=\"startDate\"\r\n\r\n                                                                   oninput=\"onInputText('errorStartDate')\"\r\n                                                            >\r\n\r\n                                                            <small class=\"\" style=\"color: red\"\r\n                                                                   id=\"errorStartDate\"></small>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n\r\n                                                <div class=\"form-group row\">\r\n                                                    <label class=\"col-sm-2 col-form-label font-weight-bold\">Ngày kết\r\n                                                        thúc</label>\r\n                                                    <div class=\"col-sm-10\">\r\n                                                        <div id=\"end-date-picker\"\r\n                                                             class=\"md-form md-outline input-with-post-icon datepicker\"\r\n                                                             inline=\"true\">\r\n                                                            <input placeholder=\"Choose start date\"\r\n                                                                   type=\"datetime-local\"\r\n                                                                   id=\"endDate\"\r\n                                                                   class=\"form-control\"\r\n                                                                   name=\"endDate\"\r\n                                                                   oninput=\"onInputText('errorEndDate')\"\r\n                                                            >\r\n                                                            <small class=\"\" style=\"color: red\"\r\n                                                                   id=\"errorEndDate\"></small>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div class=\"modal-footer\">\r\n                                                    <button type=\"button\" class=\"btn btn-secondary\"\r\n                                                            data-dismiss=\"modal\">Đóng\r\n                                                    </button>\r\n                                                    <button onclick=\"clickAdd('voucher', 'voucherForm')\"\r\n                                                            type=\"button\" class=\"btn btn-dark\"><i\r\n                                                            class=\"fa-solid fa-square-plus px-4\"></i>\r\n                                                    </button>\r\n                                                </div>\r\n                                                <script th:inline=\"javascript\">\r\n                                                    checkName = () => {\r\n                                                        let isName = document.getElementById('name').value\r\n                                                        if (isName.trim() === '') {\r\n                                                            document.getElementById('errorName').innerHTML = `Chưa nhập tên`\r\n                                                            return false;\r\n                                                        }\r\n                                                        return true;\r\n                                                    }\r\n\r\n                                                    checkQuantity = () => {\r\n                                                        let isQuantity = document.getElementById('quantity').value;\r\n                                                        if (!isNonNegativeInteger(isQuantity)) {\r\n                                                            document.getElementById('errorQuantity').innerHTML = 'Vui lòng nhập một số nguyên không âm';\r\n                                                            return false;\r\n                                                        }\r\n\r\n                                                        isQuantity = parseInt(isQuantity);\r\n\r\n                                                        if (isQuantity <= 0) {\r\n                                                            document.getElementById('errorQuantity').innerHTML = 'Số lượng phải lớn hơn   0';\r\n                                                            return false;\r\n                                                        }\r\n\r\n                                                        if (isQuantity > 100) {\r\n                                                            document.getElementById('errorQuantity').innerHTML = 'Số lượng voucher cao nhất là 100';\r\n                                                            return false;\r\n                                                        }\r\n\r\n                                                        return true;\r\n                                                    }\r\n\r\n                                                    function isNonNegativeInteger(value) {\r\n                                                        return /^\\d+$/.test(value);\r\n                                                    }\r\n\r\n                                                    checkValue = () => {\r\n                                                        let isValue = document.getElementById('value').value;\r\n                                                        let minimumPrice = document.getElementById('minimumPrice').value;\r\n\r\n                                                        if (!isNumeric(isValue)) {\r\n                                                            document.getElementById('errorValue').innerHTML = 'Vui lòng nhập một giá trị số';\r\n                                                            return false;\r\n                                                        }\r\n\r\n                                                        isValue = parseFloat(isValue);\r\n\r\n                                                        if (isValue <= 10000) {\r\n                                                            document.getElementById('errorValue').innerHTML = 'Số tiền giảm phải lớn hơn 10000đ';\r\n                                                            return false;\r\n                                                        }\r\n\r\n                                                        if (isValue !== '' && minimumPrice !== '' && isValue >= parseFloat(minimumPrice)) {\r\n                                                            document.getElementById('errorValue').innerHTML = 'Số tiền giảm phải nhỏ hơn giá tối thiểu.';\r\n                                                            return false;\r\n                                                        }\r\n\r\n                                                        return true;\r\n                                                    }\r\n\r\n                                                    checkMinimumPrice = () => {\r\n                                                        let isValue = document.getElementById('value').value;\r\n                                                        let isMinimumPrice = document.getElementById('minimumPrice').value;\r\n                                                        if (!isNumeric(isMinimumPrice)) {\r\n                                                            document.getElementById('errorMinimumPrice').innerHTML = 'Vui lòng nhập một giá trị số';\r\n                                                            return false;\r\n                                                        }\r\n\r\n                                                        isMinimumPrice = parseFloat(isMinimumPrice);\r\n\r\n                                                        if (isMinimumPrice < 100000) {\r\n                                                            document.getElementById('errorMinimumPrice').innerHTML = 'Giá trị tối thiểu lớn hơn 100000đ';\r\n                                                            return false;\r\n                                                        }\r\n\r\n                                                        if (isValue !== '' && isMinimumPrice !== '' && parseFloat(isValue) > isMinimumPrice) {\r\n                                                            document.getElementById('errorValue').innerHTML = 'Số tiền giảm phải nhỏ hơn hoặc bằng giá tối thiểu.';\r\n                                                            return false;\r\n                                                        }\r\n\r\n                                                        return true;\r\n                                                    }\r\n\r\n                                                    function isNumeric(value) {\r\n                                                        return !isNaN(parseFloat(value)) && isFinite(value);\r\n                                                    }\r\n\r\n                                                    checkStartDate = () => {\r\n                                                        let startDateInput = document.getElementById('startDate');\r\n                                                        let errorStartDate = document.getElementById('errorStartDate');\r\n\r\n                                                        let startDateValue = startDateInput.value.trim();\r\n                                                        if (startDateValue === '') {\r\n                                                            errorStartDate.innerHTML = `Chưa nhập ngày bắt đầu`;\r\n                                                            return false;\r\n                                                        }\r\n\r\n                                                        errorStartDate.innerHTML = '';\r\n                                                        return true;\r\n                                                    }\r\n\r\n                                                    checkEndDate = () => {\r\n                                                        let endDateInput = document.getElementById('endDate');\r\n                                                        let errorEndDate = document.getElementById('errorEndDate');\r\n\r\n                                                        let endDateValue = endDateInput.value.trim();\r\n                                                        if (endDateValue === '') {\r\n                                                            errorEndDate.innerHTML = `Chưa nhập ngày kết thúc`;\r\n                                                            return false;\r\n                                                        }\r\n\r\n                                                        let startDateValue = document.getElementById('startDate').value.trim();\r\n                                                        let startDate = new Date(startDateValue);\r\n                                                        let endDate = new Date(endDateValue);\r\n\r\n                                                        let currentDate = new Date();\r\n\r\n                                                        if (endDate <= startDate) {\r\n                                                            errorEndDate.innerHTML = `Ngày kết thúc phải lớn hơn ngày bắt đầu`;\r\n                                                            return false;\r\n                                                        }\r\n\r\n                                                        if (endDate <= currentDate) {\r\n                                                            errorEndDate.innerHTML = `Ngày kết thúc phải lớn hơn ngày hiện tại`;\r\n                                                            return false;\r\n                                                        }\r\n                                                        errorEndDate.innerHTML = '';\r\n                                                        return true;\r\n                                                    }\r\n\r\n                                                    validate = () => {\r\n                                                        let isName = checkName();\r\n                                                        let isQuantity = checkQuantity();\r\n                                                        let isValue = checkValue();\r\n                                                        let isMinimumPrice = checkMinimumPrice()\r\n                                                        let isStartDate = checkStartDate()\r\n                                                        let isEndDate = checkEndDate()\r\n                                                        if (isName === true && isQuantity === true && isValue === true && isMinimumPrice === true && isStartDate === true && isEndDate === true) {\r\n                                                            return true;\r\n                                                        }\r\n                                                    }\r\n\r\n                                                    clickAdd = (entity, idForm) => {\r\n                                                        if (validate()) {\r\n                                                            Swal.fire({\r\n                                                                title: \"Thêm dữ liệu\",\r\n                                                                text: \"Bạn có muốn thêm dữ liệu không ?\",\r\n                                                                icon: \"question\",\r\n                                                                showCancelButton: true,\r\n                                                                confirmButtonColor: \"#0DC149\",\r\n                                                                cancelButtonColor: \"#d33\",\r\n                                                                confirmButtonText: \"Có\",\r\n                                                                cancelButtonText: \"Không\",\r\n                                                                allowOutsideClick: false\r\n                                                            }).then((add) => {\r\n                                                                if (add.isConfirmed) {\r\n                                                                    document.getElementById(idForm).action = '/tiger/' + entity + '/add'\r\n                                                                    document.getElementById(idForm).method = 'post'\r\n                                                                    document.getElementById(idForm).submit()\r\n                                                                }\r\n                                                            });\r\n                                                        }\r\n\r\n                                                    }\r\n                                                </script>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class=\"col\">\r\n        <div class=\"card\">\r\n            <div class=\"card-header\" th:if=\"${pageVoucher.isEmpty()}\">\r\n                <strong class=\"card-title\">KHÔNG CÓ DỮ LIỆU</strong>\r\n            </div>\r\n            <div th:if=\"${not pageVoucher.isEmpty()}\">\r\n                <div class=\"card-header\">\r\n                    <strong>CÓ</strong>\r\n                    <strong class=\"card-title\" th:text=\"${pageVoucher.getTotalElements()}\"></strong>\r\n                    <strong class=\"card-title\"> BẢN GHI</strong>\r\n                </div>\r\n                <div class=\"card-body\">\r\n                    <form id=\"voucherDelete\">\r\n                        <table class=\"table text-center\">\r\n                            <thead class=\"thead-dark\">\r\n                            <tr>\r\n                                <th scope=\"col\">Mã voucher</th>\r\n                                <th scope=\"col\">Tên voucher</th>\r\n                                <th scope=\"col\">Số lượng</th>\r\n                                <th scope=\"col\">Giá trị giảm</th>\r\n                                <th scope=\"col\">Giá thấp nhất</th>\r\n                                <th scope=\"col\">Ngày bắt đầu</th>\r\n                                <th scope=\"col\">Ngày kết thúc</th>\r\n                                <th scope=\"col\">Trạng thái</th>\r\n                                <th scope=\"col\">Chức năng</th>\r\n                            </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                            <tr th:each=\"items:${pageVoucher}\">\r\n                                <td th:text=\"${items.code}\"></td>\r\n                                <td th:text=\"${items.name}\"></td>\r\n                                <td th:text=\"${items.quantity}\"></td>\r\n                                <td th:text=\"${#numbers.formatDecimal(items.value, 0, 0)}\"></td>\r\n                                <td th:text=\"${#numbers.formatDecimal(items.minimumPrice, 0, 0)}\"></td>\r\n                                <td th:text=\"${#dates.format(items.startDate, 'dd-MM-yyyy HH:mm:ss')}\"></td>\r\n                                <td th:text=\"${#dates.format(items.endDate, 'dd-MM-yyyy HH:mm:ss')}\"></td>\r\n                                <td>\r\n                                    <span th:if=\"${items.status == 1}\">Hoạt động</span>\r\n                                    <span th:if=\"${items.status == 2}\">Đang chờ</span>\r\n                                </td>\r\n                                <td class=\"d-flex justify-content-center\">\r\n                                    <div class=\"dropdown\">\r\n                                        <button class=\"btn btn-dark\" type=\"button\"\r\n                                                id=\"dropdownMenuButton\" data-toggle=\"dropdown\"\r\n                                                aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                                            <i class=\"fa-solid fa-ellipsis-vertical\"></i>\r\n                                        </button>\r\n                                        <div class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\r\n                                            <a class=\"dropdown-item\"\r\n                                               th:href=\"@{'/tiger/voucher/detail/' + ${items.id}}\">\r\n                                                <i class=\"fa-solid fa-pen mr-3\"></i>Sửa</a>\r\n                                            <button\r\n                                                    th:onclick=\"clickDelete('voucher', 'voucherDelete', [[${items.id}]])\"\r\n                                                    type=\"button\" class=\"dropdown-item\"><i\r\n                                                    class=\"fa-solid fa-trash mr-3\"></i>Xóa\r\n                                            </button>\r\n                                        </div>\r\n                                    </div>\r\n                                </td>\r\n                            </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </form>\r\n                    <div class=\"d-flex justify-content-center align-items-center\">\r\n                        <div th:if=\"${pageVoucher.getNumber() + 1 > 1}\" class=\"btn btn-dark mr-1\">\r\n                            <a th:href=\"@{|?page=0&voucherNameSearch=${voucherNameSearch}|}\">\r\n                                </i><i style=\"color: white\" class=\"fa-solid fa-backward-fast\"></i></a>\r\n                        </div>\r\n                        <div th:if=\"${pageVoucher.getNumber() + 1 > 1}\" class=\"btn btn-dark mr-1\">\r\n                            <a th:href=\"@{|?page=${pageVoucher.getNumber() - 1}&voucherNameSearch=${voucherNameSearch}|}\">\r\n                                <i style=\"color: white\" class=\"fa-solid fa-left-long\"></i></a>\r\n                        </div>\r\n                        <div class=\"btn btn-dark d-flex\">\r\n                            <div th:text=\"${pageVoucher.getNumber() + 1}\"></div>\r\n                            <span>/</span>\r\n                            <div th:text=\"${pageVoucher.getTotalPages()}\"></div>\r\n                        </div>\r\n                        <div th:if=\"${pageVoucher.getNumber() + 1 lt pageVoucher.getTotalPages()}\"\r\n                             class=\"btn btn-dark ml-1\">\r\n                            <a th:href=\"@{|?page=${pageVoucher.getNumber()+1}&voucherNameSearch=${voucherNameSearch}|}\">\r\n                                <i style=\"color: white\" class=\"fa-solid fa-left-long fa-rotate-180\"></i></a>\r\n                        </div>\r\n                        <div th:if=\"${pageVoucher.getNumber() + 1 lt pageVoucher.getTotalPages()}\"\r\n                             class=\"btn btn-dark ml-1\">\r\n                            <a th:href=\"@{|?page=${pageVoucher.getTotalPages()-1}&voucherNameSearch=${voucherNameSearch}|}\">\r\n                                <i style=\"color: white\" class=\"fa-solid fa-forward-fast\"></i></a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n</body>\r\n</html>\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/resources/templates/admin/voucher/voucher.html b/src/main/resources/templates/admin/voucher/voucher.html
--- a/src/main/resources/templates/admin/voucher/voucher.html	(revision a3f2f4fe416fb7db81751953dbcaea2f7d6afbda)
+++ b/src/main/resources/templates/admin/voucher/voucher.html	(date 1725264597980)
@@ -57,6 +57,7 @@
                             <label>Trạng thái</label>
                             <select class="form-control" name="status" th:value="${status}">
                                 <option value="">Tất cả</option>
+                                <option  value="0" th:selected="${status == 0}">Ngưng hoạt động</option>
                                 <option  value="1" th:selected="${status == 1}">Hoạt động</option>
                                 <option value="2" th:selected="${status == 2}">Đang chờ</option>
                             </select>
@@ -421,6 +422,7 @@
                                 <td th:text="${#dates.format(items.startDate, 'dd-MM-yyyy HH:mm:ss')}"></td>
                                 <td th:text="${#dates.format(items.endDate, 'dd-MM-yyyy HH:mm:ss')}"></td>
                                 <td>
+                                    <span th:if="${items.status == 0}">Ngưng hoạt động</span>
                                     <span th:if="${items.status == 1}">Hoạt động</span>
                                     <span th:if="${items.status == 2}">Đang chờ</span>
                                 </td>
Index: target/classes/templates/admin/voucher/voucher.html
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><!DOCTYPE html>\r\n<html lang=\"en\" xmlns:th=\"http://www.thymeleaf.org\" xmlns:layout=\"http://www.ultraq.net.nz/thymeleaf/layout\"\r\n      layout:decorate=\"~{admin/admin-layout.html}\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <title>Voucher Management</title>\r\n</head>\r\n<body>\r\n<div layout:fragment=\"content\">\r\n    <div class=\"col\">\r\n        <div class=\"card\">\r\n            <div class=\"card-header\">\r\n                <h5 style=\"font-weight: bold\">VOUCHER</h5>\r\n            </div>\r\n            <!--            Notification-->\r\n            <div th:if=\"${mess}\">\r\n                <button hidden id=\"btnSuccess\" th:onclick=\"alertSuccess([[${mess}]])\">Click Me</button>\r\n                <script th:inline=\"javascript\">\r\n                    window.onload = function () {\r\n                        var btnSuccess = document.getElementById(\"btnSuccess\");\r\n                        btnSuccess.click();\r\n                    }\r\n                    alertSuccess = (content) => {\r\n                        Swal.fire({\r\n                            title: content,\r\n                            icon: \"success\",\r\n                            confirmButtonColor: \"#0DC149\"\r\n                        });\r\n                    }\r\n                </script>\r\n            </div>\r\n            <div th:if=\"${error}\">\r\n                <button hidden id=\"btnError\" th:onclick=\"alertError1([[${error}]])\">Click Me</button>\r\n                <script th:inline=\"javascript\">\r\n                    window.onload = function () {\r\n                        var btnError = document.getElementById(\"btnError\");\r\n                        btnError.click();\r\n                    }\r\n                    alertError1 = (content) => {\r\n                        Swal.fire({\r\n                            title: \"Lỗi\",\r\n                            text: content,\r\n                            icon: \"error\",\r\n                            confirmButtonColor: \"#d33\"\r\n                        });\r\n                    }\r\n                </script>\r\n            </div>\r\n            <div class=\"card-body card-block\">\r\n                <form th:action=\"@{/tiger/voucher/search}\" method=\"get\">\r\n                    <div class=\"form-row\">\r\n                        <div class=\"form-group col-md-3\">\r\n                            <label >Mã voucher</label>\r\n                            <input type=\"text\" class=\"form-control\" name=\"code\" th:value=\"${code}\">\r\n                        </div>\r\n                        <div class=\"form-group col-md-2\">\r\n                            <label>Trạng thái</label>\r\n                            <select class=\"form-control\" name=\"status\" th:value=\"${status}\">\r\n                                <option value=\"\">Tất cả</option>\r\n                                <option  value=\"1\" th:selected=\"${status == 1}\">Hoạt động</option>\r\n                                <option value=\"2\" th:selected=\"${status == 2}\">Đang chờ</option>\r\n                            </select>\r\n                        </div>\r\n                        <div class=\"form-group col-md-3\">\r\n                            <label for=\"name\">Tên voucher</label>\r\n                            <input type=\"text\" class=\"form-control\" name=\"name\" th:value=\"${name}\">\r\n                        </div>\r\n\r\n                        <div class=\"form-group col-md-3\">\r\n                            <label>Khoảng ngày kết thúc</label>\r\n                            <div class=\"form-row\">\r\n                                <div class=\"col-md-6\">\r\n                                    <input type=\"date\" class=\"form-control\" name=\"ngayTaoStart\"\r\n                                           th:value=\"${ngayTaoStart}\">\r\n                                </div>\r\n                                <div class=\"col-md-6\">\r\n                                    <input type=\"date\" class=\"form-control\" name=\"ngayTaoEnd\" th:value=\"${ngayTaoEnd}\">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group col-md-1\" style=\"margin-top: 30px\">\r\n                            <button type=\"submit\" class=\"btn btn-dark \"><i class=\"fas fa-search px-4\"></i></button>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n                <form id=\"voucherForm\" th:action=\"@{/tiger/voucher/add}\" th:object=\"${voucher}\" method=\"post\"\r\n                      class=\"form-horizontal\">\r\n                    <div class=\"d-flex\">\r\n                        <div class=\"\">\r\n                            <button type=\"button\" class=\"btn btn-dark\" data-toggle=\"modal\" data-target=\"#addModal\">\r\n                                <i class=\"fa-solid fa-square-plus px-4\"></i>\r\n                            </button>\r\n                        </div>\r\n\r\n                        <!-- Modal -->\r\n                        <div class=\"modal fade\" id=\"addModal\" tabindex=\"-1\" role=\"dialog\"\r\n                             aria-labelledby=\"addModalLabel\"\r\n                             aria-hidden=\"true\">\r\n                            <div class=\"modal-dialog modal-dialog-centered modal-lg \" role=\"document\">\r\n                                <div class=\"modal-content\">\r\n                                    <div class=\"modal-header\">\r\n                                        <h5 class=\"modal-title\" id=\"addModalLabel\">Thêm mới voucher</h5>\r\n                                        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                                            <span aria-hidden=\"true\">&times;</span>\r\n                                        </button>\r\n                                    </div>\r\n\r\n                                    <div class=\"modal-body\">\r\n                                        <div class=\"card\">\r\n                                            <div class=\"card-header\">\r\n                                                <strong>Thêm voucher</strong>\r\n                                            </div>\r\n                                            <div class=\"card-body card-block\">\r\n                                                <div class=\"form-group row\">\r\n                                                    <label class=\"col-sm-2 col-form-label font-weight-bold\">Tên\r\n                                                        voucher</label>\r\n                                                    <div class=\"col-sm-10\">\r\n                                                        <input type=\"text\" class=\"form-control\" name=\"name\"\r\n                                                               id=\"name\"\r\n                                                               oninput=\"onInputText('errorName')\">\r\n                                                        <small class=\"\" style=\"color: red\"\r\n                                                               id=\"errorName\"></small>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div class=\"form-group row\">\r\n                                                    <label class=\"col-sm-2 col-form-label font-weight-bold\">Số\r\n                                                        lượng</label>\r\n                                                    <div class=\"col-sm-10\">\r\n                                                        <input type=\"text\" class=\"form-control\" name=\"quantity\"\r\n                                                               id=\"quantity\"\r\n                                                               oninput=\"onInputText('errorQuantity')\">\r\n                                                        <small class=\"\" style=\"color: red\"\r\n                                                               id=\"errorQuantity\"></small>\r\n                                                    </div>\r\n                                                </div>\r\n\r\n                                                <div class=\"form-group row\">\r\n                                                    <label class=\"col-sm-2 col-form-label font-weight-bold\">Giá tối\r\n                                                        thiểu</label>\r\n                                                    <div class=\"col-sm-10\">\r\n                                                        <input type=\"text\" class=\"form-control\" name=\"minimumPrice\"\r\n                                                               id=\"minimumPrice\"\r\n                                                               oninput=\"onInputText('errorMinimumPrice')\">\r\n                                                        <small class=\"\" style=\"color: red\"\r\n                                                               id=\"errorMinimumPrice\"></small>\r\n                                                    </div>\r\n                                                </div>\r\n\r\n                                                <div class=\"form-group row\">\r\n                                                    <label class=\"col-sm-2 col-form-label font-weight-bold\">Số tiền\r\n                                                        giảm</label>\r\n                                                    <div class=\"col-sm-10\">\r\n                                                        <input type=\"text\" class=\"form-control\" name=\"value\"\r\n                                                               id=\"value\"\r\n                                                               oninput=\"onInputText('errorValue')\">\r\n                                                        <small class=\"\" style=\"color: red\"\r\n                                                               id=\"errorValue\"></small>\r\n                                                    </div>\r\n                                                </div>\r\n\r\n                                                <div class=\"form-group row\">\r\n                                                    <label class=\"col-sm-2 col-form-label font-weight-bold\">Ngày bắt\r\n                                                        đầu</label>\r\n                                                    <div class=\"col-sm-10\">\r\n                                                        <div id=\"start-date-picker\"\r\n                                                             class=\"md-form md-outline input-with-post-icon datepicker\"\r\n                                                             inline=\"true\">\r\n                                                            <input placeholder=\"Choose start date\"\r\n                                                                   type=\"datetime-local\"\r\n                                                                   id=\"startDate\"\r\n                                                                   class=\"form-control\"\r\n                                                                   name=\"startDate\"\r\n\r\n                                                                   oninput=\"onInputText('errorStartDate')\"\r\n                                                            >\r\n\r\n                                                            <small class=\"\" style=\"color: red\"\r\n                                                                   id=\"errorStartDate\"></small>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n\r\n                                                <div class=\"form-group row\">\r\n                                                    <label class=\"col-sm-2 col-form-label font-weight-bold\">Ngày kết\r\n                                                        thúc</label>\r\n                                                    <div class=\"col-sm-10\">\r\n                                                        <div id=\"end-date-picker\"\r\n                                                             class=\"md-form md-outline input-with-post-icon datepicker\"\r\n                                                             inline=\"true\">\r\n                                                            <input placeholder=\"Choose start date\"\r\n                                                                   type=\"datetime-local\"\r\n                                                                   id=\"endDate\"\r\n                                                                   class=\"form-control\"\r\n                                                                   name=\"endDate\"\r\n                                                                   oninput=\"onInputText('errorEndDate')\"\r\n                                                            >\r\n                                                            <small class=\"\" style=\"color: red\"\r\n                                                                   id=\"errorEndDate\"></small>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div class=\"modal-footer\">\r\n                                                    <button type=\"button\" class=\"btn btn-secondary\"\r\n                                                            data-dismiss=\"modal\">Đóng\r\n                                                    </button>\r\n                                                    <button onclick=\"clickAdd('voucher', 'voucherForm')\"\r\n                                                            type=\"button\" class=\"btn btn-dark\"><i\r\n                                                            class=\"fa-solid fa-square-plus px-4\"></i>\r\n                                                    </button>\r\n                                                </div>\r\n                                                <script th:inline=\"javascript\">\r\n                                                    checkName = () => {\r\n                                                        let isName = document.getElementById('name').value\r\n                                                        if (isName.trim() === '') {\r\n                                                            document.getElementById('errorName').innerHTML = `Chưa nhập tên`\r\n                                                            return false;\r\n                                                        }\r\n                                                        return true;\r\n                                                    }\r\n\r\n                                                    checkQuantity = () => {\r\n                                                        let isQuantity = document.getElementById('quantity').value;\r\n                                                        if (!isNonNegativeInteger(isQuantity)) {\r\n                                                            document.getElementById('errorQuantity').innerHTML = 'Vui lòng nhập một số nguyên không âm';\r\n                                                            return false;\r\n                                                        }\r\n\r\n                                                        isQuantity = parseInt(isQuantity);\r\n\r\n                                                        if (isQuantity <= 0) {\r\n                                                            document.getElementById('errorQuantity').innerHTML = 'Số lượng phải lớn hơn   0';\r\n                                                            return false;\r\n                                                        }\r\n\r\n                                                        if (isQuantity > 100) {\r\n                                                            document.getElementById('errorQuantity').innerHTML = 'Số lượng voucher cao nhất là 100';\r\n                                                            return false;\r\n                                                        }\r\n\r\n                                                        return true;\r\n                                                    }\r\n\r\n                                                    function isNonNegativeInteger(value) {\r\n                                                        return /^\\d+$/.test(value);\r\n                                                    }\r\n\r\n                                                    checkValue = () => {\r\n                                                        let isValue = document.getElementById('value').value;\r\n                                                        let minimumPrice = document.getElementById('minimumPrice').value;\r\n\r\n                                                        if (!isNumeric(isValue)) {\r\n                                                            document.getElementById('errorValue').innerHTML = 'Vui lòng nhập một giá trị số';\r\n                                                            return false;\r\n                                                        }\r\n\r\n                                                        isValue = parseFloat(isValue);\r\n\r\n                                                        if (isValue <= 10000) {\r\n                                                            document.getElementById('errorValue').innerHTML = 'Số tiền giảm phải lớn hơn 10000đ';\r\n                                                            return false;\r\n                                                        }\r\n\r\n                                                        if (isValue !== '' && minimumPrice !== '' && isValue >= parseFloat(minimumPrice)) {\r\n                                                            document.getElementById('errorValue').innerHTML = 'Số tiền giảm phải nhỏ hơn giá tối thiểu.';\r\n                                                            return false;\r\n                                                        }\r\n\r\n                                                        return true;\r\n                                                    }\r\n\r\n                                                    checkMinimumPrice = () => {\r\n                                                        let isValue = document.getElementById('value').value;\r\n                                                        let isMinimumPrice = document.getElementById('minimumPrice').value;\r\n                                                        if (!isNumeric(isMinimumPrice)) {\r\n                                                            document.getElementById('errorMinimumPrice').innerHTML = 'Vui lòng nhập một giá trị số';\r\n                                                            return false;\r\n                                                        }\r\n\r\n                                                        isMinimumPrice = parseFloat(isMinimumPrice);\r\n\r\n                                                        if (isMinimumPrice < 100000) {\r\n                                                            document.getElementById('errorMinimumPrice').innerHTML = 'Giá trị tối thiểu lớn hơn 100000đ';\r\n                                                            return false;\r\n                                                        }\r\n\r\n                                                        if (isValue !== '' && isMinimumPrice !== '' && parseFloat(isValue) > isMinimumPrice) {\r\n                                                            document.getElementById('errorValue').innerHTML = 'Số tiền giảm phải nhỏ hơn hoặc bằng giá tối thiểu.';\r\n                                                            return false;\r\n                                                        }\r\n\r\n                                                        return true;\r\n                                                    }\r\n\r\n                                                    function isNumeric(value) {\r\n                                                        return !isNaN(parseFloat(value)) && isFinite(value);\r\n                                                    }\r\n\r\n                                                    checkStartDate = () => {\r\n                                                        let startDateInput = document.getElementById('startDate');\r\n                                                        let errorStartDate = document.getElementById('errorStartDate');\r\n\r\n                                                        let startDateValue = startDateInput.value.trim();\r\n                                                        if (startDateValue === '') {\r\n                                                            errorStartDate.innerHTML = `Chưa nhập ngày bắt đầu`;\r\n                                                            return false;\r\n                                                        }\r\n\r\n                                                        errorStartDate.innerHTML = '';\r\n                                                        return true;\r\n                                                    }\r\n\r\n                                                    checkEndDate = () => {\r\n                                                        let endDateInput = document.getElementById('endDate');\r\n                                                        let errorEndDate = document.getElementById('errorEndDate');\r\n\r\n                                                        let endDateValue = endDateInput.value.trim();\r\n                                                        if (endDateValue === '') {\r\n                                                            errorEndDate.innerHTML = `Chưa nhập ngày kết thúc`;\r\n                                                            return false;\r\n                                                        }\r\n\r\n                                                        let startDateValue = document.getElementById('startDate').value.trim();\r\n                                                        let startDate = new Date(startDateValue);\r\n                                                        let endDate = new Date(endDateValue);\r\n\r\n                                                        let currentDate = new Date();\r\n\r\n                                                        if (endDate <= startDate) {\r\n                                                            errorEndDate.innerHTML = `Ngày kết thúc phải lớn hơn ngày bắt đầu`;\r\n                                                            return false;\r\n                                                        }\r\n\r\n                                                        if (endDate <= currentDate) {\r\n                                                            errorEndDate.innerHTML = `Ngày kết thúc phải lớn hơn ngày hiện tại`;\r\n                                                            return false;\r\n                                                        }\r\n                                                        errorEndDate.innerHTML = '';\r\n                                                        return true;\r\n                                                    }\r\n\r\n                                                    validate = () => {\r\n                                                        let isName = checkName();\r\n                                                        let isQuantity = checkQuantity();\r\n                                                        let isValue = checkValue();\r\n                                                        let isMinimumPrice = checkMinimumPrice()\r\n                                                        let isStartDate = checkStartDate()\r\n                                                        let isEndDate = checkEndDate()\r\n                                                        if (isName === true && isQuantity === true && isValue === true && isMinimumPrice === true && isStartDate === true && isEndDate === true) {\r\n                                                            return true;\r\n                                                        }\r\n                                                    }\r\n\r\n                                                    clickAdd = (entity, idForm) => {\r\n                                                        if (validate()) {\r\n                                                            Swal.fire({\r\n                                                                title: \"Thêm dữ liệu\",\r\n                                                                text: \"Bạn có muốn thêm dữ liệu không ?\",\r\n                                                                icon: \"question\",\r\n                                                                showCancelButton: true,\r\n                                                                confirmButtonColor: \"#0DC149\",\r\n                                                                cancelButtonColor: \"#d33\",\r\n                                                                confirmButtonText: \"Có\",\r\n                                                                cancelButtonText: \"Không\",\r\n                                                                allowOutsideClick: false\r\n                                                            }).then((add) => {\r\n                                                                if (add.isConfirmed) {\r\n                                                                    document.getElementById(idForm).action = '/tiger/' + entity + '/add'\r\n                                                                    document.getElementById(idForm).method = 'post'\r\n                                                                    document.getElementById(idForm).submit()\r\n                                                                }\r\n                                                            });\r\n                                                        }\r\n\r\n                                                    }\r\n                                                </script>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class=\"col\">\r\n        <div class=\"card\">\r\n            <div class=\"card-header\" th:if=\"${pageVoucher.isEmpty()}\">\r\n                <strong class=\"card-title\">KHÔNG CÓ DỮ LIỆU</strong>\r\n            </div>\r\n            <div th:if=\"${not pageVoucher.isEmpty()}\">\r\n                <div class=\"card-header\">\r\n                    <strong>CÓ</strong>\r\n                    <strong class=\"card-title\" th:text=\"${pageVoucher.getTotalElements()}\"></strong>\r\n                    <strong class=\"card-title\"> BẢN GHI</strong>\r\n                </div>\r\n                <div class=\"card-body\">\r\n                    <form id=\"voucherDelete\">\r\n                        <table class=\"table text-center\">\r\n                            <thead class=\"thead-dark\">\r\n                            <tr>\r\n                                <th scope=\"col\">Mã voucher</th>\r\n                                <th scope=\"col\">Tên voucher</th>\r\n                                <th scope=\"col\">Số lượng</th>\r\n                                <th scope=\"col\">Giá trị giảm</th>\r\n                                <th scope=\"col\">Giá thấp nhất</th>\r\n                                <th scope=\"col\">Ngày bắt đầu</th>\r\n                                <th scope=\"col\">Ngày kết thúc</th>\r\n                                <th scope=\"col\">Trạng thái</th>\r\n                                <th scope=\"col\">Chức năng</th>\r\n                            </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                            <tr th:each=\"items:${pageVoucher}\">\r\n                                <td th:text=\"${items.code}\"></td>\r\n                                <td th:text=\"${items.name}\"></td>\r\n                                <td th:text=\"${items.quantity}\"></td>\r\n                                <td th:text=\"${#numbers.formatDecimal(items.value, 0, 0)}\"></td>\r\n                                <td th:text=\"${#numbers.formatDecimal(items.minimumPrice, 0, 0)}\"></td>\r\n                                <td th:text=\"${#dates.format(items.startDate, 'dd-MM-yyyy HH:mm:ss')}\"></td>\r\n                                <td th:text=\"${#dates.format(items.endDate, 'dd-MM-yyyy HH:mm:ss')}\"></td>\r\n                                <td>\r\n                                    <span th:if=\"${items.status == 1}\">Hoạt động</span>\r\n                                    <span th:if=\"${items.status == 2}\">Đang chờ</span>\r\n                                </td>\r\n                                <td class=\"d-flex justify-content-center\">\r\n                                    <div class=\"dropdown\">\r\n                                        <button class=\"btn btn-dark\" type=\"button\"\r\n                                                id=\"dropdownMenuButton\" data-toggle=\"dropdown\"\r\n                                                aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                                            <i class=\"fa-solid fa-ellipsis-vertical\"></i>\r\n                                        </button>\r\n                                        <div class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\r\n                                            <a class=\"dropdown-item\"\r\n                                               th:href=\"@{'/tiger/voucher/detail/' + ${items.id}}\">\r\n                                                <i class=\"fa-solid fa-pen mr-3\"></i>Sửa</a>\r\n                                            <button\r\n                                                    th:onclick=\"clickDelete('voucher', 'voucherDelete', [[${items.id}]])\"\r\n                                                    type=\"button\" class=\"dropdown-item\"><i\r\n                                                    class=\"fa-solid fa-trash mr-3\"></i>Xóa\r\n                                            </button>\r\n                                        </div>\r\n                                    </div>\r\n                                </td>\r\n                            </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </form>\r\n                    <div class=\"d-flex justify-content-center align-items-center\">\r\n                        <div th:if=\"${pageVoucher.getNumber() + 1 > 1}\" class=\"btn btn-dark mr-1\">\r\n                            <a th:href=\"@{|?page=0&voucherNameSearch=${voucherNameSearch}|}\">\r\n                                </i><i style=\"color: white\" class=\"fa-solid fa-backward-fast\"></i></a>\r\n                        </div>\r\n                        <div th:if=\"${pageVoucher.getNumber() + 1 > 1}\" class=\"btn btn-dark mr-1\">\r\n                            <a th:href=\"@{|?page=${pageVoucher.getNumber() - 1}&voucherNameSearch=${voucherNameSearch}|}\">\r\n                                <i style=\"color: white\" class=\"fa-solid fa-left-long\"></i></a>\r\n                        </div>\r\n                        <div class=\"btn btn-dark d-flex\">\r\n                            <div th:text=\"${pageVoucher.getNumber() + 1}\"></div>\r\n                            <span>/</span>\r\n                            <div th:text=\"${pageVoucher.getTotalPages()}\"></div>\r\n                        </div>\r\n                        <div th:if=\"${pageVoucher.getNumber() + 1 lt pageVoucher.getTotalPages()}\"\r\n                             class=\"btn btn-dark ml-1\">\r\n                            <a th:href=\"@{|?page=${pageVoucher.getNumber()+1}&voucherNameSearch=${voucherNameSearch}|}\">\r\n                                <i style=\"color: white\" class=\"fa-solid fa-left-long fa-rotate-180\"></i></a>\r\n                        </div>\r\n                        <div th:if=\"${pageVoucher.getNumber() + 1 lt pageVoucher.getTotalPages()}\"\r\n                             class=\"btn btn-dark ml-1\">\r\n                            <a th:href=\"@{|?page=${pageVoucher.getTotalPages()-1}&voucherNameSearch=${voucherNameSearch}|}\">\r\n                                <i style=\"color: white\" class=\"fa-solid fa-forward-fast\"></i></a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n</body>\r\n</html>\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/target/classes/templates/admin/voucher/voucher.html b/target/classes/templates/admin/voucher/voucher.html
--- a/target/classes/templates/admin/voucher/voucher.html	(revision a3f2f4fe416fb7db81751953dbcaea2f7d6afbda)
+++ b/target/classes/templates/admin/voucher/voucher.html	(date 1725264597980)
@@ -57,6 +57,7 @@
                             <label>Trạng thái</label>
                             <select class="form-control" name="status" th:value="${status}">
                                 <option value="">Tất cả</option>
+                                <option  value="0" th:selected="${status == 0}">Ngưng hoạt động</option>
                                 <option  value="1" th:selected="${status == 1}">Hoạt động</option>
                                 <option value="2" th:selected="${status == 2}">Đang chờ</option>
                             </select>
@@ -421,6 +422,7 @@
                                 <td th:text="${#dates.format(items.startDate, 'dd-MM-yyyy HH:mm:ss')}"></td>
                                 <td th:text="${#dates.format(items.endDate, 'dd-MM-yyyy HH:mm:ss')}"></td>
                                 <td>
+                                    <span th:if="${items.status == 0}">Ngưng hoạt động</span>
                                     <span th:if="${items.status == 1}">Hoạt động</span>
                                     <span th:if="${items.status == 2}">Đang chờ</span>
                                 </td>
Index: src/main/resources/templates/user/cart.html
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><!DOCTYPE html>\r\n<html lang=\"en\" xmlns:th=\"http://www.thymeleaf.org\">\r\n\r\n<head th:replace=\"~{/user/fragments::head}\">\r\n</head>\r\n\r\n<body>\r\n\r\n    <div th:replace=\"~{/user/fragments::header}\"></div>\r\n    <!-- Cart Start -->\r\n    <!--     Page Header Start -->\r\n    <div class=\"container-fluid mb-5\" style=\"background: #00aa88\">\r\n        <div class=\"d-flex flex-column align-items-center justify-content-center\" style=\"min-height: 300px\">\r\n            <h1 class=\"font-weight-semi-bold text-uppercase mb-3\">Giỏ hàng</h1>\r\n            <div class=\"d-inline-flex\">\r\n                <p class=\"m-0\"><a href=\"/home\">Trang chủ</a></p>\r\n                <p class=\"m-0 px-2\">-</p>\r\n                <p class=\"m-0\">Giỏ hàng</p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <!--     Page Header End -->\r\n\r\n\r\n    <div class=\"container-fluid pt-5\">\r\n        <div th:if=\"${mess}\">\r\n            <button hidden id=\"btnSuccess\" th:onclick=\"alertSuccess([[${mess}]])\">Click Me</button>\r\n            <script th:inline=\"javascript\">\r\n                window.onload = function () {\r\n                    var btnSuccess = document.getElementById(\"btnSuccess\");\r\n                    btnSuccess.click();\r\n                }\r\n                alertSuccess = (content) => {\r\n                    Swal.fire({\r\n                        title: content,\r\n                        icon: \"success\",\r\n                        confirmButtonColor: \"#0DC149\"\r\n                    });\r\n                }\r\n            </script>\r\n        </div>\r\n\r\n        <div th:if=\"${error}\">\r\n            <button hidden id=\"btnError\" th:onclick=\"alertError([[${error}]])\">Click Me</button>\r\n            <script th:inline=\"javascript\">\r\n                window.onload = function () {\r\n                    var btnError = document.getElementById(\"btnError\");\r\n                    btnError.click();\r\n                }\r\n                alertError = (content) => {\r\n                    Swal.fire({\r\n                        title: \"Lỗi\",\r\n                        text: content,\r\n                        icon: \"error\",\r\n                        confirmButtonColor: \"#d33\"\r\n                    });\r\n                }\r\n            </script>\r\n        </div>\r\n        <div th:if=\"${check}\">\r\n            <h4 class=\"text-center\" style=\"color: darkslategray\" th:text=\"${check}\"><i class=\"text-info font-weight-bold text-center\"></i></h4>\r\n        </div>\r\n        <div th:if=\"${check}\" class=\"text-center\">\r\n            <a th:href=\"@{/shop}\" class=\"btn btn-success\">MUA NGAY</a>\r\n        </div>\r\n        <div class=\"row px-xl-5\">\r\n            <div class=\"col-lg-9 table-responsive mb-5\">\r\n                <table class=\"table table-bordered text-center mb-0\" th:if=\"${grandTotal}\">\r\n                    <thead class=\"bg-secondary text-dark\">\r\n                        <tr>\r\n                            <th></th>\r\n                            <th>Mã</th>\r\n                            <th>Tên sản phẩm</th>\r\n                            <th>Phân loại sản phẩm</th>\r\n                            <th>Đơn giá</th>\r\n                            <th>Số lượng</th>\r\n                            <th>Số tiền</th>\r\n                            <th>Thao tác</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody class=\"align-middle\">\r\n                        <tr th:each=\"cartItem : ${cart.cartDetails}\">\r\n                            <td class=\"align-middle\"><img th:src=\"@{'/image/product/' + ${cartItem.getProductDetail().product.id}}\" alt=\"\" style=\"width: 50px;\"></td>\r\n                            <td class=\"align-middle\" th:text=\"${cartItem.productDetail.code}\"></td>\r\n                            <td class=\"align-middle\" th:text=\"${cartItem.productDetail.product.name}\"></td>\r\n                            <td class=\"align-middle\"\r\n                                th:text=\"'Màu: ' + ${cartItem.productDetail.color.name}\r\n                                + ', ' + 'Kích cỡ: ' + ${cartItem.productDetail.size.name}\"></td>\r\n                            <td class=\"align-middle\"\r\n                                th:text=\"'₫' + ${#numbers.formatDecimal(cartItem.price, 0, 'COMMA', 0, 'POINT')}\"></td>\r\n                            <form th:action=\"@{/update-cart}\" method=\"post\" name=\"form1\">\r\n                                <input type=\"hidden\" name=\"id\" th:value=\"${cartItem.productDetail.id}\">\r\n                                <td class=\"align-middle\">\r\n                                    <div class=\"input-group quantity mx-auto\" style=\"width: 100px;\">\r\n                                        <div class=\"input-group-btn\">\r\n                                            <button class=\"btn btn-sm btn-primary btn-minus\" type=\"button\">\r\n                                                <i class=\"fa fa-minus\"></i>\r\n                                            </button>\r\n                                        </div>\r\n                                        <input type=\"text\" class=\"form-control form-control-sm  text-center\" max=\"1000000\" name=\"quantity\" th:value=\"${cartItem.quantity}\"\r\n                                                style=\"margin-left: 5px; margin-right: 5px\">\r\n                                        <div class=\"input-group-btn\">\r\n                                            <button class=\"btn btn-sm btn-primary btn-plus\" type=\"button\">\r\n                                                <i class=\"fa fa-plus\"></i>\r\n                                            </button>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"mt-2 text-center\">\r\n                                        Tồn kho: <span th:text=\"${cartItem.productDetail.quantity}\"></span>\r\n                                    </div>\r\n                                </td>\r\n                                <td class=\"align-middle\"\r\n                                    th:text=\"'₫' + ${#numbers.formatDecimal(cartItem.price * cartItem.quantity, 0, 'COMMA', 0, 'POINT')}\"\r\n                                ></td>\r\n                                <td class=\"align-middle\">\r\n                                    <button class=\"btn btn-sm btn-primary\"\r\n                                            type=\"submit\" name=\"action\" value=\"update\" title=\"Update\"><i class=\"fa fa-pencil\"></i></button>\r\n                                    <button class=\"btn btn-sm btn-primary\"\r\n                                            type=\"submit\" name=\"action\" value=\"delete\" title=\"Update\"><i class=\"fa fa-times\"></i></button>\r\n                                </td>\r\n                            </form>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n            <div class=\"col-lg-3\" th:if=\"${grandTotal}\">\r\n                <div class=\"card border-secondary mb-5\">\r\n                    <div class=\"card-header bg-secondary border-0\">\r\n                        <h4 class=\"font-weight-semi-bold m-0\">Tổng quan giỏ hàng</h4>\r\n                    </div>\r\n\r\n                    <div class=\"card-body\">\r\n                        <div class=\"d-flex justify-content-between mb-3 pt-1\">\r\n                            <h6 class=\"font-weight-medium\">Tổng tiền hàng</h6>\r\n                            <h6 class=\"font-weight-medium\"\r\n                                th:text=\"'₫' + ${#numbers.formatDecimal(grandTotal, 0, 'COMMA', 0, 'POINT')}\"></h6>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"card-footer border-secondary bg-transparent\">\r\n                        <div class=\"d-flex justify-content-between mt-2\">\r\n                            <h5 class=\"font-weight-bold\">Thành tiền</h5>\r\n                            <h5 class=\"font-weight-bold\"\r\n                                th:text=\"'₫' + ${#numbers.formatDecimal(grandTotal, 0, 'COMMA', 0, 'POINT')}\"></h5>\r\n                        </div>\r\n                        <a th:href=\"@{/checkout}\" class=\"btn btn-block btn-primary my-3 py-3\">\r\n                            Thanh toán\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <!-- Cart End -->\r\n\r\n    <div th:replace=\"~{/user/fragments::footer}\"></div>\r\n\r\n    <div th:replace=\"~{/user/fragments::script}\"></div>\r\n\r\n    <script>\r\n        document.querySelector('input[name=\"quantity\"]').addEventListener('input', function(e) {\r\n            let value = e.target.value;\r\n            // Chỉ cho phép số dương và không cho phép để trống hoặc dấu cách\r\n            e.target.value = value.replace(/[^0-9]| /g, '');\r\n            // Kiểm tra nếu giá trị là chuỗi rỗng\r\n            if (e.target.value.trim() === '' || e.target.value.trim() === 0 ) {\r\n                e.target.value = '1';\r\n            } else if (e.target.value.trim() > 1000000) {\r\n                e.target.value = '1000000';\r\n            }\r\n\r\n        });\r\n\r\n    </script>\r\n\r\n</body>\r\n\r\n</html>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/resources/templates/user/cart.html b/src/main/resources/templates/user/cart.html
--- a/src/main/resources/templates/user/cart.html	(revision a3f2f4fe416fb7db81751953dbcaea2f7d6afbda)
+++ b/src/main/resources/templates/user/cart.html	(date 1725264597981)
@@ -93,15 +93,15 @@
                                 <td class="align-middle">
                                     <div class="input-group quantity mx-auto" style="width: 100px;">
                                         <div class="input-group-btn">
-                                            <button class="btn btn-sm btn-primary btn-minus" type="button">
-                                                <i class="fa fa-minus"></i>
+                                            <button class="btn btn-sm btn-primary btn-minus" type="submit" name="action" value="update" title="Update">
+                                                <i class="fa fa-minus" type="submit" name="action" value="update" title="Update"></i>
                                             </button>
                                         </div>
                                         <input type="text" class="form-control form-control-sm  text-center" max="1000000" name="quantity" th:value="${cartItem.quantity}"
                                                 style="margin-left: 5px; margin-right: 5px">
                                         <div class="input-group-btn">
-                                            <button class="btn btn-sm btn-primary btn-plus" type="button">
-                                                <i class="fa fa-plus"></i>
+                                            <button class="btn btn-sm btn-primary btn-plus" type="submit" name="action" value="update" title="Update">
+                                                <i class="fa fa-plus" ></i>
                                             </button>
                                         </div>
                                     </div>
@@ -113,8 +113,7 @@
                                     th:text="'₫' + ${#numbers.formatDecimal(cartItem.price * cartItem.quantity, 0, 'COMMA', 0, 'POINT')}"
                                 ></td>
                                 <td class="align-middle">
-                                    <button class="btn btn-sm btn-primary"
-                                            type="submit" name="action" value="update" title="Update"><i class="fa fa-pencil"></i></button>
+  
                                     <button class="btn btn-sm btn-primary"
                                             type="submit" name="action" value="delete" title="Update"><i class="fa fa-times"></i></button>
                                 </td>
Index: target/classes/templates/admin/promotion/promotion.html
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><!DOCTYPE html>\r\n<html lang=\"en\" xmlns:th=\"http://www.thymeleaf.org\" xmlns:layout=\"http://www.ultraq.net.nz/thymeleaf/layout\"\r\n      layout:decorate=\"~{admin/admin-layout.html}\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <title>Promotion Management</title>\r\n</head>\r\n<body>\r\n<div layout:fragment=\"content\">\r\n    <div class=\"col\">\r\n        <div class=\"card\">\r\n            <div class=\"card-header\">\r\n                <h5 style=\"font-weight: bold\">KHUYẾN MÃI</h5>\r\n            </div>\r\n            <div th:if=\"${mess}\">\r\n                <button hidden id=\"btnSuccess\" th:onclick=\"alertSuccess([[${mess}]])\">Click Me</button>\r\n                <script th:inline=\"javascript\">\r\n                    window.onload = function () {\r\n                        var btnSuccess = document.getElementById(\"btnSuccess\");\r\n                        btnSuccess.click();\r\n                    }\r\n                    alertSuccess = (content) => {\r\n                        Swal.fire({\r\n                            title: content,\r\n                            icon: \"success\",\r\n                            confirmButtonColor: \"#0DC149\"\r\n                        });\r\n                    }\r\n                </script>\r\n            </div>\r\n            <div th:if=\"${error}\">\r\n                <button hidden id=\"btnError\" th:onclick=\"alertError1([[${error}]])\">Click Me</button>\r\n                <script th:inline=\"javascript\">\r\n                    window.onload = function () {\r\n                        var btnError = document.getElementById(\"btnError\");\r\n                        btnError.click();\r\n                    }\r\n                    alertError1 = (content) => {\r\n                        Swal.fire({\r\n                            title: \"Lỗi\",\r\n                            text: content,\r\n                            icon: \"error\",\r\n                            confirmButtonColor: \"#d33\"\r\n                        });\r\n                    }\r\n                </script>\r\n            </div>\r\n            <div class=\"card-body card-block\">\r\n                <form th:action=\"@{/tiger/promotion/search}\" method=\"get\">\r\n                    <div class=\"form-row\">\r\n                        <div class=\"form-group col-md-3\">\r\n                            <label >Mã khuyến mãi</label>\r\n                            <input type=\"text\" class=\"form-control\" name=\"code\" th:value=\"${code}\">\r\n                        </div>\r\n                        <div class=\"form-group col-md-2\">\r\n                            <label>Trạng thái</label>\r\n                            <select class=\"form-control\" name=\"status\" th:value=\"${status}\">\r\n                                <option value=\"\">Tất cả</option>\r\n                                <option  value=\"1\" th:selected=\"${status == 1}\">Hoạt động</option>\r\n                                <option value=\"2\" th:selected=\"${status == 2}\">Đang chờ</option>\r\n                            </select>\r\n                        </div>\r\n                        <div class=\"form-group col-md-3\">\r\n                            <label for=\"name\">Tên khuyến mãi</label>\r\n                            <input type=\"text\" class=\"form-control\" name=\"name\" th:value=\"${name}\">\r\n                        </div>\r\n\r\n                        <div class=\"form-group col-md-3\">\r\n                            <label>Khoảng ngày kết thúc</label>\r\n                            <div class=\"form-row\">\r\n                                <div class=\"col-md-6\">\r\n                                    <input type=\"date\" class=\"form-control\" name=\"ngayTaoStart\"\r\n                                           th:value=\"${ngayTaoStart}\">\r\n                                </div>\r\n                                <div class=\"col-md-6\">\r\n                                    <input type=\"date\" class=\"form-control\" name=\"ngayTaoEnd\" th:value=\"${ngayTaoEnd}\">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group col-md-1\" style=\"margin-top: 30px\">\r\n                            <button type=\"submit\" class=\"btn btn-dark \"><i class=\"fas fa-search px-4\"></i></button>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n\r\n                <form id=\"promotionForm\" th:action=\"@{/tiger/promotion/add}\" th:object=\"${promotion}\" method=\"post\"\r\n                      class=\"form-horizontal\">\r\n                    <div class=\" d-flex \" >\r\n                        <div class=\"\" style=\"padding-right: 15px\">\r\n                            <button style=\"\r\n                                     height: 40px;\" type=\"button\" class=\"btn btn-dark\" data-toggle=\"modal\"\r\n                                    data-target=\"#addModal\">\r\n                                <i class=\"fa-solid fa-square-plus \"></i>\r\n                                Thêm mới khuyến mãi\r\n                            </button>\r\n                        </div>\r\n                        <div class=\"ml-2\">\r\n                            <a th:href=\"@{/tiger/promotion-detail/page}\">\r\n                                <button style=\"\r\n                                     height: 40px;\" type=\"button\" class=\"btn btn-warning\"><i class=\"fa-solid fa-arrows-rotate\"></i>\r\n                                    Thêm giảm giá cho sản phẩm\r\n                                </button>\r\n                            </a>\r\n                        </div>\r\n\r\n                        <div class=\"modal fade\" id=\"addModal\" tabindex=\"-1\" role=\"dialog\"\r\n                             aria-labelledby=\"addModalLabel\"\r\n                             aria-hidden=\"true\">\r\n                            <div class=\"modal-dialog modal-dialog-centered modal-lg \" role=\"document\">\r\n                                <div class=\"modal-content\">\r\n                                    <div class=\"modal-header\">\r\n                                        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                                            <span aria-hidden=\"true\">&times;</span>\r\n                                        </button>\r\n                                    </div>\r\n\r\n                                    <div class=\"modal-body\">\r\n                                        <div class=\"card\">\r\n                                            <div class=\"card-header\">\r\n                                                <strong>Thêm khuyến mãi</strong>\r\n                                            </div>\r\n                                            <div class=\"card-body card-block\">\r\n                                                <div class=\"form-group row\">\r\n                                                    <label class=\"col-sm-2 col-form-label font-weight-bold\">Tên\r\n                                                        khuyến mãi</label>\r\n                                                    <div class=\"col-sm-10\">\r\n                                                        <input type=\"text\" class=\"form-control\" name=\"name\"\r\n                                                               id=\"name\"\r\n                                                               oninput=\"onInputText('errorName')\">\r\n                                                        <small class=\"\" style=\"color: red\"\r\n                                                               id=\"errorName\"></small>\r\n                                                    </div>\r\n                                                </div>\r\n\r\n                                                <div class=\"form-group row\">\r\n                                                    <label class=\"col-sm-2 col-form-label font-weight-bold\">Phần trăm\r\n                                                        giảm</label>\r\n                                                    <div class=\"col-sm-10\">\r\n                                                        <input type=\"text\" class=\"form-control\" name=\"value\"\r\n                                                               id=\"value\"\r\n                                                               oninput=\"onInputText('errorValue')\">\r\n                                                        <small class=\"\" style=\"color: red\"\r\n                                                               id=\"errorValue\"></small>\r\n                                                    </div>\r\n                                                </div>\r\n\r\n                                                <div class=\"form-group row\">\r\n                                                    <label class=\"col-sm-2 col-form-label font-weight-bold\">Ngày bắt\r\n                                                        đầu</label>\r\n                                                    <div class=\"col-sm-10\">\r\n                                                        <div id=\"start-date-picker\"\r\n                                                             class=\"md-form md-outline input-with-post-icon datepicker\"\r\n                                                             inline=\"true\">\r\n                                                            <input placeholder=\"Choose start date\"\r\n                                                                   type=\"datetime-local\"\r\n                                                                   id=\"startDate\"\r\n                                                                   class=\"form-control\"\r\n                                                                   name=\"startDate\"\r\n\r\n                                                                   oninput=\"onInputText('errorStartDate')\"\r\n                                                            >\r\n\r\n                                                            <small class=\"\" style=\"color: red\"\r\n                                                                   id=\"errorStartDate\"></small>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n\r\n                                                <div class=\"form-group row\">\r\n                                                    <label class=\"col-sm-2 col-form-label font-weight-bold\">Ngày kết\r\n                                                        thúc</label>\r\n                                                    <div class=\"col-sm-10\">\r\n                                                        <div id=\"end-date-picker\"\r\n                                                             class=\"md-form md-outline input-with-post-icon datepicker\"\r\n                                                             inline=\"true\">\r\n                                                            <input placeholder=\"Choose start date\"\r\n                                                                   type=\"datetime-local\"\r\n                                                                   id=\"endDate\"\r\n                                                                   class=\"form-control\"\r\n                                                                   name=\"endDate\"\r\n                                                                   inputmode=\"numeric\"\r\n                                                                   oninput=\"onInputText('errorEndDate')\"\r\n                                                            >\r\n                                                            <small class=\"\" style=\"color: red\"\r\n                                                                   id=\"errorEndDate\"></small>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div class=\"modal-footer\">\r\n                                                    <button type=\"button\" class=\"btn btn-secondary\"\r\n                                                            data-dismiss=\"modal\">Đóng\r\n                                                    </button>\r\n                                                    <button onclick=\"clickAdd('promotion', 'promotionForm')\"\r\n                                                            type=\"button\" class=\"btn btn-dark\">\r\n                                                        <i class=\"fa-solid fa-square-plus px-4\"></i>\r\n                                                    </button>\r\n                                                </div>\r\n                                                <script th:inline=\"javascript\">\r\n                                                    let enteredCodes = new Set();\r\n\r\n                                                    function onInputText(errorElementId) {\r\n                                                        document.getElementById(errorElementId).innerHTML = '';\r\n                                                    }\r\n\r\n                                                    checkName = () => {\r\n                                                        let isName = document.getElementById('name').value\r\n                                                        if (isName.trim() === '') {\r\n                                                            document.getElementById('errorName').innerHTML = `Chưa nhập tên`\r\n                                                            return false;\r\n                                                        }\r\n                                                        return true;\r\n                                                    }\r\n\r\n                                                    checkValue = () => {\r\n                                                        let isValue = document.getElementById('value').value;\r\n                                                        let errorElement = document.getElementById('errorValue');\r\n                                                        errorElement.innerHTML = '';\r\n                                                        if (isValue.trim() === '') {\r\n                                                            errorElement.innerHTML = 'Chưa nhập giá trị';\r\n                                                            return false;\r\n                                                        }\r\n                                                        if (isNaN(isValue)) {\r\n                                                            errorElement.innerHTML = 'Vui lòng nhập một giá trị số';\r\n                                                            return false;\r\n                                                        }\r\n                                                        isValue = parseFloat(isValue);\r\n                                                        if (isValue <= 0) {\r\n                                                            errorElement.innerHTML = 'Phần trăm giảm phải lớn hơn  0 %';\r\n                                                            return false;\r\n                                                        }\r\n                                                        if (isValue > 50) {\r\n                                                            errorElement.innerHTML = 'Phần trăm giảm phải nhỏ hơn hoặc bằng 50 %';\r\n                                                            return false;\r\n                                                        }\r\n                                                        return true;\r\n                                                    };\r\n                                                    checkStartDate = () => {\r\n                                                        let startDateInput = document.getElementById('startDate');\r\n                                                        let errorStartDate = document.getElementById('errorStartDate');\r\n\r\n                                                        let startDateValue = startDateInput.value.trim();\r\n                                                        if (startDateValue === '') {\r\n                                                            errorStartDate.innerHTML = `Chưa nhập ngày bắt đầu`;\r\n                                                            return false;\r\n                                                        }\r\n\r\n                                                        errorStartDate.innerHTML = '';\r\n                                                        return true;\r\n                                                    }\r\n\r\n                                                    checkEndDate = () => {\r\n                                                        let endDateInput = document.getElementById('endDate');\r\n                                                        let errorEndDate = document.getElementById('errorEndDate');\r\n\r\n                                                        let endDateValue = endDateInput.value.trim();\r\n                                                        if (endDateValue === '') {\r\n                                                            errorEndDate.innerHTML = `Chưa nhập ngày kết thúc`;\r\n                                                            return false;\r\n                                                        }\r\n\r\n                                                        let startDateValue = document.getElementById('startDate').value.trim();\r\n                                                        let startDate = new Date(startDateValue);\r\n                                                        let endDate = new Date(endDateValue);\r\n\r\n                                                        let currentDate = new Date();\r\n\r\n                                                        if (endDate <= startDate) {\r\n                                                            errorEndDate.innerHTML = `Ngày kết thúc phải lớn hơn ngày bắt đầu`;\r\n                                                            return false;\r\n                                                        }\r\n\r\n                                                        if (endDate <= currentDate) {\r\n                                                            errorEndDate.innerHTML = `Ngày kết thúc phải lớn hơn ngày hiện tại`;\r\n                                                            return false;\r\n                                                        }\r\n\r\n                                                        errorEndDate.innerHTML = '';\r\n                                                        return true;\r\n                                                    }\r\n\r\n                                                    validate = () => {\r\n                                                        let isName = checkName();\r\n                                                        let isValue = checkValue();\r\n                                                        let isStartDate = checkStartDate()\r\n                                                        let isEndDate = checkEndDate()\r\n                                                        if (isName === true && isValue === true && isStartDate === true && isEndDate === true) {\r\n                                                            return true;\r\n                                                        }\r\n                                                    }\r\n\r\n                                                    clickAdd = (entity, idForm) => {\r\n                                                        if (validate()) {\r\n                                                            Swal.fire({\r\n                                                                title: \"Thêm dữ liệu\",\r\n                                                                text: \"Bạn có muốn thêm dữ liệu không ?\",\r\n                                                                icon: \"question\",\r\n                                                                showCancelButton: true,\r\n                                                                confirmButtonColor: \"#0DC149\",\r\n                                                                cancelButtonColor: \"#d33\",\r\n                                                                confirmButtonText: \"Có\",\r\n                                                                cancelButtonText: \"Không\",\r\n                                                                allowOutsideClick: false\r\n                                                            }).then((add) => {\r\n                                                                if (add.isConfirmed) {\r\n                                                                    document.getElementById(idForm).action = '/tiger/' + entity + '/add'\r\n                                                                    document.getElementById(idForm).method = 'post'\r\n                                                                    document.getElementById(idForm).submit()\r\n                                                                }\r\n                                                            });\r\n                                                        }\r\n\r\n                                                    }\r\n                                                </script>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class=\"col\" style=\"margin-top: 20px\">\r\n        <div class=\"card\">\r\n            <div class=\"card-header\" th:if=\"${pagePromotion.isEmpty()}\">\r\n                <strong class=\"card-title\">KHÔNG CÓ DỮ LIỆU</strong>\r\n            </div>\r\n            <div th:if=\"${not pagePromotion.isEmpty()}\">\r\n                <div class=\"card-header\">\r\n                    <strong>CÓ</strong>\r\n                    <strong class=\"card-title\" th:text=\"${pagePromotion.getTotalElements()}\"></strong>\r\n                    <strong class=\"card-title\"> BẢN GHI</strong>\r\n                </div>\r\n                <div class=\"card-body\">\r\n                    <form id=\"promotionDelete\">\r\n                        <table class=\"table text-center\">\r\n                            <thead class=\"thead-dark\">\r\n                            <tr>\r\n                                <th scope=\"col\">Mã khuyến mãi</th>\r\n                                <th scope=\"col\">Tên khuyến mãi</th>\r\n                                <th scope=\"col\">Phần trăm giảm</th>\r\n                                <th scope=\"col\">Ngày bắt đầu</th>\r\n                                <th scope=\"col\">Ngày kết thúc</th>\r\n                                <th scope=\"col\">Trạng thái</th>\r\n                                <th scope=\"col\">Chức năng</th>\r\n                            </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                            <tr th:each=\"items:${pagePromotion}\">\r\n                                <td th:text=\"${items.code}\"></td>\r\n                                <td th:text=\"${items.name}\"></td>\r\n                                <td th:text=\"${items.value}+ '%'\"></td>\r\n                                <td th:text=\"${#dates.format(items.startDate, 'dd-MM-yyyy HH:mm:ss')}\"></td>\r\n                                <td th:text=\"${#dates.format(items.endDate, 'dd-MM-yyyy HH:mm:ss')}\"></td>\r\n                                <td>\r\n                                    <span th:if=\"${items.status == 1}\">Hoạt động</span>\r\n                                    <span th:if=\"${items.status == 2}\">Đang chờ</span>\r\n                                </td>\r\n                                <td class=\"d-flex justify-content-center\">\r\n                                    <div class=\"dropdown\">\r\n                                        <button class=\"btn btn-dark\" type=\"button\"\r\n                                                id=\"dropdownMenuButton\" data-toggle=\"dropdown\"\r\n                                                aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                                            <i class=\"fa-solid fa-ellipsis-vertical\"></i>\r\n                                        </button>\r\n                                        <div class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\r\n                                            <a class=\"dropdown-item\"\r\n                                               th:href=\"@{'/tiger/promotion/detail/' + ${items.id}}\">\r\n                                                <i class=\"fa-solid fa-pen mr-3\"></i>Sửa</a>\r\n                                            <a class=\"dropdown-item\"\r\n                                               th:href=\"@{'/tiger/promotion/promotionChiTiet/' + ${items.id}}\">\r\n                                                <i class=\"fa-solid fa-eye mr-2\"></i>Chi tiết</a>\r\n                                            <button\r\n                                                    th:onclick=\"clickDelete('promotion', 'promotionDelete', [[${items.id}]])\"\r\n                                                    type=\"button\" class=\"dropdown-item\"><i\r\n                                                    class=\"fa-solid fa-trash mr-3\"></i>Xóa\r\n                                            </button>\r\n                                        </div>\r\n                                    </div>\r\n                                </td>\r\n\r\n                            </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </form>\r\n                    <div class=\"d-flex justify-content-center align-items-center\">\r\n                        <div th:if=\"${pagePromotion.getNumber() + 1 > 1}\" class=\"btn btn-dark mr-1\">\r\n                            <a th:href=\"@{|?page=0&promotionNameSearch=${promotionNameSearch}|}\">\r\n                                </i><i style=\"color: white\" class=\"fa-solid fa-backward-fast\"></i></a>\r\n                        </div>\r\n                        <div th:if=\"${pagePromotion.getNumber() + 1 > 1}\" class=\"btn btn-dark mr-1\">\r\n                            <a th:href=\"@{|?page=${pagePromotion.getNumber() - 1}&promotionNameSearch=${promotionNameSearch}|}\">\r\n                                <i style=\"color: white\" class=\"fa-solid fa-left-long\"></i></a>\r\n                        </div>\r\n                        <div class=\"btn btn-dark d-flex\">\r\n                            <div th:text=\"${pagePromotion.getNumber() + 1}\"></div>\r\n                            <span>/</span>\r\n                            <div th:text=\"${pagePromotion.getTotalPages()}\"></div>\r\n                        </div>\r\n                        <div th:if=\"${pagePromotion.getNumber() + 1 lt pagePromotion.getTotalPages()}\"\r\n                             class=\"btn btn-dark ml-1\">\r\n                            <a th:href=\"@{|?page=${pagePromotion.getNumber()+1}&promotionNameSearch=${promotionNameSearch}|}\">\r\n                                <i style=\"color: white\" class=\"fa-solid fa-left-long fa-rotate-180\"></i></a>\r\n                        </div>\r\n                        <div th:if=\"${pagePromotion.getNumber() + 1 lt pagePromotion.getTotalPages()}\"\r\n                             class=\"btn btn-dark ml-1\">\r\n                            <a th:href=\"@{|?page=${pagePromotion.getTotalPages()-1}&promotionNameSearch=${promotionNameSearch}|}\">\r\n                                <i style=\"color: white\" class=\"fa-solid fa-forward-fast\"></i></a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n</body>\r\n</html>\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/target/classes/templates/admin/promotion/promotion.html b/target/classes/templates/admin/promotion/promotion.html
--- a/target/classes/templates/admin/promotion/promotion.html	(revision a3f2f4fe416fb7db81751953dbcaea2f7d6afbda)
+++ b/target/classes/templates/admin/promotion/promotion.html	(date 1725264597978)
@@ -56,6 +56,7 @@
                             <label>Trạng thái</label>
                             <select class="form-control" name="status" th:value="${status}">
                                 <option value="">Tất cả</option>
+                                <option  value="0" th:selected="${status == 0}">Ngưng hoạt động</option>
                                 <option  value="1" th:selected="${status == 1}">Hoạt động</option>
                                 <option value="2" th:selected="${status == 2}">Đang chờ</option>
                             </select>
@@ -355,6 +356,7 @@
                                 <td th:text="${#dates.format(items.startDate, 'dd-MM-yyyy HH:mm:ss')}"></td>
                                 <td th:text="${#dates.format(items.endDate, 'dd-MM-yyyy HH:mm:ss')}"></td>
                                 <td>
+                                    <span th:if="${items.status == 0}">Ngưng hoạt động</span>
                                     <span th:if="${items.status == 1}">Hoạt động</span>
                                     <span th:if="${items.status == 2}">Đang chờ</span>
                                 </td>
Index: target/classes/templates/user/order-detail.html
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><!DOCTYPE html>\r\n<html lang=\"en\" xmlns:th=\"http://www.thymeleaf.org\">\r\n\r\n<head th:replace=\"~{/user/fragments::head}\">\r\n</head>\r\n\r\n<body>\r\n<div th:replace=\"~{/user/fragments::header}\"></div>\r\n\r\n<br>\r\n<br>\r\n<div class=\"container\">\r\n    <div class=\"row\">\r\n        <div class=\"col-lg-12\">\r\n            <div th:if=\"${mess}\">\r\n                <button hidden id=\"btnSuccess\" th:onclick=\"alertSuccess([[${mess}]])\">Click Me</button>\r\n                <script th:inline=\"javascript\">\r\n                    window.onload = function () {\r\n                        var btnSuccess = document.getElementById(\"btnSuccess\");\r\n                        btnSuccess.click();\r\n                    }\r\n                    alertSuccess = (content) => {\r\n                        Swal.fire({\r\n                            title: content,\r\n                            icon: \"success\",\r\n                            confirmButtonColor: \"#0DC149\"\r\n                        });\r\n                    }\r\n                </script>\r\n            </div>\r\n            <div th:if=\"${error}\">\r\n                <button hidden id=\"btnError\" th:onclick=\"alertError([[${error}]])\">Click Me</button>\r\n                <script th:inline=\"javascript\">\r\n                    window.onload = function () {\r\n                        var btnError = document.getElementById(\"btnError\");\r\n                        btnError.click();\r\n                    }\r\n                    alertError = (content) => {\r\n                        Swal.fire({\r\n                            title: \"Lỗi\",\r\n                            text: content,\r\n                            icon: \"error\",\r\n                            confirmButtonColor: \"#d33\"\r\n                        });\r\n                    }\r\n                </script>\r\n            </div>\r\n            <div class=\"card\" style=\"position: relative\">\r\n                <div class=\"card-body\">\r\n                    <div class=\"invoice-title\">\r\n                        <!--                            <h4 class=\"float-end font-size-15\"><span class=\"badge bg-success font-size-12 ms-2\" th:text=\"${billdetail.trangThaiDonHang}\"></span></h4>-->\r\n                        <div class=\"float-end mr-4\">\r\n                            <!-- Add class 'active' to progress -->\r\n                            <div class=\"track\">\r\n                                <div class=\"step\" th:classappend=\"${\r\n                                    order.status == 10 ||\r\n                                    order.status == 3 ||\r\n                                    order.status == 2 ||\r\n                                    order.status == 1  ? 'active' : ''}\r\n                                    \">\r\n                                            <span class=\"icon\">\r\n                                                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\"\r\n                                                     viewBox=\"0 0 256 256\">\r\n                                                    <path fill=\"currentColor\"\r\n                                                          d=\"M232 136.66A104.12 104.12 0 1 1 119.34 24a8 8 0 0 1 1.32 16A88.12 88.12 0 1 0 216 135.34a8 8 0 0 1 16 1.32ZM120 72v56a8 8 0 0 0 8 8h56a8 8 0 0 0 0-16h-48V72a8 8 0 0 0-16 0Zm40-24a12 12 0 1 0-12-12a12 12 0 0 0 12 12Zm36 24a12 12 0 1 0-12-12a12 12 0 0 0 12 12Zm24 36a12 12 0 1 0-12-12a12 12 0 0 0 12 12Z\" />\r\n                                                </svg>\r\n                                            </span>\r\n                                    <span class=\"text\">Chờ xác nhận</span>\r\n                                    <p th:if=\"${order.orderDate != null}\" th:text=\"${#dates.format(order.orderDate, 'dd-MM-yyyy HH:mm:ss')}\"></p>\r\n                                </div>\r\n                                <div class=\"step\" th:classappend=\"${\r\n                                    order.status == 3 ||\r\n                                    order.status == 2 ||\r\n                                    order.status == 1 ? 'active' : ''}\r\n                                    \">\r\n                                            <span class=\"icon\">\r\n                                                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\"\r\n                                                     viewBox=\"0 0 24 24\">\r\n                                                    <g fill=\"none\" stroke-width=\"1.5\">\r\n                                                        <path fill=\"currentColor\"\r\n                                                              d=\"m2.695 7.185l9 4l.61-1.37l-9-4l-.61 1.37ZM12.75 21.5v-11h-1.5v11h1.5Zm-.445-10.315l9-4l-.61-1.37l-9 4l.61 1.37Z\" />\r\n                                                        <path stroke=\"currentColor\" stroke-linecap=\"round\"\r\n                                                              stroke-linejoin=\"round\"\r\n                                                              d=\"M3 17.11V6.89a.6.6 0 0 1 .356-.548l8.4-3.734a.6.6 0 0 1 .488 0l8.4 3.734A.6.6 0 0 1 21 6.89v10.22a.6.6 0 0 1-.356.548l-8.4 3.734a.6.6 0 0 1-.488 0l-8.4-3.734A.6.6 0 0 1 3 17.11Z\" />\r\n                                                        <path stroke=\"currentColor\" stroke-linecap=\"round\"\r\n                                                              stroke-linejoin=\"round\"\r\n                                                              d=\"m7.5 4.5l8.644 3.842a.6.6 0 0 1 .356.548v3.61\" />\r\n                                                    </g>\r\n                                                </svg>\r\n                                            </span>\r\n                                    <span class=\"text\">Chờ giao hàng</span>\r\n                                    <p th:if=\"${order.confirmationDate != null}\" th:text=\"${#dates.format(order.confirmationDate, 'dd-MM-yyyy HH:mm:ss')}\"></p>\r\n                                </div>\r\n                                <div class=\"step\" th:classappend=\"${\r\n                                    order.status == 2 ||\r\n                                    order.status == 1  ? 'active' : ''}\r\n                                    \">\r\n                                    <span class=\"icon\"> <i class=\"fa fa-truck\"></i> </span>\r\n                                    <span class=\"text\"> Đang giao hàng </span>\r\n                                    <p th:if=\"${order.shippingDate != null}\" th:text=\"${#dates.format(order.shippingDate, 'dd-MM-yyyy HH:mm:ss')}\"></p>\r\n                                </div>\r\n                                <div class=\"step\" th:classappend=\"${\r\n                                    order.status == 1  ? 'active' : ''}\r\n                                    \">\r\n                                            <span class=\"icon\">\r\n                                                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\"\r\n                                                     viewBox=\"0 0 24 24\">\r\n                                                    <path fill=\"currentColor\"\r\n                                                          d=\"M19 13c.7 0 1.37.13 2 .35V12l-1-5H4l-1 5v2h1v6h9.09c-.05-.33-.09-.66-.09-1c0-1.23.37-2.36 1-3.31V14h1.69c.95-.63 2.08-1 3.31-1m-7 5H6v-4h6v4m-6.96-6l.6-3h12.72l.6 3H5.04M20 6H4V4h16v2m2.5 11.25L17.75 22L15 19l1.16-1.16l1.59 1.59l3.59-3.59l1.16 1.41\" />\r\n                                                </svg>\r\n                                            </span>\r\n                                    <span class=\"text\">Đã hoàn thành</span>\r\n                                    <p th:if=\"${order.completionDate != null}\" th:text=\"${#dates.format(order.completionDate, 'dd-MM-yyyy HH:mm:ss')}\"></p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"mb-4\" style=\"padding-top: 20px\">\r\n                            <h2 class=\"mb-1 text-muted\" th:text=\"'Mã hoá đơn: ' + ${order.code}\">\r\n                            </h2>\r\n                            <div th:if=\"${order.status == 0}\" th:text=\"'ĐÃ HUỶ - NGÀY HUỶ: ' + ${#dates.format(order.cancellationDate, 'dd-MM-yyyy HH:mm:ss')}\" class=\"text-danger font-weight-bold border rounded p-2 border-danger\">\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <hr class=\"my-4\" />\r\n\r\n                    <div class=\"row\">\r\n                        <div class=\"col-sm-6\">\r\n                            <div class=\"text-muted\">\r\n                                <h5 class=\"font-size-16 mb-3\">Thông tin đơn hàng</h5>\r\n                                <h6 class=\"font-size-15 mb-2\" th:if=\"${order.customerName != null}\"\r\n                                    th:text=\"${order.customerName}\">\r\n                                </h6>\r\n                                <p class=\"mb-1\" th:if=\"${order.address != null}\"\r\n                                   th:text=\"${order.address}\">\r\n                                </p>\r\n                                <p th:if=\"${order.phoneNumber != null}\"\r\n                                   th:text=\"${order.phoneNumber}\">\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                        <!-- end col -->\r\n                        <div class=\"col-sm-6\">\r\n                            <div class=\"text-muted\" style=\"text-align: right\">\r\n                                <div>\r\n                                    <h5 class=\"font-size-15 mb-1\">Ngày mua hàng:</h5>\r\n                                    <p\r\n                                            th:text=\"${#dates.format(order.orderDate, 'dd-MM-yyyy HH:mm:ss')}\">\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"text-muted\" style=\"text-align: right\" th:if=\"${order.paymentDate != null}\">\r\n                                <div>\r\n                                    <h5 class=\"font-size-15 mb-1\">Ngày thanh toán:</h5>\r\n                                    <p\r\n                                            th:text=\"${#dates.format(order.paymentDate, 'dd-MM-yyyy HH:mm:ss')}\">\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <!-- end col -->\r\n                    </div>\r\n                    <!-- end row -->\r\n                    <div class=\"py-2 mb-4\">\r\n                        <div>\r\n                            <h5>Voucher:\r\n                                <h5 style=\"color: rgb(21, 219, 153)\" th:if=\"${order.voucher != null}\" th:text=\"${order.voucher.code}\">\r\n                                </h5>\r\n                                <h5 style=\"color: rgb(21, 219, 153)\" th:if=\"${order.voucher == null}\">\r\n                                    Không có\r\n                                </h5>\r\n                            </h5>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"mb-4\">\r\n                        <div>\r\n                            <h5>Loại đơn:\r\n                                <h5 style=\"color: rgb(21, 219, 153)\" th:if=\"${order.type == 1}\">Tại quầy</h5>\r\n                                <h5 style=\"color: rgb(21, 219, 153)\" th:if=\"${order.type == 0}\">Mua Online</h5>\r\n                            </h5>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"py-2\">\r\n                        <h5 class=\"font-size-15\">Thanh toán</h5>\r\n\r\n                        <div class=\"table-responsive\">\r\n                            <table class=\"table align-middle table-nowrap table-centered mb-0\">\r\n                                <thead>\r\n                                <tr>\r\n                                    <th>Thanh toán</th>\r\n                                    <th>Số tiền thanh toán</th>\r\n                                    <th>Trạng thái thanh toán</th>\r\n                                </tr>\r\n                                </thead>\r\n                                <!-- end thead -->\r\n                                <tbody>\r\n                                <tr th:each=\"paymentMethod : ${listPaymentMethod}\">\r\n                                    <td>\r\n                                        <div>\r\n                                            <h6 class=\"text-truncate font-size-14 mb-1\"\r\n                                                th:text=\"${paymentMethod.name}\">\r\n                                            </h6>\r\n                                        </div>\r\n                                    </td>\r\n                                    <td\r\n                                            th:text=\"'₫' + ${#numbers.formatDecimal(paymentMethod.money, 0, 'POINT', 0, 'COMMA')}\">\r\n                                    </td>\r\n                                    <td>\r\n\r\n                    <span class=\"text-warning p-1 font-weight-bold\"\r\n                          th:if=\"${paymentMethod.status == 10}\">&nbsp;Chưa thanh toán\r\n                    </span>\r\n                                        <span class=\"text-success p-1 font-weight-bold\"\r\n                                              th:if=\"${paymentMethod.status == 1}\">&nbsp;Đã thanh toán\r\n                    </span>\r\n\r\n                                        <span th:if=\"${paymentMethod.status == 0}\" class=\"text-danger p-1 font-weight-bold\">\r\n                        &nbsp; Đã hủy\r\n                    </span>\r\n\r\n                                    </td>\r\n                                </tr>\r\n                                </tbody>\r\n                                <!-- end tbody -->\r\n                            </table>\r\n                            <!-- end table -->\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"py-2\">\r\n                        <h5 class=\"font-size-15\">Danh sách đơn hàng</h5>\r\n\r\n                        <div class=\"table-responsive\">\r\n                            <table class=\"table align-middle table-nowrap table-centered mb-0\">\r\n                                <thead>\r\n                                <tr>\r\n                                    <th></th>\r\n                                    <th>Mã</th>\r\n                                    <th>Sản phẩm</th>\r\n                                    <th>Màu sắc</th>\r\n                                    <th>Kích cỡ</th>\r\n                                    <th>Giá tiền</th>\r\n                                    <th>Số lượng</th>\r\n                                    <th class=\"text-end\" style=\"width: 120px\">Thành tiền</th>\r\n                                </tr>\r\n                                </thead>\r\n                                <!-- end thead -->\r\n                                <tbody>\r\n                                <tr th:each=\"billDetail : ${lstBillDetails}\">\r\n                                    <td>\r\n                                        <img th:src=\"@{'/image/product/' + ${billDetail.productDetail.product.id}}\" width=\"62\" height=\"62\">\r\n                                    </td>\r\n                                    <td th:text=\"${billDetail.productDetail.code}\"></td>\r\n                                    <td>\r\n                                        <div>\r\n                                            <h6 class=\"text-truncate font-size-14 mb-1\"\r\n                                                th:text=\"${billDetail.productDetail.product.name}\">\r\n                                                Black Strap A012\r\n                                            </h6>\r\n                                        </div>\r\n                                    </td>\r\n                                    <td th:text=\"${billDetail.productDetail.color.name}\"></td>\r\n                                    <td th:text=\"${billDetail.productDetail.size.name}\"></td>\r\n                                    <td\r\n                                            th:text=\"'₫' + ${#numbers.formatDecimal(billDetail.price, 0, 'POINT', 0, 'COMMA')}\">\r\n                                    </td>\r\n                                    <td th:text=\"${billDetail.quantity}\"></td>\r\n                                    <td class=\"text-end\"\r\n                                        th:text=\"'₫' + ${#numbers.formatDecimal(billDetail.price * billDetail.quantity, 0, 'POINT', 0, 'COMMA')}\">\r\n                                        $ 245.50\r\n                                    </td>\r\n                                </tr>\r\n                                <!-- end tr -->\r\n\r\n                                <tr>\r\n                                    <th scope=\"row\" colspan=\"7\" style=\"text-align: right\">\r\n                                        Tổng thanh toán sản phẩm :\r\n                                    </th>\r\n                                    <td style=\"text-align: right\"\r\n                                        th:text=\"'₫' + ${#numbers.formatDecimal(order.price, 0, 'POINT', 0, 'COMMA')}\">\r\n                                        $732.50\r\n                                    </td>\r\n                                </tr>\r\n                                <!-- end tr -->\r\n                                <tr>\r\n                                    <th scope=\"row\" colspan=\"7\" class=\"border-0\" style=\"text-align: right\">\r\n                                        Voucher :\r\n                                    </th>\r\n                                    <td class=\"border-0\" style=\"text-align: right\"\r\n                                        th:text=\"'₫' + ${#numbers.formatDecimal(order.discountAmount, 0, 'POINT', 0, 'COMMA')}\">\r\n                                        - $25.50\r\n                                    </td>\r\n                                </tr>\r\n                                <!-- end tr -->\r\n                                <tr>\r\n                                    <th scope=\"row\" colspan=\"7\" class=\"border-0\" style=\"text-align: right\">\r\n                                        Phí ship :\r\n                                    </th>\r\n                                    <td class=\"border-0\" style=\"text-align: right\" th:text=\"'₫' + ${#numbers.formatDecimal(order.shippingFee, 0, 'POINT', 0, 'COMMA')}\">0</td>\r\n                                </tr>\r\n                                <!-- end tr -->\r\n\r\n                                <!-- end tr -->\r\n                                <tr>\r\n                                    <th scope=\"row\" colspan=\"7\" class=\"border-0\" style=\"text-align: right\">\r\n                                        Tổng thanh toán :\r\n                                    </th>\r\n                                    <td class=\"border-0\" style=\"text-align: right\">\r\n                                        <h4 class=\"m-0 fw-semibold\"\r\n                                            th:text=\"'₫' + ${#numbers.formatDecimal(order.totalPrice, 0, 'POINT', 0, 'COMMA')}\">\r\n                                            $739.00\r\n                                        </h4>\r\n                                    </td>\r\n                                </tr>\r\n                                <!-- end tr -->\r\n                                </tbody>\r\n                                <!-- end tbody -->\r\n                            </table>\r\n                            <!-- end table -->\r\n                        </div>\r\n                        <!-- end table responsive -->\r\n                        <div class=\"d-print-none mt-4\">\r\n                            <div style=\"text-align: right\">\r\n                                <a th:href=\"@{'/orders'}\">\r\n                                    <button type=\"button\" class=\"btn btn-secondary w-md\" data-dismiss=\"modal\">\r\n                                        Đóng\r\n                                    </button>\r\n                                </a>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"py-2\">\r\n                        <a th:href=\"@{'/detail-cancel-order/' + ${order.id}}\" class=\"cancel-btn btn btn-danger rounded\" style=\"float: right; margin-bottom: 10px\"\r\n                                    th:if=\"${order.status == 10}\">\r\n                            <i class=\"far fa-times-circle\"></i>&nbsp;Hủy đơn\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <!-- end col -->\r\n    </div>\r\n</div>\r\n<br>\r\n<br>\r\n\r\n<div th:replace=\"~{/user/fragments::footer}\"></div>\r\n\r\n<div th:replace=\"~{/user/fragments::script}\"></div>\r\n\r\n<script>\r\n    $('.cancel-btn').on('click', function (e) {\r\n        e.preventDefault();\r\n        Swal.fire({\r\n            title: \"Xác nhận?\",\r\n            text: `Bạn chắc chắn muốn hủy đơn này?`,\r\n            icon: \"warning\",\r\n            showCancelButton: true,\r\n            cancelButtonText: 'Hủy',\r\n            confirmButtonText: 'Xác nhận',\r\n            reverseButtons: true\r\n        }).then((result) => {\r\n            if (result.isConfirmed) {\r\n                window.location.href = $(this).attr('href');\r\n            }\r\n        })\r\n    });\r\n</script>\r\n\r\n</body>\r\n\r\n</html>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/target/classes/templates/user/order-detail.html b/target/classes/templates/user/order-detail.html
--- a/target/classes/templates/user/order-detail.html	(revision a3f2f4fe416fb7db81751953dbcaea2f7d6afbda)
+++ b/target/classes/templates/user/order-detail.html	(date 1725264597983)
@@ -331,7 +331,7 @@
                     </div>
                     <div class="py-2">
                         <a th:href="@{'/detail-cancel-order/' + ${order.id}}" class="cancel-btn btn btn-danger rounded" style="float: right; margin-bottom: 10px"
-                                    th:if="${order.status == 10}">
+                           th:if="${order.status == 10}">
                             <i class="far fa-times-circle"></i>&nbsp;Hủy đơn
                         </a>
                     </div>
@@ -351,19 +351,31 @@
 <script>
     $('.cancel-btn').on('click', function (e) {
         e.preventDefault();
+        const href = $(this).attr('href');
+
         Swal.fire({
             title: "Xác nhận?",
-            text: `Bạn chắc chắn muốn hủy đơn này?`,
+            text: "Bạn chắc chắn muốn hủy đơn này? Vui lòng nhập lý do hủy:",
+            input: 'text',
+            inputPlaceholder: 'Nhập lý do hủy',
             icon: "warning",
             showCancelButton: true,
             cancelButtonText: 'Hủy',
             confirmButtonText: 'Xác nhận',
-            reverseButtons: true
+            reverseButtons: true,
+            preConfirm: (reason) => {
+                if (!reason) {
+                    Swal.showValidationMessage("Lý do hủy không được để trống");
+                    return false;
+                }
+                return reason;
+            }
         }).then((result) => {
             if (result.isConfirmed) {
-                window.location.href = $(this).attr('href');
+                const cancelReason = result.value;
+                window.location.href = `${href}?cancelReason=${encodeURIComponent(cancelReason)}`;
             }
-        })
+        });
     });
 </script>
 
Index: src/main/resources/templates/admin/promotion/promotion.html
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><!DOCTYPE html>\r\n<html lang=\"en\" xmlns:th=\"http://www.thymeleaf.org\" xmlns:layout=\"http://www.ultraq.net.nz/thymeleaf/layout\"\r\n      layout:decorate=\"~{admin/admin-layout.html}\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <title>Promotion Management</title>\r\n</head>\r\n<body>\r\n<div layout:fragment=\"content\">\r\n    <div class=\"col\">\r\n        <div class=\"card\">\r\n            <div class=\"card-header\">\r\n                <h5 style=\"font-weight: bold\">KHUYẾN MÃI</h5>\r\n            </div>\r\n            <div th:if=\"${mess}\">\r\n                <button hidden id=\"btnSuccess\" th:onclick=\"alertSuccess([[${mess}]])\">Click Me</button>\r\n                <script th:inline=\"javascript\">\r\n                    window.onload = function () {\r\n                        var btnSuccess = document.getElementById(\"btnSuccess\");\r\n                        btnSuccess.click();\r\n                    }\r\n                    alertSuccess = (content) => {\r\n                        Swal.fire({\r\n                            title: content,\r\n                            icon: \"success\",\r\n                            confirmButtonColor: \"#0DC149\"\r\n                        });\r\n                    }\r\n                </script>\r\n            </div>\r\n            <div th:if=\"${error}\">\r\n                <button hidden id=\"btnError\" th:onclick=\"alertError1([[${error}]])\">Click Me</button>\r\n                <script th:inline=\"javascript\">\r\n                    window.onload = function () {\r\n                        var btnError = document.getElementById(\"btnError\");\r\n                        btnError.click();\r\n                    }\r\n                    alertError1 = (content) => {\r\n                        Swal.fire({\r\n                            title: \"Lỗi\",\r\n                            text: content,\r\n                            icon: \"error\",\r\n                            confirmButtonColor: \"#d33\"\r\n                        });\r\n                    }\r\n                </script>\r\n            </div>\r\n            <div class=\"card-body card-block\">\r\n                <form th:action=\"@{/tiger/promotion/search}\" method=\"get\">\r\n                    <div class=\"form-row\">\r\n                        <div class=\"form-group col-md-3\">\r\n                            <label >Mã khuyến mãi</label>\r\n                            <input type=\"text\" class=\"form-control\" name=\"code\" th:value=\"${code}\">\r\n                        </div>\r\n                        <div class=\"form-group col-md-2\">\r\n                            <label>Trạng thái</label>\r\n                            <select class=\"form-control\" name=\"status\" th:value=\"${status}\">\r\n                                <option value=\"\">Tất cả</option>\r\n                                <option  value=\"1\" th:selected=\"${status == 1}\">Hoạt động</option>\r\n                                <option value=\"2\" th:selected=\"${status == 2}\">Đang chờ</option>\r\n                            </select>\r\n                        </div>\r\n                        <div class=\"form-group col-md-3\">\r\n                            <label for=\"name\">Tên khuyến mãi</label>\r\n                            <input type=\"text\" class=\"form-control\" name=\"name\" th:value=\"${name}\">\r\n                        </div>\r\n\r\n                        <div class=\"form-group col-md-3\">\r\n                            <label>Khoảng ngày kết thúc</label>\r\n                            <div class=\"form-row\">\r\n                                <div class=\"col-md-6\">\r\n                                    <input type=\"date\" class=\"form-control\" name=\"ngayTaoStart\"\r\n                                           th:value=\"${ngayTaoStart}\">\r\n                                </div>\r\n                                <div class=\"col-md-6\">\r\n                                    <input type=\"date\" class=\"form-control\" name=\"ngayTaoEnd\" th:value=\"${ngayTaoEnd}\">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group col-md-1\" style=\"margin-top: 30px\">\r\n                            <button type=\"submit\" class=\"btn btn-dark \"><i class=\"fas fa-search px-4\"></i></button>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n\r\n                <form id=\"promotionForm\" th:action=\"@{/tiger/promotion/add}\" th:object=\"${promotion}\" method=\"post\"\r\n                      class=\"form-horizontal\">\r\n                    <div class=\" d-flex \" >\r\n                        <div class=\"\" style=\"padding-right: 15px\">\r\n                            <button style=\"\r\n                                     height: 40px;\" type=\"button\" class=\"btn btn-dark\" data-toggle=\"modal\"\r\n                                    data-target=\"#addModal\">\r\n                                <i class=\"fa-solid fa-square-plus \"></i>\r\n                                Thêm mới khuyến mãi\r\n                            </button>\r\n                        </div>\r\n                        <div class=\"ml-2\">\r\n                            <a th:href=\"@{/tiger/promotion-detail/page}\">\r\n                                <button style=\"\r\n                                     height: 40px;\" type=\"button\" class=\"btn btn-warning\"><i class=\"fa-solid fa-arrows-rotate\"></i>\r\n                                    Thêm giảm giá cho sản phẩm\r\n                                </button>\r\n                            </a>\r\n                        </div>\r\n\r\n                        <div class=\"modal fade\" id=\"addModal\" tabindex=\"-1\" role=\"dialog\"\r\n                             aria-labelledby=\"addModalLabel\"\r\n                             aria-hidden=\"true\">\r\n                            <div class=\"modal-dialog modal-dialog-centered modal-lg \" role=\"document\">\r\n                                <div class=\"modal-content\">\r\n                                    <div class=\"modal-header\">\r\n                                        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                                            <span aria-hidden=\"true\">&times;</span>\r\n                                        </button>\r\n                                    </div>\r\n\r\n                                    <div class=\"modal-body\">\r\n                                        <div class=\"card\">\r\n                                            <div class=\"card-header\">\r\n                                                <strong>Thêm khuyến mãi</strong>\r\n                                            </div>\r\n                                            <div class=\"card-body card-block\">\r\n                                                <div class=\"form-group row\">\r\n                                                    <label class=\"col-sm-2 col-form-label font-weight-bold\">Tên\r\n                                                        khuyến mãi</label>\r\n                                                    <div class=\"col-sm-10\">\r\n                                                        <input type=\"text\" class=\"form-control\" name=\"name\"\r\n                                                               id=\"name\"\r\n                                                               oninput=\"onInputText('errorName')\">\r\n                                                        <small class=\"\" style=\"color: red\"\r\n                                                               id=\"errorName\"></small>\r\n                                                    </div>\r\n                                                </div>\r\n\r\n                                                <div class=\"form-group row\">\r\n                                                    <label class=\"col-sm-2 col-form-label font-weight-bold\">Phần trăm\r\n                                                        giảm</label>\r\n                                                    <div class=\"col-sm-10\">\r\n                                                        <input type=\"text\" class=\"form-control\" name=\"value\"\r\n                                                               id=\"value\"\r\n                                                               oninput=\"onInputText('errorValue')\">\r\n                                                        <small class=\"\" style=\"color: red\"\r\n                                                               id=\"errorValue\"></small>\r\n                                                    </div>\r\n                                                </div>\r\n\r\n                                                <div class=\"form-group row\">\r\n                                                    <label class=\"col-sm-2 col-form-label font-weight-bold\">Ngày bắt\r\n                                                        đầu</label>\r\n                                                    <div class=\"col-sm-10\">\r\n                                                        <div id=\"start-date-picker\"\r\n                                                             class=\"md-form md-outline input-with-post-icon datepicker\"\r\n                                                             inline=\"true\">\r\n                                                            <input placeholder=\"Choose start date\"\r\n                                                                   type=\"datetime-local\"\r\n                                                                   id=\"startDate\"\r\n                                                                   class=\"form-control\"\r\n                                                                   name=\"startDate\"\r\n\r\n                                                                   oninput=\"onInputText('errorStartDate')\"\r\n                                                            >\r\n\r\n                                                            <small class=\"\" style=\"color: red\"\r\n                                                                   id=\"errorStartDate\"></small>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n\r\n                                                <div class=\"form-group row\">\r\n                                                    <label class=\"col-sm-2 col-form-label font-weight-bold\">Ngày kết\r\n                                                        thúc</label>\r\n                                                    <div class=\"col-sm-10\">\r\n                                                        <div id=\"end-date-picker\"\r\n                                                             class=\"md-form md-outline input-with-post-icon datepicker\"\r\n                                                             inline=\"true\">\r\n                                                            <input placeholder=\"Choose start date\"\r\n                                                                   type=\"datetime-local\"\r\n                                                                   id=\"endDate\"\r\n                                                                   class=\"form-control\"\r\n                                                                   name=\"endDate\"\r\n                                                                   inputmode=\"numeric\"\r\n                                                                   oninput=\"onInputText('errorEndDate')\"\r\n                                                            >\r\n                                                            <small class=\"\" style=\"color: red\"\r\n                                                                   id=\"errorEndDate\"></small>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div class=\"modal-footer\">\r\n                                                    <button type=\"button\" class=\"btn btn-secondary\"\r\n                                                            data-dismiss=\"modal\">Đóng\r\n                                                    </button>\r\n                                                    <button onclick=\"clickAdd('promotion', 'promotionForm')\"\r\n                                                            type=\"button\" class=\"btn btn-dark\">\r\n                                                        <i class=\"fa-solid fa-square-plus px-4\"></i>\r\n                                                    </button>\r\n                                                </div>\r\n                                                <script th:inline=\"javascript\">\r\n                                                    let enteredCodes = new Set();\r\n\r\n                                                    function onInputText(errorElementId) {\r\n                                                        document.getElementById(errorElementId).innerHTML = '';\r\n                                                    }\r\n\r\n                                                    checkName = () => {\r\n                                                        let isName = document.getElementById('name').value\r\n                                                        if (isName.trim() === '') {\r\n                                                            document.getElementById('errorName').innerHTML = `Chưa nhập tên`\r\n                                                            return false;\r\n                                                        }\r\n                                                        return true;\r\n                                                    }\r\n\r\n                                                    checkValue = () => {\r\n                                                        let isValue = document.getElementById('value').value;\r\n                                                        let errorElement = document.getElementById('errorValue');\r\n                                                        errorElement.innerHTML = '';\r\n                                                        if (isValue.trim() === '') {\r\n                                                            errorElement.innerHTML = 'Chưa nhập giá trị';\r\n                                                            return false;\r\n                                                        }\r\n                                                        if (isNaN(isValue)) {\r\n                                                            errorElement.innerHTML = 'Vui lòng nhập một giá trị số';\r\n                                                            return false;\r\n                                                        }\r\n                                                        isValue = parseFloat(isValue);\r\n                                                        if (isValue <= 0) {\r\n                                                            errorElement.innerHTML = 'Phần trăm giảm phải lớn hơn  0 %';\r\n                                                            return false;\r\n                                                        }\r\n                                                        if (isValue > 50) {\r\n                                                            errorElement.innerHTML = 'Phần trăm giảm phải nhỏ hơn hoặc bằng 50 %';\r\n                                                            return false;\r\n                                                        }\r\n                                                        return true;\r\n                                                    };\r\n                                                    checkStartDate = () => {\r\n                                                        let startDateInput = document.getElementById('startDate');\r\n                                                        let errorStartDate = document.getElementById('errorStartDate');\r\n\r\n                                                        let startDateValue = startDateInput.value.trim();\r\n                                                        if (startDateValue === '') {\r\n                                                            errorStartDate.innerHTML = `Chưa nhập ngày bắt đầu`;\r\n                                                            return false;\r\n                                                        }\r\n\r\n                                                        errorStartDate.innerHTML = '';\r\n                                                        return true;\r\n                                                    }\r\n\r\n                                                    checkEndDate = () => {\r\n                                                        let endDateInput = document.getElementById('endDate');\r\n                                                        let errorEndDate = document.getElementById('errorEndDate');\r\n\r\n                                                        let endDateValue = endDateInput.value.trim();\r\n                                                        if (endDateValue === '') {\r\n                                                            errorEndDate.innerHTML = `Chưa nhập ngày kết thúc`;\r\n                                                            return false;\r\n                                                        }\r\n\r\n                                                        let startDateValue = document.getElementById('startDate').value.trim();\r\n                                                        let startDate = new Date(startDateValue);\r\n                                                        let endDate = new Date(endDateValue);\r\n\r\n                                                        let currentDate = new Date();\r\n\r\n                                                        if (endDate <= startDate) {\r\n                                                            errorEndDate.innerHTML = `Ngày kết thúc phải lớn hơn ngày bắt đầu`;\r\n                                                            return false;\r\n                                                        }\r\n\r\n                                                        if (endDate <= currentDate) {\r\n                                                            errorEndDate.innerHTML = `Ngày kết thúc phải lớn hơn ngày hiện tại`;\r\n                                                            return false;\r\n                                                        }\r\n\r\n                                                        errorEndDate.innerHTML = '';\r\n                                                        return true;\r\n                                                    }\r\n\r\n                                                    validate = () => {\r\n                                                        let isName = checkName();\r\n                                                        let isValue = checkValue();\r\n                                                        let isStartDate = checkStartDate()\r\n                                                        let isEndDate = checkEndDate()\r\n                                                        if (isName === true && isValue === true && isStartDate === true && isEndDate === true) {\r\n                                                            return true;\r\n                                                        }\r\n                                                    }\r\n\r\n                                                    clickAdd = (entity, idForm) => {\r\n                                                        if (validate()) {\r\n                                                            Swal.fire({\r\n                                                                title: \"Thêm dữ liệu\",\r\n                                                                text: \"Bạn có muốn thêm dữ liệu không ?\",\r\n                                                                icon: \"question\",\r\n                                                                showCancelButton: true,\r\n                                                                confirmButtonColor: \"#0DC149\",\r\n                                                                cancelButtonColor: \"#d33\",\r\n                                                                confirmButtonText: \"Có\",\r\n                                                                cancelButtonText: \"Không\",\r\n                                                                allowOutsideClick: false\r\n                                                            }).then((add) => {\r\n                                                                if (add.isConfirmed) {\r\n                                                                    document.getElementById(idForm).action = '/tiger/' + entity + '/add'\r\n                                                                    document.getElementById(idForm).method = 'post'\r\n                                                                    document.getElementById(idForm).submit()\r\n                                                                }\r\n                                                            });\r\n                                                        }\r\n\r\n                                                    }\r\n                                                </script>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class=\"col\" style=\"margin-top: 20px\">\r\n        <div class=\"card\">\r\n            <div class=\"card-header\" th:if=\"${pagePromotion.isEmpty()}\">\r\n                <strong class=\"card-title\">KHÔNG CÓ DỮ LIỆU</strong>\r\n            </div>\r\n            <div th:if=\"${not pagePromotion.isEmpty()}\">\r\n                <div class=\"card-header\">\r\n                    <strong>CÓ</strong>\r\n                    <strong class=\"card-title\" th:text=\"${pagePromotion.getTotalElements()}\"></strong>\r\n                    <strong class=\"card-title\"> BẢN GHI</strong>\r\n                </div>\r\n                <div class=\"card-body\">\r\n                    <form id=\"promotionDelete\">\r\n                        <table class=\"table text-center\">\r\n                            <thead class=\"thead-dark\">\r\n                            <tr>\r\n                                <th scope=\"col\">Mã khuyến mãi</th>\r\n                                <th scope=\"col\">Tên khuyến mãi</th>\r\n                                <th scope=\"col\">Phần trăm giảm</th>\r\n                                <th scope=\"col\">Ngày bắt đầu</th>\r\n                                <th scope=\"col\">Ngày kết thúc</th>\r\n                                <th scope=\"col\">Trạng thái</th>\r\n                                <th scope=\"col\">Chức năng</th>\r\n                            </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                            <tr th:each=\"items:${pagePromotion}\">\r\n                                <td th:text=\"${items.code}\"></td>\r\n                                <td th:text=\"${items.name}\"></td>\r\n                                <td th:text=\"${items.value}+ '%'\"></td>\r\n                                <td th:text=\"${#dates.format(items.startDate, 'dd-MM-yyyy HH:mm:ss')}\"></td>\r\n                                <td th:text=\"${#dates.format(items.endDate, 'dd-MM-yyyy HH:mm:ss')}\"></td>\r\n                                <td>\r\n                                    <span th:if=\"${items.status == 1}\">Hoạt động</span>\r\n                                    <span th:if=\"${items.status == 2}\">Đang chờ</span>\r\n                                </td>\r\n                                <td class=\"d-flex justify-content-center\">\r\n                                    <div class=\"dropdown\">\r\n                                        <button class=\"btn btn-dark\" type=\"button\"\r\n                                                id=\"dropdownMenuButton\" data-toggle=\"dropdown\"\r\n                                                aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                                            <i class=\"fa-solid fa-ellipsis-vertical\"></i>\r\n                                        </button>\r\n                                        <div class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\r\n                                            <a class=\"dropdown-item\"\r\n                                               th:href=\"@{'/tiger/promotion/detail/' + ${items.id}}\">\r\n                                                <i class=\"fa-solid fa-pen mr-3\"></i>Sửa</a>\r\n                                            <a class=\"dropdown-item\"\r\n                                               th:href=\"@{'/tiger/promotion/promotionChiTiet/' + ${items.id}}\">\r\n                                                <i class=\"fa-solid fa-eye mr-2\"></i>Chi tiết</a>\r\n                                            <button\r\n                                                    th:onclick=\"clickDelete('promotion', 'promotionDelete', [[${items.id}]])\"\r\n                                                    type=\"button\" class=\"dropdown-item\"><i\r\n                                                    class=\"fa-solid fa-trash mr-3\"></i>Xóa\r\n                                            </button>\r\n                                        </div>\r\n                                    </div>\r\n                                </td>\r\n\r\n                            </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </form>\r\n                    <div class=\"d-flex justify-content-center align-items-center\">\r\n                        <div th:if=\"${pagePromotion.getNumber() + 1 > 1}\" class=\"btn btn-dark mr-1\">\r\n                            <a th:href=\"@{|?page=0&promotionNameSearch=${promotionNameSearch}|}\">\r\n                                </i><i style=\"color: white\" class=\"fa-solid fa-backward-fast\"></i></a>\r\n                        </div>\r\n                        <div th:if=\"${pagePromotion.getNumber() + 1 > 1}\" class=\"btn btn-dark mr-1\">\r\n                            <a th:href=\"@{|?page=${pagePromotion.getNumber() - 1}&promotionNameSearch=${promotionNameSearch}|}\">\r\n                                <i style=\"color: white\" class=\"fa-solid fa-left-long\"></i></a>\r\n                        </div>\r\n                        <div class=\"btn btn-dark d-flex\">\r\n                            <div th:text=\"${pagePromotion.getNumber() + 1}\"></div>\r\n                            <span>/</span>\r\n                            <div th:text=\"${pagePromotion.getTotalPages()}\"></div>\r\n                        </div>\r\n                        <div th:if=\"${pagePromotion.getNumber() + 1 lt pagePromotion.getTotalPages()}\"\r\n                             class=\"btn btn-dark ml-1\">\r\n                            <a th:href=\"@{|?page=${pagePromotion.getNumber()+1}&promotionNameSearch=${promotionNameSearch}|}\">\r\n                                <i style=\"color: white\" class=\"fa-solid fa-left-long fa-rotate-180\"></i></a>\r\n                        </div>\r\n                        <div th:if=\"${pagePromotion.getNumber() + 1 lt pagePromotion.getTotalPages()}\"\r\n                             class=\"btn btn-dark ml-1\">\r\n                            <a th:href=\"@{|?page=${pagePromotion.getTotalPages()-1}&promotionNameSearch=${promotionNameSearch}|}\">\r\n                                <i style=\"color: white\" class=\"fa-solid fa-forward-fast\"></i></a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n</body>\r\n</html>\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/resources/templates/admin/promotion/promotion.html b/src/main/resources/templates/admin/promotion/promotion.html
--- a/src/main/resources/templates/admin/promotion/promotion.html	(revision a3f2f4fe416fb7db81751953dbcaea2f7d6afbda)
+++ b/src/main/resources/templates/admin/promotion/promotion.html	(date 1725264597978)
@@ -56,6 +56,7 @@
                             <label>Trạng thái</label>
                             <select class="form-control" name="status" th:value="${status}">
                                 <option value="">Tất cả</option>
+                                <option  value="0" th:selected="${status == 0}">Ngưng hoạt động</option>
                                 <option  value="1" th:selected="${status == 1}">Hoạt động</option>
                                 <option value="2" th:selected="${status == 2}">Đang chờ</option>
                             </select>
@@ -355,6 +356,7 @@
                                 <td th:text="${#dates.format(items.startDate, 'dd-MM-yyyy HH:mm:ss')}"></td>
                                 <td th:text="${#dates.format(items.endDate, 'dd-MM-yyyy HH:mm:ss')}"></td>
                                 <td>
+                                    <span th:if="${items.status == 0}">Ngưng hoạt động</span>
                                     <span th:if="${items.status == 1}">Hoạt động</span>
                                     <span th:if="${items.status == 2}">Đang chờ</span>
                                 </td>
Index: target/classes/templates/user/cart.html
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><!DOCTYPE html>\r\n<html lang=\"en\" xmlns:th=\"http://www.thymeleaf.org\">\r\n\r\n<head th:replace=\"~{/user/fragments::head}\">\r\n</head>\r\n\r\n<body>\r\n\r\n    <div th:replace=\"~{/user/fragments::header}\"></div>\r\n    <!-- Cart Start -->\r\n    <!--     Page Header Start -->\r\n    <div class=\"container-fluid mb-5\" style=\"background: #00aa88\">\r\n        <div class=\"d-flex flex-column align-items-center justify-content-center\" style=\"min-height: 300px\">\r\n            <h1 class=\"font-weight-semi-bold text-uppercase mb-3\">Giỏ hàng</h1>\r\n            <div class=\"d-inline-flex\">\r\n                <p class=\"m-0\"><a href=\"/home\">Trang chủ</a></p>\r\n                <p class=\"m-0 px-2\">-</p>\r\n                <p class=\"m-0\">Giỏ hàng</p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <!--     Page Header End -->\r\n\r\n\r\n    <div class=\"container-fluid pt-5\">\r\n        <div th:if=\"${mess}\">\r\n            <button hidden id=\"btnSuccess\" th:onclick=\"alertSuccess([[${mess}]])\">Click Me</button>\r\n            <script th:inline=\"javascript\">\r\n                window.onload = function () {\r\n                    var btnSuccess = document.getElementById(\"btnSuccess\");\r\n                    btnSuccess.click();\r\n                }\r\n                alertSuccess = (content) => {\r\n                    Swal.fire({\r\n                        title: content,\r\n                        icon: \"success\",\r\n                        confirmButtonColor: \"#0DC149\"\r\n                    });\r\n                }\r\n            </script>\r\n        </div>\r\n\r\n        <div th:if=\"${error}\">\r\n            <button hidden id=\"btnError\" th:onclick=\"alertError([[${error}]])\">Click Me</button>\r\n            <script th:inline=\"javascript\">\r\n                window.onload = function () {\r\n                    var btnError = document.getElementById(\"btnError\");\r\n                    btnError.click();\r\n                }\r\n                alertError = (content) => {\r\n                    Swal.fire({\r\n                        title: \"Lỗi\",\r\n                        text: content,\r\n                        icon: \"error\",\r\n                        confirmButtonColor: \"#d33\"\r\n                    });\r\n                }\r\n            </script>\r\n        </div>\r\n        <div th:if=\"${check}\">\r\n            <h4 class=\"text-center\" style=\"color: darkslategray\" th:text=\"${check}\"><i class=\"text-info font-weight-bold text-center\"></i></h4>\r\n        </div>\r\n        <div th:if=\"${check}\" class=\"text-center\">\r\n            <a th:href=\"@{/shop}\" class=\"btn btn-success\">MUA NGAY</a>\r\n        </div>\r\n        <div class=\"row px-xl-5\">\r\n            <div class=\"col-lg-9 table-responsive mb-5\">\r\n                <table class=\"table table-bordered text-center mb-0\" th:if=\"${grandTotal}\">\r\n                    <thead class=\"bg-secondary text-dark\">\r\n                        <tr>\r\n                            <th></th>\r\n                            <th>Mã</th>\r\n                            <th>Tên sản phẩm</th>\r\n                            <th>Phân loại sản phẩm</th>\r\n                            <th>Đơn giá</th>\r\n                            <th>Số lượng</th>\r\n                            <th>Số tiền</th>\r\n                            <th>Thao tác</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody class=\"align-middle\">\r\n                        <tr th:each=\"cartItem : ${cart.cartDetails}\">\r\n                            <td class=\"align-middle\"><img th:src=\"@{'/image/product/' + ${cartItem.getProductDetail().product.id}}\" alt=\"\" style=\"width: 50px;\"></td>\r\n                            <td class=\"align-middle\" th:text=\"${cartItem.productDetail.code}\"></td>\r\n                            <td class=\"align-middle\" th:text=\"${cartItem.productDetail.product.name}\"></td>\r\n                            <td class=\"align-middle\"\r\n                                th:text=\"'Màu: ' + ${cartItem.productDetail.color.name}\r\n                                + ', ' + 'Kích cỡ: ' + ${cartItem.productDetail.size.name}\"></td>\r\n                            <td class=\"align-middle\"\r\n                                th:text=\"'₫' + ${#numbers.formatDecimal(cartItem.price, 0, 'COMMA', 0, 'POINT')}\"></td>\r\n                            <form th:action=\"@{/update-cart}\" method=\"post\" name=\"form1\">\r\n                                <input type=\"hidden\" name=\"id\" th:value=\"${cartItem.productDetail.id}\">\r\n                                <td class=\"align-middle\">\r\n                                    <div class=\"input-group quantity mx-auto\" style=\"width: 100px;\">\r\n                                        <div class=\"input-group-btn\">\r\n                                            <button class=\"btn btn-sm btn-primary btn-minus\" type=\"button\">\r\n                                                <i class=\"fa fa-minus\"></i>\r\n                                            </button>\r\n                                        </div>\r\n                                        <input type=\"text\" class=\"form-control form-control-sm  text-center\" max=\"1000000\" name=\"quantity\" th:value=\"${cartItem.quantity}\"\r\n                                                style=\"margin-left: 5px; margin-right: 5px\">\r\n                                        <div class=\"input-group-btn\">\r\n                                            <button class=\"btn btn-sm btn-primary btn-plus\" type=\"button\">\r\n                                                <i class=\"fa fa-plus\"></i>\r\n                                            </button>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"mt-2 text-center\">\r\n                                        Tồn kho: <span th:text=\"${cartItem.productDetail.quantity}\"></span>\r\n                                    </div>\r\n                                </td>\r\n                                <td class=\"align-middle\"\r\n                                    th:text=\"'₫' + ${#numbers.formatDecimal(cartItem.price * cartItem.quantity, 0, 'COMMA', 0, 'POINT')}\"\r\n                                ></td>\r\n                                <td class=\"align-middle\">\r\n                                    <button class=\"btn btn-sm btn-primary\"\r\n                                            type=\"submit\" name=\"action\" value=\"update\" title=\"Update\"><i class=\"fa fa-pencil\"></i></button>\r\n                                    <button class=\"btn btn-sm btn-primary\"\r\n                                            type=\"submit\" name=\"action\" value=\"delete\" title=\"Update\"><i class=\"fa fa-times\"></i></button>\r\n                                </td>\r\n                            </form>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n            <div class=\"col-lg-3\" th:if=\"${grandTotal}\">\r\n                <div class=\"card border-secondary mb-5\">\r\n                    <div class=\"card-header bg-secondary border-0\">\r\n                        <h4 class=\"font-weight-semi-bold m-0\">Tổng quan giỏ hàng</h4>\r\n                    </div>\r\n\r\n                    <div class=\"card-body\">\r\n                        <div class=\"d-flex justify-content-between mb-3 pt-1\">\r\n                            <h6 class=\"font-weight-medium\">Tổng tiền hàng</h6>\r\n                            <h6 class=\"font-weight-medium\"\r\n                                th:text=\"'₫' + ${#numbers.formatDecimal(grandTotal, 0, 'COMMA', 0, 'POINT')}\"></h6>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"card-footer border-secondary bg-transparent\">\r\n                        <div class=\"d-flex justify-content-between mt-2\">\r\n                            <h5 class=\"font-weight-bold\">Thành tiền</h5>\r\n                            <h5 class=\"font-weight-bold\"\r\n                                th:text=\"'₫' + ${#numbers.formatDecimal(grandTotal, 0, 'COMMA', 0, 'POINT')}\"></h5>\r\n                        </div>\r\n                        <a th:href=\"@{/checkout}\" class=\"btn btn-block btn-primary my-3 py-3\">\r\n                            Thanh toán\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <!-- Cart End -->\r\n\r\n    <div th:replace=\"~{/user/fragments::footer}\"></div>\r\n\r\n    <div th:replace=\"~{/user/fragments::script}\"></div>\r\n\r\n    <script>\r\n        document.querySelector('input[name=\"quantity\"]').addEventListener('input', function(e) {\r\n            let value = e.target.value;\r\n            // Chỉ cho phép số dương và không cho phép để trống hoặc dấu cách\r\n            e.target.value = value.replace(/[^0-9]| /g, '');\r\n            // Kiểm tra nếu giá trị là chuỗi rỗng\r\n            if (e.target.value.trim() === '' || e.target.value.trim() === 0 ) {\r\n                e.target.value = '1';\r\n            } else if (e.target.value.trim() > 1000000) {\r\n                e.target.value = '1000000';\r\n            }\r\n\r\n        });\r\n\r\n    </script>\r\n\r\n</body>\r\n\r\n</html>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/target/classes/templates/user/cart.html b/target/classes/templates/user/cart.html
--- a/target/classes/templates/user/cart.html	(revision a3f2f4fe416fb7db81751953dbcaea2f7d6afbda)
+++ b/target/classes/templates/user/cart.html	(date 1725264597981)
@@ -93,15 +93,15 @@
                                 <td class="align-middle">
                                     <div class="input-group quantity mx-auto" style="width: 100px;">
                                         <div class="input-group-btn">
-                                            <button class="btn btn-sm btn-primary btn-minus" type="button">
-                                                <i class="fa fa-minus"></i>
+                                            <button class="btn btn-sm btn-primary btn-minus" type="submit" name="action" value="update" title="Update">
+                                                <i class="fa fa-minus" type="submit" name="action" value="update" title="Update"></i>
                                             </button>
                                         </div>
                                         <input type="text" class="form-control form-control-sm  text-center" max="1000000" name="quantity" th:value="${cartItem.quantity}"
                                                 style="margin-left: 5px; margin-right: 5px">
                                         <div class="input-group-btn">
-                                            <button class="btn btn-sm btn-primary btn-plus" type="button">
-                                                <i class="fa fa-plus"></i>
+                                            <button class="btn btn-sm btn-primary btn-plus" type="submit" name="action" value="update" title="Update">
+                                                <i class="fa fa-plus" ></i>
                                             </button>
                                         </div>
                                     </div>
@@ -113,8 +113,7 @@
                                     th:text="'₫' + ${#numbers.formatDecimal(cartItem.price * cartItem.quantity, 0, 'COMMA', 0, 'POINT')}"
                                 ></td>
                                 <td class="align-middle">
-                                    <button class="btn btn-sm btn-primary"
-                                            type="submit" name="action" value="update" title="Update"><i class="fa fa-pencil"></i></button>
+  
                                     <button class="btn btn-sm btn-primary"
                                             type="submit" name="action" value="delete" title="Update"><i class="fa fa-times"></i></button>
                                 </td>
Index: src/main/java/com/sd38/gymtiger/repository/PromotionRepository.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.sd38.gymtiger.repository;\r\n\r\nimport com.sd38.gymtiger.dto.admin.PromotionDetailDTO;\r\nimport com.sd38.gymtiger.dto.admin.thongke.PromotionSearchDTO;\r\nimport com.sd38.gymtiger.model.Promotion;\r\nimport org.springframework.data.domain.Page;\r\nimport org.springframework.data.domain.Pageable;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.data.jpa.repository.Query;\r\nimport org.springframework.data.repository.query.Param;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport java.util.Date;\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\n@Repository\r\npublic interface PromotionRepository extends JpaRepository<Promotion, Integer> {\r\n    Optional<Promotion> findByCode(String code);\r\n\r\n    Promotion findTopByOrderByIdDesc();\r\n\r\n    Promotion findByName(String name);\r\n\r\n    List<Promotion> findByEndDateBeforeAndStatus(Date endDate, Integer status);\r\n\r\n    List<Promotion> findAllByStatusOrderByIdDesc(Integer status);\r\n\r\n    @Query(\"SELECT p FROM Promotion p WHERE p.status IN (1, 2) ORDER BY p.id DESC\")\r\n    Page<Promotion> findAllByStatusOrderByIdDesc(Pageable pageable);\r\n\r\n    Page<Promotion> findAllByNameContainsAndStatusOrderByIdDesc(String name, Integer status, Pageable pageable);\r\n\r\n    @Query(value = \"SELECT p.id AS id, p.code AS code, p.name AS name, p.value AS value, p.startDate AS startDate, p.endDate AS endDate, p.status AS status \" +\r\n            \"FROM Promotion p\"\r\n    )\r\n    Page<PromotionSearchDTO> listPromotions(Pageable pageable);\r\n\r\n    @Query(value = \"SELECT p.id AS id, p.code AS code, p.name AS name, p.value AS value, p.startDate AS startDate, p.endDate AS endDate, p.status AS status \" +\r\n            \"FROM Promotion p \" +\r\n            \"WHERE (p.code IS NULL OR p.code LIKE CONCAT('%', :code, '%')) \" +\r\n            \"AND (:ngayTaoStart IS NULL OR :ngayTaoEnd IS NULL OR (p.endDate BETWEEN :ngayTaoStart AND :ngayTaoEnd)) \" +\r\n            \"AND (p.status IS NULL OR p.status = :status) \" +\r\n            \"AND (p.name IS NULL OR p.name LIKE CONCAT('%', :name, '%')) \")\r\n    Page<PromotionSearchDTO> searchPromotion(\r\n            @Param(\"code\") String code,\r\n            @Param(\"ngayTaoStart\") Date ngayTaoStart,\r\n            @Param(\"ngayTaoEnd\") Date ngayTaoEnd,\r\n            @Param(\"status\") Integer status,\r\n            @Param(\"name\") String name,\r\n            Pageable pageable);\r\n\r\n    @Query(value = \"SELECT \" +\r\n            \"    PD.id AS promotionDetailId, \" +\r\n            \"    P.id AS productId, \" +\r\n            \"    PR.name AS promotionName, \" +\r\n            \"    P.name AS productName, \" +\r\n            \"    P.code AS productCode, \" +\r\n            \"    MIN(PD2.price) AS minProductPrice, \" +\r\n            \"    MAX(PD2.price) AS maxProductPrice, \" +\r\n            \"    MIN(PD2.priceDiscount) AS minProductPriceDiscount, \" +\r\n            \"    MAX(PD2.priceDiscount) AS maxProductPriceDiscount ,\" +\r\n            \"    PR.startDate AS promotionStartDate, \" +\r\n            \"    PR.endDate AS promotionEndDate, \" +\r\n            \"    PR.value AS promotionValue \" +\r\n            \"FROM \" +\r\n            \"    PromotionDetail PD \" +\r\n            \"JOIN \" +\r\n            \"    Product P ON PD.product.id = P.id \" +\r\n            \"JOIN \" +\r\n            \"    Promotion PR ON PD.promotion.id = PR.id \" +\r\n            \"JOIN \" +\r\n            \"    ProductDetail PD2 ON P.id = PD2.product.id \" +\r\n            \"WHERE \" +\r\n            \"    PD.promotion.id = :promotionId \" +\r\n            \"    AND PD.status = 1 \" +\r\n            \"    AND P.status = 2 \" +\r\n            \"GROUP BY \" +\r\n            \"    PD.id, PR.name, P.name, P.code, PR.startDate, PR.endDate, PR.value, P.id,P.createDate\"+\r\n            \" ORDER BY P.createDate DESC\"\r\n    )\r\n    List<PromotionDetailDTO> getPromotionDetailsByPromotionId(@Param(\"promotionId\") Integer promotionId);\r\n\r\n    Promotion findByNameAndStatus(String name, Integer status);\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/com/sd38/gymtiger/repository/PromotionRepository.java b/src/main/java/com/sd38/gymtiger/repository/PromotionRepository.java
--- a/src/main/java/com/sd38/gymtiger/repository/PromotionRepository.java	(revision a3f2f4fe416fb7db81751953dbcaea2f7d6afbda)
+++ b/src/main/java/com/sd38/gymtiger/repository/PromotionRepository.java	(date 1725264597970)
@@ -26,7 +26,7 @@
 
     List<Promotion> findAllByStatusOrderByIdDesc(Integer status);
 
-    @Query("SELECT p FROM Promotion p WHERE p.status IN (1, 2) ORDER BY p.id DESC")
+    @Query("SELECT p FROM Promotion p WHERE p.status IN (0, 1, 2) ORDER BY p.id DESC")
     Page<Promotion> findAllByStatusOrderByIdDesc(Pageable pageable);
 
     Page<Promotion> findAllByNameContainsAndStatusOrderByIdDesc(String name, Integer status, Pageable pageable);
@@ -38,10 +38,11 @@
 
     @Query(value = "SELECT p.id AS id, p.code AS code, p.name AS name, p.value AS value, p.startDate AS startDate, p.endDate AS endDate, p.status AS status " +
             "FROM Promotion p " +
-            "WHERE (p.code IS NULL OR p.code LIKE CONCAT('%', :code, '%')) " +
-            "AND (:ngayTaoStart IS NULL OR :ngayTaoEnd IS NULL OR (p.endDate BETWEEN :ngayTaoStart AND :ngayTaoEnd)) " +
-            "AND (p.status IS NULL OR p.status = :status) " +
-            "AND (p.name IS NULL OR p.name LIKE CONCAT('%', :name, '%')) ")
+            "WHERE (LOWER(p.code) LIKE LOWER(CONCAT('%', :code, '%')) OR :code IS NULL) AND " +
+            "(p.status = :status OR :status IS NULL) AND " +
+            "(LOWER(p.name) LIKE LOWER(CONCAT('%', :name, '%')) OR :name IS NULL) AND " +
+            "(:ngayTaoStart IS NULL OR p.startDate <= :ngayTaoStart) AND " +
+            "(:ngayTaoEnd IS NULL OR p.endDate >= :ngayTaoEnd)")
     Page<PromotionSearchDTO> searchPromotion(
             @Param("code") String code,
             @Param("ngayTaoStart") Date ngayTaoStart,
Index: .idea/workspace.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"AutoImportSettings\">\r\n    <option name=\"autoReloadType\" value=\"SELECTIVE\" />\r\n  </component>\r\n  <component name=\"ChangeListManager\">\r\n    <list default=\"true\" id=\"26a404a7-46ce-47e3-8dda-c9c95e4f9e2d\" name=\"Changes\" comment=\"\">\r\n      <change afterPath=\"$PROJECT_DIR$/.idea/inspectionProfiles/Project_Default.xml\" afterDir=\"false\" />\r\n      <change afterPath=\"$PROJECT_DIR$/.idea/jsLinters/jshint.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/.idea/workspace.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/workspace.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/pom.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/pom.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/src/main/resources/application.properties\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/src/main/resources/application.properties\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/application.properties\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/application.properties\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/GymTigerApplication.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/GymTigerApplication.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/config/GHNConfig.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/config/GHNConfig.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/config/HotReloadConfig.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/config/HotReloadConfig.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/config/MailConfig.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/config/MailConfig.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/config/MomoPaymentConfig.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/config/MomoPaymentConfig.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/config/SecurityConfig.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/config/SecurityConfig.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/config/VNPaymentConfig.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/config/VNPaymentConfig.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/config/VietQRConfig.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/config/VietQRConfig.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/config/ZaloPayConfig.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/config/ZaloPayConfig.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/AccountController.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/AccountController.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/AddressController.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/AddressController.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/AuthController.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/AuthController.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/BillController.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/BillController.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/BrandController.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/BrandController.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/CategoryController.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/CategoryController.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/ColorController.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/ColorController.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/ErrorHandlerController.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/ErrorHandlerController.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/ExcelTemplate.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/ExcelTemplate.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/FormController.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/FormController.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/ImageController.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/ImageController.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/MaterialController.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/MaterialController.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/OfflineCartController.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/OfflineCartController.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/PaymentMethodController.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/PaymentMethodController.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/ProductController.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/ProductController.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/ProductDetailController.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/ProductDetailController.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/PromotionController.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/PromotionController.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/PromotionDetailController.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/PromotionDetailController.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/RestAccountController.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/RestAccountController.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/RestOfflineCartController.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/RestOfflineCartController.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/RoleController.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/RoleController.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/SizeController.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/SizeController.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/ThongKeController.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/ThongKeController.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/VoucherController.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/VoucherController.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/common/ShowImageController.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/common/ShowImageController.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/common/ShowQRCodeController.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/common/ShowQRCodeController.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/user/HomeController.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/user/HomeController.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/user/UserBillController.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/user/UserBillController.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/user/UserCartController.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/user/UserCartController.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/user/rest/AddressRestController.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/user/rest/AddressRestController.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/user/rest/ShippingFeeRestController.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/user/rest/ShippingFeeRestController.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/user/rest/VoucherRestController.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/user/rest/VoucherRestController.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/dto/admin/Impl/ProductDetailDtoImpl.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/dto/admin/Impl/ProductDetailDtoImpl.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/dto/common/impl/ProductAndValueDiscountDtoImpl.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/dto/common/impl/ProductAndValueDiscountDtoImpl.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/dto/common/impl/ProductDetailDiscountDtoImpl.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/dto/common/impl/ProductDetailDiscountDtoImpl.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/dto/common/impl/ProductDiscountHomeDtoImpl.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/dto/common/impl/ProductDiscountHomeDtoImpl.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/dto/common/impl/ProductHomeDtoImpl.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/dto/common/impl/ProductHomeDtoImpl.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Account$AccountBuilder.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Account$AccountBuilder.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Account.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Account.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Address$AddressBuilder.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Address$AddressBuilder.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Address.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Address.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Bill$BillBuilder.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Bill$BillBuilder.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Bill.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Bill.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/BillDetail$BillDetailBuilder.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/BillDetail$BillDetailBuilder.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/BillDetail.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/BillDetail.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Brand$BrandBuilder.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Brand$BrandBuilder.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Brand.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Brand.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Cart$CartBuilder.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Cart$CartBuilder.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Cart.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Cart.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/CartDetail.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/CartDetail.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Category$CategoryBuilder.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Category$CategoryBuilder.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Category.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Category.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Color$ColorBuilder.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Color$ColorBuilder.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Color.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Color.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Customer$CustomerBuilder.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Customer$CustomerBuilder.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Customer.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Customer.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/District.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/District.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Form$FormBuilder.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Form$FormBuilder.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Form.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Form.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Image$ImageBuilder.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Image$ImageBuilder.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Image.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Image.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Material$MaterialBuilder.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Material$MaterialBuilder.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Material.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Material.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/OfflineCart$OfflineCartBuilder.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/OfflineCart$OfflineCartBuilder.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/OfflineCart.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/OfflineCart.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/OfflineCartView$OfflineCartViewBuilder.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/OfflineCartView$OfflineCartViewBuilder.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/OfflineCartView.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/OfflineCartView.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/PaymentMethod$PaymentMethodBuilder.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/PaymentMethod$PaymentMethodBuilder.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/PaymentMethod.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/PaymentMethod.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Product$ProductBuilder.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Product$ProductBuilder.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Product.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Product.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/ProductDetail$ProductDetailBuilder.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/ProductDetail$ProductDetailBuilder.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/ProductDetail.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/ProductDetail.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Promotion$PromotionBuilder.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Promotion$PromotionBuilder.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Promotion.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Promotion.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/PromotionDetail$PromotionDetailBuilder.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/PromotionDetail$PromotionDetailBuilder.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/PromotionDetail.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/PromotionDetail.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Province.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Province.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Role$RoleBuilder.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Role$RoleBuilder.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Role.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Role.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/SessionCart.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/SessionCart.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/SessionCartItem.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/SessionCartItem.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/ShippingCalculator.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/ShippingCalculator.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Size$SizeBuilder.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Size$SizeBuilder.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Size.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Size.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/TempBill$TempBillBuilder.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/TempBill$TempBillBuilder.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/TempBill.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/TempBill.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Voucher$VoucherBuilder.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Voucher$VoucherBuilder.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Voucher.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Voucher.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Ward.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Ward.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/AccountRepository.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/AccountRepository.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/AddressRepository.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/AddressRepository.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/BillDetailRepository.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/BillDetailRepository.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/BillRepository.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/BillRepository.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/BrandRepository.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/BrandRepository.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/CartDetailRepository.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/CartDetailRepository.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/CartRepository.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/CartRepository.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/CategoryRepository.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/CategoryRepository.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/ColorRepository.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/ColorRepository.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/CustomerRepository.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/CustomerRepository.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/FormRepository.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/FormRepository.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/GiamGiaRepository.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/GiamGiaRepository.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/ImageRepository.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/ImageRepository.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/MaterialRepository.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/MaterialRepository.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/OfflineCartRepository.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/OfflineCartRepository.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/PaymentMethodRepository.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/PaymentMethodRepository.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/PrDtRepository.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/PrDtRepository.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/ProductDetailRepository.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/ProductDetailRepository.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/ProductRepository.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/ProductRepository.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/PromotionDetailRepository.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/PromotionDetailRepository.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/PromotionRepository.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/PromotionRepository.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/RoleRepository.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/RoleRepository.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/SizeRepository.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/SizeRepository.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/ThongKeRepository.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/ThongKeRepository.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/ThongKeTongSanPham.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/ThongKeTongSanPham.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/ThongkeACountRepository.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/ThongkeACountRepository.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/ThongkeSanPhamRepository.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/ThongkeSanPhamRepository.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/VoucherRepository.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/VoucherRepository.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/productPromotion.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/productPromotion.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/user/ProductViewRepository.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/user/ProductViewRepository.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/user/UserColorRepository.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/user/UserColorRepository.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/user/UserProductDetailRepository.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/user/UserProductDetailRepository.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/user/UserSizeRepository.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/user/UserSizeRepository.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/request/ColorSizeRequest.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/request/ColorSizeRequest.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/request/GHNRequest$GHNRequestBuilder.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/request/GHNRequest$GHNRequestBuilder.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/request/GHNRequest.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/request/GHNRequest.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/request/MomoPaymentRequest$MomoPaymentRequestBuilder.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/request/MomoPaymentRequest$MomoPaymentRequestBuilder.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/request/MomoPaymentRequest.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/request/MomoPaymentRequest.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/request/PaymentMethodRequest.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/request/PaymentMethodRequest.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/request/PromotionDetailRequest.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/request/PromotionDetailRequest.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/request/PromotionRequest.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/request/PromotionRequest.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/request/VietQRRequest$VietQRRequestBuilder.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/request/VietQRRequest$VietQRRequestBuilder.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/request/VietQRRequest.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/request/VietQRRequest.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/request/VoucherDetailRequest.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/request/VoucherDetailRequest.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/request/VoucherRequest.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/request/VoucherRequest.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/request/ZaloPaymentRequest$ZaloPaymentRequestBuilder.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/request/ZaloPaymentRequest$ZaloPaymentRequestBuilder.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/request/ZaloPaymentRequest.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/request/ZaloPaymentRequest.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/ColorDetailResponse$ColorDetailResponseBuilder.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/ColorDetailResponse$ColorDetailResponseBuilder.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/ColorDetailResponse.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/ColorDetailResponse.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/CreateProductDetails.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/CreateProductDetails.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/CustomerResponse.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/CustomerResponse.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/MomoPaymentResponse.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/MomoPaymentResponse.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/ProductDetailResponse$ProductDetailResponseBuilder.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/ProductDetailResponse$ProductDetailResponseBuilder.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/ProductDetailResponse.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/ProductDetailResponse.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/ProductDetailSearchResponse$ProductDetailSearchResponseBuilder.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/ProductDetailSearchResponse$ProductDetailSearchResponseBuilder.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/ProductDetailSearchResponse.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/ProductDetailSearchResponse.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/ProductDiscountHomeResponse$ProductDiscountHomeResponseBuilder.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/ProductDiscountHomeResponse$ProductDiscountHomeResponseBuilder.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/ProductDiscountHomeResponse.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/ProductDiscountHomeResponse.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/ProductHomeResponse$ProductHomeResponseBuilder.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/ProductHomeResponse$ProductHomeResponseBuilder.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/ProductHomeResponse.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/ProductHomeResponse.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/PropertiesResponse.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/PropertiesResponse.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/QrRespone.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/QrRespone.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/SizeDetailResponse$SizeDetailResponseBuilder.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/SizeDetailResponse$SizeDetailResponseBuilder.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/SizeDetailResponse.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/SizeDetailResponse.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/VNPaymentResponse.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/VNPaymentResponse.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/ZaloPaymentResponse.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/ZaloPaymentResponse.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/security/CustomAccessDeniedHandler.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/security/CustomAccessDeniedHandler.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/security/CustomUser.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/security/CustomUser.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/security/CustomUserDetailService.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/security/CustomUserDetailService.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/AccountService.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/AccountService.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/AddressService.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/AddressService.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/AuthService.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/AuthService.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/BillService.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/BillService.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/BrandService.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/BrandService.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/CartService.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/CartService.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/CategoryService.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/CategoryService.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/ColorService.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/ColorService.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/CustomerService.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/CustomerService.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/FormService.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/FormService.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/ImageService.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/ImageService.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/MaterialService.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/MaterialService.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/OfflineCartService.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/OfflineCartService.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/PaymentMethodService.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/PaymentMethodService.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/PaymentService.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/PaymentService.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/ProductDetailService.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/ProductDetailService.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/ProductService.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/ProductService.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/PromotionDetailService.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/PromotionDetailService.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/PromotionService.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/PromotionService.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/RoleService.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/RoleService.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/SizeService.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/SizeService.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/ThongKeService.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/ThongKeService.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/VoucherService.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/VoucherService.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/AccountServiceImpl.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/AccountServiceImpl.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/AddressServiceImpl.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/AddressServiceImpl.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/AuthServiceImpl.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/AuthServiceImpl.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/BillServiceImpl.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/BillServiceImpl.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/BrandServiceImpl.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/BrandServiceImpl.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/CartServiceImpl.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/CartServiceImpl.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/CategoryServiceImpl.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/CategoryServiceImpl.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/ColorServiceImpl.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/ColorServiceImpl.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/CustomerServiceImpl.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/CustomerServiceImpl.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/FormServiceImpl.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/FormServiceImpl.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/ImageServiceImpl$1.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/ImageServiceImpl$1.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/ImageServiceImpl.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/ImageServiceImpl.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/MaterialServiceImpl.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/MaterialServiceImpl.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/OfflineCartServiceImpl.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/OfflineCartServiceImpl.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/PaymentMethodServiceImpl.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/PaymentMethodServiceImpl.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/PaymentServiceImpl.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/PaymentServiceImpl.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/ProductDetailServiceImpl.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/ProductDetailServiceImpl.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/ProductServiceImpl.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/ProductServiceImpl.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/PromotionDetailServiceImpl.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/PromotionDetailServiceImpl.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/PromotionServiceImpl.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/PromotionServiceImpl.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/RoleServiceImpl.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/RoleServiceImpl.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/SizeServiceImpl.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/SizeServiceImpl.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/ThongKeServiceImpl.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/ThongKeServiceImpl.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/VoucherServiceImpl.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/VoucherServiceImpl.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/user/ProductViewServiceImpl.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/user/ProductViewServiceImpl.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/user/UserColorServiceImpl.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/user/UserColorServiceImpl.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/user/UserProductDetailServiceImpl.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/user/UserProductDetailServiceImpl.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/user/UserSizeServiceImpl.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/user/UserSizeServiceImpl.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/user/ProductViewService.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/user/ProductViewService.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/user/UserColorService.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/user/UserColorService.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/user/UserProductDetailService.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/user/UserProductDetailService.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/user/UserSizeService.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/user/UserSizeService.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/FileUtil.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/FileUtil.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/GHNUtil$1.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/GHNUtil$1.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/GHNUtil$2.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/GHNUtil$2.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/GHNUtil$3.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/GHNUtil$3.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/GHNUtil.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/GHNUtil.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/MailUtil.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/MailUtil.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/QRCodeUtil.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/QRCodeUtil.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/SecurityUtil.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/SecurityUtil.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/TempCodeManager$TemporaryCode.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/TempCodeManager$TemporaryCode.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/TempCodeManager.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/TempCodeManager.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/attribute/BrandExcelUtil.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/attribute/BrandExcelUtil.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/attribute/CategoryExcelUtil.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/attribute/CategoryExcelUtil.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/attribute/ColorExcelUtil.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/attribute/ColorExcelUtil.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/attribute/FormExcelUtil.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/attribute/FormExcelUtil.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/attribute/MaterialExcelUtil.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/attribute/MaterialExcelUtil.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/attribute/SizeExcelUtil.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/attribute/SizeExcelUtil.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/payment/HMACUtil.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/payment/HMACUtil.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/payment/HexStringUtil.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/payment/HexStringUtil.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/payment/RSAUtil.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/payment/RSAUtil.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/product/ProductExcelUtil.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/product/ProductExcelUtil.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/productdetail/ProductDetailExcelUtil.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/productdetail/ProductDetailExcelUtil.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/static/user/js/main.js\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/static/user/js/main.js\" afterDir=\"false\" />\r\n    </list>\r\n    <option name=\"SHOW_DIALOG\" value=\"false\" />\r\n    <option name=\"HIGHLIGHT_CONFLICTS\" value=\"true\" />\r\n    <option name=\"HIGHLIGHT_NON_ACTIVE_CHANGELIST\" value=\"false\" />\r\n    <option name=\"LAST_RESOLUTION\" value=\"IGNORE\" />\r\n  </component>\r\n  <component name=\"ComposerSettings\">\r\n    <execution />\r\n  </component>\r\n  <component name=\"FileTemplateManagerImpl\">\r\n    <option name=\"RECENT_TEMPLATES\">\r\n      <list>\r\n        <option value=\"HTML File\" />\r\n      </list>\r\n    </option>\r\n  </component>\r\n  <component name=\"Git.Settings\">\r\n    <option name=\"RECENT_BRANCH_BY_REPOSITORY\">\r\n      <map>\r\n        <entry key=\"$PROJECT_DIR$\" value=\"17898806c17b5a0d8e4ae944ab34dac8594bdbf2\" />\r\n      </map>\r\n    </option>\r\n    <option name=\"RECENT_GIT_ROOT_PATH\" value=\"$PROJECT_DIR$\" />\r\n    <option name=\"ROOT_SYNC\" value=\"DONT_SYNC\" />\r\n  </component>\r\n  <component name=\"MarkdownSettingsMigration\">\r\n    <option name=\"stateVersion\" value=\"1\" />\r\n  </component>\r\n  <component name=\"PhpWorkspaceProjectConfiguration\" interpreter_name=\"C:\\xampp\\php\\php.exe\" />\r\n  <component name=\"ProjectColorInfo\">{\r\n  &quot;customColor&quot;: &quot;&quot;,\r\n  &quot;associatedIndex&quot;: 5\r\n}</component>\r\n  <component name=\"ProjectId\" id=\"2kza9B6qhwpQwmhKeaaeeoNFrCh\" />\r\n  <component name=\"ProjectViewState\">\r\n    <option name=\"hideEmptyMiddlePackages\" value=\"true\" />\r\n    <option name=\"showLibraryContents\" value=\"true\" />\r\n  </component>\r\n  <component name=\"PropertiesComponent\"><![CDATA[{\r\n  \"keyToString\": {\r\n    \"DefaultHtmlFileTemplate\": \"HTML File\",\r\n    \"RequestMappingsPanelOrder0\": \"0\",\r\n    \"RequestMappingsPanelOrder1\": \"1\",\r\n    \"RequestMappingsPanelWidth0\": \"75\",\r\n    \"RequestMappingsPanelWidth1\": \"75\",\r\n    \"RunOnceActivity.ShowReadmeOnStart\": \"true\",\r\n    \"SHARE_PROJECT_CONFIGURATION_FILES\": \"true\",\r\n    \"Spring Boot.GymTigerApplication.executor\": \"Run\",\r\n    \"WebServerToolWindowFactoryState\": \"false\",\r\n    \"git-widget-placeholder\": \"main\",\r\n    \"kotlin-language-version-configured\": \"true\",\r\n    \"last_opened_file_path\": \"E:/GymTiger/Gimmmmmm\",\r\n    \"node.js.detected.package.eslint\": \"true\",\r\n    \"node.js.detected.package.tslint\": \"true\",\r\n    \"node.js.selected.package.eslint\": \"(autodetect)\",\r\n    \"node.js.selected.package.tslint\": \"(autodetect)\",\r\n    \"nodejs_package_manager_path\": \"npm\",\r\n    \"settings.editor.selected.configurable\": \"preferences.lookFeel\",\r\n    \"spring.configuration.checksum\": \"1bd48089b297ff4cd3a0e6a2e9887d1c\",\r\n    \"vue.rearranger.settings.migration\": \"true\"\r\n  }\r\n}]]></component>\r\n  <component name=\"RecentsManager\">\r\n    <key name=\"CopyFile.RECENT_KEYS\">\r\n      <recent name=\"D:\\DOWLOAD\\GymTiger (1)\\GymTiger\\src\\main\\resources\\templates\\employee\" />\r\n      <recent name=\"D:\\DOWLOAD\\GymTiger (1)\\GymTiger\\src\\main\\resources\\templates\\admin\" />\r\n    </key>\r\n    <key name=\"MoveFile.RECENT_KEYS\">\r\n      <recent name=\"D:\\DOWLOAD\\GymTiger (1)\\GymTiger\\src\\main\\resources\\templates\\employee\" />\r\n    </key>\r\n  </component>\r\n  <component name=\"RunManager\">\r\n    <configuration name=\"GymTigerApplication\" type=\"SpringBootApplicationConfigurationType\" factoryName=\"Spring Boot\" nameIsGenerated=\"true\">\r\n      <module name=\"GymTiger\" />\r\n      <option name=\"SPRING_BOOT_MAIN_CLASS\" value=\"com.sd38.gymtiger.GymTigerApplication\" />\r\n      <method v=\"2\">\r\n        <option name=\"Make\" enabled=\"true\" />\r\n      </method>\r\n    </configuration>\r\n  </component>\r\n  <component name=\"SharedIndexes\">\r\n    <attachedChunks>\r\n      <set>\r\n        <option value=\"bundled-jdk-9823dce3aa75-b114ca120d71-intellij.indexing.shared.core-IU-242.21829.142\" />\r\n        <option value=\"bundled-js-predefined-d6986cc7102b-7c0b70fcd90d-JavaScript-IU-242.21829.142\" />\r\n      </set>\r\n    </attachedChunks>\r\n  </component>\r\n  <component name=\"SpellCheckerSettings\" RuntimeDictionaries=\"0\" Folders=\"0\" CustomDictionaries=\"0\" DefaultDictionary=\"application-level\" UseSingleDictionary=\"true\" transferred=\"true\" />\r\n  <component name=\"TaskManager\">\r\n    <task active=\"true\" id=\"Default\" summary=\"Default task\">\r\n      <changelist id=\"26a404a7-46ce-47e3-8dda-c9c95e4f9e2d\" name=\"Changes\" comment=\"\" />\r\n      <created>1724288705778</created>\r\n      <option name=\"number\" value=\"Default\" />\r\n      <option name=\"presentableId\" value=\"Default\" />\r\n      <updated>1724288705778</updated>\r\n      <workItem from=\"1724288707116\" duration=\"8034000\" />\r\n      <workItem from=\"1724302824135\" duration=\"7469000\" />\r\n      <workItem from=\"1724377205934\" duration=\"3808000\" />\r\n      <workItem from=\"1724424967637\" duration=\"2869000\" />\r\n      <workItem from=\"1724485896981\" duration=\"2781000\" />\r\n      <workItem from=\"1724513455090\" duration=\"4900000\" />\r\n      <workItem from=\"1724593674570\" duration=\"1274000\" />\r\n      <workItem from=\"1724669662918\" duration=\"5825000\" />\r\n      <workItem from=\"1724722298076\" duration=\"1259000\" />\r\n      <workItem from=\"1724727547279\" duration=\"9282000\" />\r\n      <workItem from=\"1724739498309\" duration=\"752000\" />\r\n      <workItem from=\"1724746544679\" duration=\"1465000\" />\r\n      <workItem from=\"1724757098142\" duration=\"1825000\" />\r\n      <workItem from=\"1724805505857\" duration=\"30000\" />\r\n      <workItem from=\"1724849461596\" duration=\"1281000\" />\r\n      <workItem from=\"1724907151352\" duration=\"1444000\" />\r\n      <workItem from=\"1725025356284\" duration=\"1524000\" />\r\n      <workItem from=\"1725110119109\" duration=\"3064000\" />\r\n      <workItem from=\"1725124978550\" duration=\"3189000\" />\r\n      <workItem from=\"1725165109328\" duration=\"8676000\" />\r\n      <workItem from=\"1725189830230\" duration=\"1458000\" />\r\n      <workItem from=\"1725191468661\" duration=\"1522000\" />\r\n      <workItem from=\"1725241825429\" duration=\"17000\" />\r\n      <workItem from=\"1725241999078\" duration=\"10626000\" />\r\n      <workItem from=\"1725252828522\" duration=\"4262000\" />\r\n      <workItem from=\"1725262393113\" duration=\"1787000\" />\r\n    </task>\r\n    <servers />\r\n  </component>\r\n  <component name=\"TypeScriptGeneratedFilesManager\">\r\n    <option name=\"version\" value=\"3\" />\r\n  </component>\r\n  <component name=\"XDebuggerManager\">\r\n    <breakpoint-manager>\r\n      <breakpoints>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/sd38/gymtiger/controller/admin/ProductDetailController.java</url>\r\n          <line>42</line>\r\n          <option name=\"timeStamp\" value=\"2\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/sd38/gymtiger/controller/admin/ProductDetailController.java</url>\r\n          <line>71</line>\r\n          <option name=\"timeStamp\" value=\"3\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/sd38/gymtiger/controller/admin/ProductDetailController.java</url>\r\n          <line>94</line>\r\n          <option name=\"timeStamp\" value=\"5\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/sd38/gymtiger/controller/admin/ProductDetailController.java</url>\r\n          <line>75</line>\r\n          <option name=\"timeStamp\" value=\"7\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/sd38/gymtiger/controller/user/HomeController.java</url>\r\n          <line>244</line>\r\n          <option name=\"timeStamp\" value=\"10\" />\r\n        </line-breakpoint>\r\n      </breakpoints>\r\n    </breakpoint-manager>\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/workspace.xml b/.idea/workspace.xml
--- a/.idea/workspace.xml	(revision a3f2f4fe416fb7db81751953dbcaea2f7d6afbda)
+++ b/.idea/workspace.xml	(date 1725264830783)
@@ -5,257 +5,34 @@
   </component>
   <component name="ChangeListManager">
     <list default="true" id="26a404a7-46ce-47e3-8dda-c9c95e4f9e2d" name="Changes" comment="">
-      <change afterPath="$PROJECT_DIR$/.idea/inspectionProfiles/Project_Default.xml" afterDir="false" />
-      <change afterPath="$PROJECT_DIR$/.idea/jsLinters/jshint.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/workspace.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/pom.xml" beforeDir="false" afterPath="$PROJECT_DIR$/pom.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/src/main/resources/application.properties" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/resources/application.properties" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/application.properties" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/application.properties" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/GymTigerApplication.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/GymTigerApplication.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/config/GHNConfig.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/config/GHNConfig.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/config/HotReloadConfig.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/config/HotReloadConfig.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/config/MailConfig.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/config/MailConfig.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/config/MomoPaymentConfig.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/config/MomoPaymentConfig.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/config/SecurityConfig.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/config/SecurityConfig.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/config/VNPaymentConfig.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/config/VNPaymentConfig.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/config/VietQRConfig.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/config/VietQRConfig.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/config/ZaloPayConfig.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/config/ZaloPayConfig.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/AccountController.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/AccountController.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/AddressController.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/AddressController.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/AuthController.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/AuthController.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/BillController.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/BillController.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/BrandController.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/BrandController.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/CategoryController.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/CategoryController.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/ColorController.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/ColorController.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/ErrorHandlerController.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/ErrorHandlerController.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/ExcelTemplate.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/ExcelTemplate.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/FormController.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/FormController.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/ImageController.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/ImageController.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/MaterialController.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/MaterialController.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/OfflineCartController.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/OfflineCartController.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/PaymentMethodController.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/PaymentMethodController.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/ProductController.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/ProductController.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/ProductDetailController.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/ProductDetailController.class" afterDir="false" />
+      <change afterPath="$PROJECT_DIR$/.idea/CodeDao.iml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/.idea/jsLinters/jshint.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/jsLinters/jshint.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/java/com/sd38/gymtiger/controller/admin/PromotionController.java" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/java/com/sd38/gymtiger/controller/admin/PromotionController.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/java/com/sd38/gymtiger/controller/user/UserBillController.java" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/java/com/sd38/gymtiger/controller/user/UserBillController.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/java/com/sd38/gymtiger/model/Bill.java" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/java/com/sd38/gymtiger/model/Bill.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/java/com/sd38/gymtiger/repository/PromotionRepository.java" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/java/com/sd38/gymtiger/repository/PromotionRepository.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/java/com/sd38/gymtiger/repository/VoucherRepository.java" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/java/com/sd38/gymtiger/repository/VoucherRepository.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/java/com/sd38/gymtiger/service/BillService.java" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/java/com/sd38/gymtiger/service/BillService.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/java/com/sd38/gymtiger/service/impl/BillServiceImpl.java" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/java/com/sd38/gymtiger/service/impl/BillServiceImpl.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/resources/templates/admin/promotion/promotion.html" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/resources/templates/admin/promotion/promotion.html" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/resources/templates/admin/voucher/voucher.html" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/resources/templates/admin/voucher/voucher.html" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/resources/templates/user/cart.html" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/resources/templates/user/cart.html" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/resources/templates/user/order-detail.html" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/resources/templates/user/order-detail.html" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/resources/templates/user/order.html" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/resources/templates/user/order.html" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/PromotionController.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/PromotionController.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/PromotionDetailController.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/PromotionDetailController.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/RestAccountController.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/RestAccountController.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/RestOfflineCartController.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/RestOfflineCartController.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/RoleController.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/RoleController.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/SizeController.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/SizeController.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/ThongKeController.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/ThongKeController.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/VoucherController.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/admin/VoucherController.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/common/ShowImageController.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/common/ShowImageController.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/common/ShowQRCodeController.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/common/ShowQRCodeController.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/user/HomeController.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/user/HomeController.class" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/user/UserBillController.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/user/UserBillController.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/user/UserCartController.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/user/UserCartController.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/user/rest/AddressRestController.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/user/rest/AddressRestController.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/user/rest/ShippingFeeRestController.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/user/rest/ShippingFeeRestController.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/user/rest/VoucherRestController.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/controller/user/rest/VoucherRestController.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/dto/admin/Impl/ProductDetailDtoImpl.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/dto/admin/Impl/ProductDetailDtoImpl.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/dto/common/impl/ProductAndValueDiscountDtoImpl.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/dto/common/impl/ProductAndValueDiscountDtoImpl.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/dto/common/impl/ProductDetailDiscountDtoImpl.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/dto/common/impl/ProductDetailDiscountDtoImpl.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/dto/common/impl/ProductDiscountHomeDtoImpl.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/dto/common/impl/ProductDiscountHomeDtoImpl.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/dto/common/impl/ProductHomeDtoImpl.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/dto/common/impl/ProductHomeDtoImpl.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Account$AccountBuilder.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Account$AccountBuilder.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Account.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Account.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Address$AddressBuilder.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Address$AddressBuilder.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Address.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Address.class" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Bill$BillBuilder.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Bill$BillBuilder.class" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Bill.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Bill.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/BillDetail$BillDetailBuilder.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/BillDetail$BillDetailBuilder.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/BillDetail.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/BillDetail.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Brand$BrandBuilder.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Brand$BrandBuilder.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Brand.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Brand.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Cart$CartBuilder.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Cart$CartBuilder.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Cart.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Cart.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/CartDetail.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/CartDetail.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Category$CategoryBuilder.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Category$CategoryBuilder.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Category.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Category.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Color$ColorBuilder.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Color$ColorBuilder.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Color.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Color.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Customer$CustomerBuilder.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Customer$CustomerBuilder.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Customer.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Customer.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/District.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/District.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Form$FormBuilder.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Form$FormBuilder.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Form.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Form.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Image$ImageBuilder.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Image$ImageBuilder.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Image.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Image.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Material$MaterialBuilder.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Material$MaterialBuilder.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Material.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Material.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/OfflineCart$OfflineCartBuilder.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/OfflineCart$OfflineCartBuilder.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/OfflineCart.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/OfflineCart.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/OfflineCartView$OfflineCartViewBuilder.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/OfflineCartView$OfflineCartViewBuilder.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/OfflineCartView.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/OfflineCartView.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/PaymentMethod$PaymentMethodBuilder.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/PaymentMethod$PaymentMethodBuilder.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/PaymentMethod.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/PaymentMethod.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Product$ProductBuilder.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Product$ProductBuilder.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Product.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Product.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/ProductDetail$ProductDetailBuilder.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/ProductDetail$ProductDetailBuilder.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/ProductDetail.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/ProductDetail.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Promotion$PromotionBuilder.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Promotion$PromotionBuilder.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Promotion.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Promotion.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/PromotionDetail$PromotionDetailBuilder.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/PromotionDetail$PromotionDetailBuilder.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/PromotionDetail.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/PromotionDetail.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Province.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Province.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Role$RoleBuilder.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Role$RoleBuilder.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Role.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Role.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/SessionCart.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/SessionCart.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/SessionCartItem.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/SessionCartItem.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/ShippingCalculator.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/ShippingCalculator.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Size$SizeBuilder.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Size$SizeBuilder.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Size.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Size.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/TempBill$TempBillBuilder.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/TempBill$TempBillBuilder.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/TempBill.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/TempBill.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Voucher$VoucherBuilder.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Voucher$VoucherBuilder.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Voucher.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Voucher.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Ward.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/model/Ward.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/AccountRepository.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/AccountRepository.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/AddressRepository.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/AddressRepository.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/BillDetailRepository.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/BillDetailRepository.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/BillRepository.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/BillRepository.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/BrandRepository.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/BrandRepository.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/CartDetailRepository.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/CartDetailRepository.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/CartRepository.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/CartRepository.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/CategoryRepository.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/CategoryRepository.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/ColorRepository.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/ColorRepository.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/CustomerRepository.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/CustomerRepository.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/FormRepository.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/FormRepository.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/GiamGiaRepository.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/GiamGiaRepository.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/ImageRepository.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/ImageRepository.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/MaterialRepository.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/MaterialRepository.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/OfflineCartRepository.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/OfflineCartRepository.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/PaymentMethodRepository.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/PaymentMethodRepository.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/PrDtRepository.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/PrDtRepository.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/ProductDetailRepository.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/ProductDetailRepository.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/ProductRepository.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/ProductRepository.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/PromotionDetailRepository.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/PromotionDetailRepository.class" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/PromotionRepository.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/PromotionRepository.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/RoleRepository.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/RoleRepository.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/SizeRepository.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/SizeRepository.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/ThongKeRepository.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/ThongKeRepository.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/ThongKeTongSanPham.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/ThongKeTongSanPham.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/ThongkeACountRepository.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/ThongkeACountRepository.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/ThongkeSanPhamRepository.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/ThongkeSanPhamRepository.class" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/VoucherRepository.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/VoucherRepository.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/productPromotion.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/productPromotion.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/user/ProductViewRepository.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/user/ProductViewRepository.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/user/UserColorRepository.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/user/UserColorRepository.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/user/UserProductDetailRepository.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/user/UserProductDetailRepository.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/user/UserSizeRepository.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/repository/user/UserSizeRepository.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/request/ColorSizeRequest.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/request/ColorSizeRequest.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/request/GHNRequest$GHNRequestBuilder.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/request/GHNRequest$GHNRequestBuilder.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/request/GHNRequest.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/request/GHNRequest.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/request/MomoPaymentRequest$MomoPaymentRequestBuilder.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/request/MomoPaymentRequest$MomoPaymentRequestBuilder.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/request/MomoPaymentRequest.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/request/MomoPaymentRequest.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/request/PaymentMethodRequest.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/request/PaymentMethodRequest.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/request/PromotionDetailRequest.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/request/PromotionDetailRequest.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/request/PromotionRequest.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/request/PromotionRequest.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/request/VietQRRequest$VietQRRequestBuilder.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/request/VietQRRequest$VietQRRequestBuilder.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/request/VietQRRequest.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/request/VietQRRequest.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/request/VoucherDetailRequest.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/request/VoucherDetailRequest.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/request/VoucherRequest.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/request/VoucherRequest.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/request/ZaloPaymentRequest$ZaloPaymentRequestBuilder.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/request/ZaloPaymentRequest$ZaloPaymentRequestBuilder.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/request/ZaloPaymentRequest.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/request/ZaloPaymentRequest.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/ColorDetailResponse$ColorDetailResponseBuilder.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/ColorDetailResponse$ColorDetailResponseBuilder.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/ColorDetailResponse.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/ColorDetailResponse.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/CreateProductDetails.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/CreateProductDetails.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/CustomerResponse.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/CustomerResponse.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/MomoPaymentResponse.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/MomoPaymentResponse.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/ProductDetailResponse$ProductDetailResponseBuilder.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/ProductDetailResponse$ProductDetailResponseBuilder.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/ProductDetailResponse.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/ProductDetailResponse.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/ProductDetailSearchResponse$ProductDetailSearchResponseBuilder.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/ProductDetailSearchResponse$ProductDetailSearchResponseBuilder.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/ProductDetailSearchResponse.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/ProductDetailSearchResponse.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/ProductDiscountHomeResponse$ProductDiscountHomeResponseBuilder.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/ProductDiscountHomeResponse$ProductDiscountHomeResponseBuilder.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/ProductDiscountHomeResponse.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/ProductDiscountHomeResponse.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/ProductHomeResponse$ProductHomeResponseBuilder.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/ProductHomeResponse$ProductHomeResponseBuilder.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/ProductHomeResponse.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/ProductHomeResponse.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/PropertiesResponse.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/PropertiesResponse.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/QrRespone.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/QrRespone.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/SizeDetailResponse$SizeDetailResponseBuilder.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/SizeDetailResponse$SizeDetailResponseBuilder.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/SizeDetailResponse.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/SizeDetailResponse.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/VNPaymentResponse.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/VNPaymentResponse.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/ZaloPaymentResponse.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/response/ZaloPaymentResponse.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/security/CustomAccessDeniedHandler.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/security/CustomAccessDeniedHandler.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/security/CustomUser.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/security/CustomUser.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/security/CustomUserDetailService.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/security/CustomUserDetailService.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/AccountService.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/AccountService.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/AddressService.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/AddressService.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/AuthService.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/AuthService.class" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/BillService.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/BillService.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/BrandService.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/BrandService.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/CartService.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/CartService.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/CategoryService.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/CategoryService.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/ColorService.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/ColorService.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/CustomerService.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/CustomerService.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/FormService.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/FormService.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/ImageService.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/ImageService.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/MaterialService.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/MaterialService.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/OfflineCartService.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/OfflineCartService.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/PaymentMethodService.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/PaymentMethodService.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/PaymentService.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/PaymentService.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/ProductDetailService.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/ProductDetailService.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/ProductService.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/ProductService.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/PromotionDetailService.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/PromotionDetailService.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/PromotionService.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/PromotionService.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/RoleService.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/RoleService.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/SizeService.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/SizeService.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/ThongKeService.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/ThongKeService.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/VoucherService.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/VoucherService.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/AccountServiceImpl.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/AccountServiceImpl.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/AddressServiceImpl.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/AddressServiceImpl.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/AuthServiceImpl.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/AuthServiceImpl.class" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/BillServiceImpl.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/BillServiceImpl.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/BrandServiceImpl.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/BrandServiceImpl.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/CartServiceImpl.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/CartServiceImpl.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/CategoryServiceImpl.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/CategoryServiceImpl.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/ColorServiceImpl.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/ColorServiceImpl.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/CustomerServiceImpl.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/CustomerServiceImpl.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/FormServiceImpl.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/FormServiceImpl.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/ImageServiceImpl$1.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/ImageServiceImpl$1.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/ImageServiceImpl.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/ImageServiceImpl.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/MaterialServiceImpl.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/MaterialServiceImpl.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/OfflineCartServiceImpl.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/OfflineCartServiceImpl.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/PaymentMethodServiceImpl.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/PaymentMethodServiceImpl.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/PaymentServiceImpl.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/PaymentServiceImpl.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/ProductDetailServiceImpl.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/ProductDetailServiceImpl.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/ProductServiceImpl.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/ProductServiceImpl.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/PromotionDetailServiceImpl.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/PromotionDetailServiceImpl.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/PromotionServiceImpl.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/PromotionServiceImpl.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/RoleServiceImpl.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/RoleServiceImpl.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/SizeServiceImpl.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/SizeServiceImpl.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/ThongKeServiceImpl.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/ThongKeServiceImpl.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/VoucherServiceImpl.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/VoucherServiceImpl.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/user/ProductViewServiceImpl.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/user/ProductViewServiceImpl.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/user/UserColorServiceImpl.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/user/UserColorServiceImpl.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/user/UserProductDetailServiceImpl.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/user/UserProductDetailServiceImpl.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/user/UserSizeServiceImpl.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/impl/user/UserSizeServiceImpl.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/user/ProductViewService.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/user/ProductViewService.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/user/UserColorService.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/user/UserColorService.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/user/UserProductDetailService.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/user/UserProductDetailService.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/user/UserSizeService.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/service/user/UserSizeService.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/FileUtil.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/FileUtil.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/GHNUtil$1.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/GHNUtil$1.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/GHNUtil$2.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/GHNUtil$2.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/GHNUtil$3.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/GHNUtil$3.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/GHNUtil.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/GHNUtil.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/MailUtil.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/MailUtil.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/QRCodeUtil.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/QRCodeUtil.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/SecurityUtil.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/SecurityUtil.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/TempCodeManager$TemporaryCode.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/TempCodeManager$TemporaryCode.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/TempCodeManager.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/TempCodeManager.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/attribute/BrandExcelUtil.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/attribute/BrandExcelUtil.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/attribute/CategoryExcelUtil.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/attribute/CategoryExcelUtil.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/attribute/ColorExcelUtil.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/attribute/ColorExcelUtil.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/attribute/FormExcelUtil.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/attribute/FormExcelUtil.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/attribute/MaterialExcelUtil.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/attribute/MaterialExcelUtil.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/attribute/SizeExcelUtil.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/attribute/SizeExcelUtil.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/payment/HMACUtil.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/payment/HMACUtil.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/payment/HexStringUtil.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/payment/HexStringUtil.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/payment/RSAUtil.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/payment/RSAUtil.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/product/ProductExcelUtil.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/product/ProductExcelUtil.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/productdetail/ProductDetailExcelUtil.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/sd38/gymtiger/utils/productdetail/ProductDetailExcelUtil.class" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/static/user/js/main.js" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/static/user/js/main.js" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/templates/admin/promotion/promotion.html" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/templates/admin/promotion/promotion.html" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/templates/admin/voucher/voucher.html" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/templates/admin/voucher/voucher.html" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/templates/user/cart.html" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/templates/user/cart.html" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/templates/user/order-detail.html" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/templates/user/order-detail.html" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/templates/user/order.html" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/templates/user/order.html" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/test-classes/com/sd38/gymtiger/GymTigerApplicationTests.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/test-classes/com/sd38/gymtiger/GymTigerApplicationTests.class" afterDir="false" />
     </list>
     <option name="SHOW_DIALOG" value="false" />
     <option name="HIGHLIGHT_CONFLICTS" value="true" />
@@ -305,7 +82,7 @@
     "SHARE_PROJECT_CONFIGURATION_FILES": "true",
     "Spring Boot.GymTigerApplication.executor": "Run",
     "WebServerToolWindowFactoryState": "false",
-    "git-widget-placeholder": "main",
+    "git-widget-placeholder": "Merging main",
     "kotlin-language-version-configured": "true",
     "last_opened_file_path": "E:/GymTiger/Gimmmmmm",
     "node.js.detected.package.eslint": "true",
@@ -377,7 +154,7 @@
       <workItem from="1725241825429" duration="17000" />
       <workItem from="1725241999078" duration="10626000" />
       <workItem from="1725252828522" duration="4262000" />
-      <workItem from="1725262393113" duration="1787000" />
+      <workItem from="1725262393113" duration="2382000" />
     </task>
     <servers />
   </component>
Index: src/main/java/com/sd38/gymtiger/controller/user/UserBillController.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.sd38.gymtiger.controller.user;\r\n\r\nimport com.google.gson.JsonObject;\r\nimport com.sd38.gymtiger.model.Address;\r\nimport com.sd38.gymtiger.model.Bill;\r\nimport com.sd38.gymtiger.model.BillDetail;\r\nimport com.sd38.gymtiger.model.Cart;\r\nimport com.sd38.gymtiger.model.Customer;\r\nimport com.sd38.gymtiger.model.PaymentMethod;\r\nimport com.sd38.gymtiger.model.SessionCart;\r\nimport com.sd38.gymtiger.model.Voucher;\r\nimport com.sd38.gymtiger.response.MomoPaymentResponse;\r\nimport com.sd38.gymtiger.response.VNPaymentResponse;\r\nimport com.sd38.gymtiger.response.ZaloPaymentResponse;\r\nimport com.sd38.gymtiger.service.AddressService;\r\nimport com.sd38.gymtiger.service.BillService;\r\nimport com.sd38.gymtiger.service.CartService;\r\nimport com.sd38.gymtiger.service.CustomerService;\r\nimport com.sd38.gymtiger.service.PaymentMethodService;\r\nimport com.sd38.gymtiger.service.PaymentService;\r\nimport com.sd38.gymtiger.service.VoucherService;\r\nimport com.sd38.gymtiger.utils.GHNUtil;\r\nimport jakarta.servlet.http.HttpServletRequest;\r\nimport jakarta.servlet.http.HttpSession;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestMethod;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport org.springframework.web.servlet.mvc.support.RedirectAttributes;\r\n\r\nimport java.io.IOException;\r\nimport java.math.BigDecimal;\r\nimport java.net.URISyntaxException;\r\nimport java.security.Principal;\r\nimport java.util.List;\r\n\r\n@Controller\r\npublic class UserBillController {\r\n    @Autowired\r\n    private CustomerService customerService;\r\n\r\n    @Autowired\r\n    private CartService cartService;\r\n\r\n    @Autowired\r\n    private AddressService addressService;\r\n\r\n    @Autowired\r\n    private BillService billService;\r\n\r\n    @Autowired\r\n    private PaymentService paymentService;\r\n\r\n    @Autowired\r\n    private VoucherService voucherService;\r\n\r\n    @Autowired\r\n    private PaymentMethodService paymentMethodService;\r\n\r\n    @Autowired\r\n    private GHNUtil ghnUtil;\r\n\r\n    JsonObject jsonData = new JsonObject();\r\n\r\n    @GetMapping(\"/checkout\")\r\n    public String checkOut(Principal principal, Model model, HttpSession session, RedirectAttributes attributes) {\r\n        if (principal == null) {\r\n            SessionCart sessionCart = (SessionCart) session.getAttribute(\"sessionCart\");\r\n            if (sessionCart == null){\r\n                return \"redirect:/cart\";\r\n            }\r\n            cartService.reloadCartDetailSession(sessionCart);\r\n            session.setAttribute(\"sessionCart\", sessionCart);\r\n            if (sessionCart.getCartDetails().isEmpty()){\r\n                attributes.addFlashAttribute(\"error\", \"Các sản phẩm trong giỏ hàng của bạn đã hết hàng\");\r\n                return \"redirect:/cart\";\r\n            }\r\n            session.setAttribute(\"totalItems\", sessionCart.getTotalItems());\r\n            List<Voucher> listVoucher = voucherService.getVoucherByCartPrice(sessionCart.getTotalPrice());\r\n            model.addAttribute(\"cart\", sessionCart);\r\n            model.addAttribute(\"listVoucher\", listVoucher);\r\n            model.addAttribute(\"loggedIn\", false);\r\n            model.addAttribute(\"email\", \"\");\r\n        } else {\r\n            Customer customer = customerService.findByEmail(principal.getName());\r\n            Cart cart = cartService.getCart(principal.getName());\r\n            if (cart == null){\r\n                return \"redirect:/cart\";\r\n            }\r\n            cartService.reloadCartDetail(cart);\r\n            if (cart.getCartDetails().isEmpty()){\r\n                attributes.addFlashAttribute(\"error\", \"Các sản phẩm trong giỏ hàng của bạn đã hết hàng\");\r\n                return \"redirect:/cart\";\r\n            }\r\n            session.setAttribute(\"totalItems\", cart.getTotalItems());\r\n            Address defaultAddress = addressService.findAccountDefaultAddress(customer.getId());\r\n            List<Address> listAddress = addressService.findAccountAddress(customer.getId());\r\n            List<Voucher> listVoucher = voucherService.getVoucherByCartPrice(cart.getTotalPrice());\r\n            model.addAttribute(\"cart\", cart);\r\n            model.addAttribute(\"listVoucher\", listVoucher);\r\n            model.addAttribute(\"loggedIn\", true);\r\n            model.addAttribute(\"email\", principal.getName());\r\n            model.addAttribute(\"defaultAddress\", defaultAddress);\r\n            model.addAttribute(\"listAddress\", listAddress);\r\n        }\r\n        return \"/user/checkout\";\r\n    }\r\n\r\n    @GetMapping(\"/orders\")\r\n    public String getOrders(Model model, Principal principal, @RequestParam(required = false) String status) {\r\n        if (principal == null) {\r\n            return \"redirect:/login\";\r\n        }\r\n        Customer customer = customerService.findByEmail(principal.getName());\r\n        List<Bill> listBill;\r\n        if (status == null || status.trim().isEmpty()){\r\n            listBill = billService.getAllOrders(customer.getId());\r\n        } else {\r\n            listBill = billService.getStatusOrders(Integer.valueOf(status), customer.getId());\r\n        }\r\n        model.addAttribute(\"orders\", listBill);\r\n        return \"/user/order\";\r\n    }\r\n\r\n    @GetMapping(\"/order-detail/{id}\")\r\n    public String getOrderDetail(@PathVariable Integer id, Model model, Principal principal, RedirectAttributes attributes) {\r\n        if (principal == null) {\r\n            return \"redirect:/login\";\r\n        }\r\n        Customer customer = customerService.findByEmail(principal.getName());\r\n        Bill bill = billService.getOneBill(id);\r\n        if (bill == null){\r\n            attributes.addFlashAttribute(\"error\", \"Không có thông tin đơn hàng tương ứng\");\r\n            return \"redirect:/orders\";\r\n        }\r\n        if (customer.getId().equals(bill.getCustomer().getId())){\r\n            List<BillDetail> lstBillDetails = billService.getLstDetailByBillId(id);\r\n            List<PaymentMethod> listPaymentMethod = paymentMethodService.getAllBillPaymentMethod(id);\r\n            model.addAttribute(\"order\", bill);\r\n            model.addAttribute(\"lstBillDetails\", lstBillDetails);\r\n            model.addAttribute(\"listPaymentMethod\", listPaymentMethod);\r\n            return \"/user/order-detail\";\r\n        } else {\r\n            attributes.addFlashAttribute(\"error\", \"Bạn không có quyền xem đơn hàng này\");\r\n            return \"redirect:/orders\";\r\n        }\r\n    }\r\n\r\n    @RequestMapping(value = \"/cancel-order/{id}\", method = {RequestMethod.PUT, RequestMethod.GET})\r\n    public String cancelOrder(@PathVariable Integer id, Principal principal, RedirectAttributes attributes) {\r\n        if (principal == null) {\r\n            return \"redirect:/login\";\r\n        }\r\n        Customer customer = customerService.findByEmail(principal.getName());\r\n        Bill bill = billService.getOneBill(id);\r\n        if (bill == null){\r\n            attributes.addFlashAttribute(\"error\", \"Bạn không có quyền huỷ đơn này\");\r\n            return \"redirect:/orders\";\r\n        }\r\n        if (customer.getId().equals(bill.getCustomer().getId())){\r\n            boolean check = billService.userCancelOrder(id);\r\n            if (check){\r\n                attributes.addFlashAttribute(\"mess\", \"Huỷ đơn hàng thành công\");\r\n            } else {\r\n                attributes.addFlashAttribute(\"error\", \"Bạn không có quyền huỷ đơn này\");\r\n            }\r\n        } else {\r\n            attributes.addFlashAttribute(\"error\", \"Bạn không có quyền huỷ đơn này\");\r\n        }\r\n        return \"redirect:/orders\";\r\n    }\r\n\r\n    @RequestMapping(value = \"/detail-cancel-order/{id}\", method = {RequestMethod.PUT, RequestMethod.GET})\r\n    public String detailCancelOrder(@PathVariable Integer id, Principal principal, RedirectAttributes attributes) {\r\n        if (principal == null) {\r\n            return \"redirect:/login\";\r\n        }\r\n        Customer customer = customerService.findByEmail(principal.getName());\r\n        Bill bill = billService.getOneBill(id);\r\n        if (bill == null){\r\n            attributes.addFlashAttribute(\"error\", \"Bạn không có quyền huỷ đơn này\");\r\n            return \"redirect:/orders\";\r\n        }\r\n        if (customer.getId().equals(bill.getCustomer().getId())){\r\n            boolean check = billService.userCancelOrder(id);\r\n            if (check){\r\n                attributes.addFlashAttribute(\"mess\", \"Huỷ đơn hàng thành công\");\r\n            } else {\r\n                attributes.addFlashAttribute(\"error\", \"Bạn không có quyền huỷ đơn này\");\r\n            }\r\n            return \"redirect:/order-detail/\" + id;\r\n        } else {\r\n            attributes.addFlashAttribute(\"error\", \"Bạn không có quyền huỷ đơn này\");\r\n            return \"redirect:/orders\";\r\n        }\r\n    }\r\n\r\n    @PostMapping(\"/add-order\")\r\n    public String createOrder(Principal principal,\r\n                              RedirectAttributes attributes,\r\n                              HttpSession session,\r\n                              @RequestParam(\"name\") String name,\r\n                              @RequestParam(\"email\") String email,\r\n                              @RequestParam(\"phoneNumber\") String phoneNumber,\r\n                              @RequestParam(\"specificAddress\") String specificAddress,\r\n                              @RequestParam(\"city\") String city,\r\n                              @RequestParam(\"district\") String district,\r\n                              @RequestParam(\"ward\") String ward,\r\n                              @RequestParam(\"payment\") String payment,\r\n                              @RequestParam(value = \"voucher\", required = false) Integer voucher,\r\n                              HttpServletRequest request) throws IOException, URISyntaxException {\r\n        if (principal == null){\r\n            SessionCart sessionCart = (SessionCart) session.getAttribute(\"sessionCart\");\r\n            cartService.reloadCartDetailSession(sessionCart);\r\n            session.setAttribute(\"sessionCart\", sessionCart);\r\n            if (sessionCart.getCartDetails().isEmpty()){\r\n                attributes.addFlashAttribute(\"error\", \"Các sản phẩm trong giỏ hàng của bạn đã hết hàng\");\r\n                return \"redirect:/cart\";\r\n            }\r\n            if (payment.equals(\"VNPAY\")){\r\n                BigDecimal shippingFee = ghnUtil.calculateShippingFee(city, district, ward, sessionCart.getTotalItems());\r\n                //Long dok\r\n                if (voucher == null){\r\n                    BigDecimal totalPrice = sessionCart.getTotalPrice().add(shippingFee);\r\n                    jsonData = paymentService.vnpayCreate(request, totalPrice.longValue(), specificAddress, ward, district, city, name, phoneNumber, email, null);\r\n                } else {\r\n                    Voucher uuDai = voucherService.getVoucherById(voucher);\r\n                    if (uuDai.getStatus() != 1){\r\n                        attributes.addFlashAttribute(\"error\", \"Voucher đã hết số lượng hoặc hết hạn\");\r\n                        return \"redirect:/checkout\";\r\n                    }\r\n                    if (sessionCart.getTotalPrice().compareTo(uuDai.getMinimumPrice()) < 0){\r\n                        attributes.addFlashAttribute(\"error\", \"Đơn hàng không đủ giá tối thiểu của voucher\");\r\n                        return \"redirect:/checkout\";\r\n                    }\r\n                    BigDecimal totalPrice = sessionCart.getTotalPrice().add(shippingFee).subtract(uuDai.getValue());\r\n                    jsonData = paymentService.vnpayCreate(request, totalPrice.longValue(), specificAddress, ward, district, city, name, phoneNumber, email, String.valueOf(voucher));\r\n                }\r\n                return \"redirect:\" + jsonData.get(\"payUrl\").toString().replaceAll(\"\\\"\", \"\");\r\n            }\r\n            if (payment.equals(\"Momo\")){\r\n                BigDecimal shippingFee = ghnUtil.calculateShippingFee(city, district, ward, sessionCart.getTotalItems());\r\n                //Long dok\r\n                if (voucher == null){\r\n                    BigDecimal totalPrice = sessionCart.getTotalPrice().add(shippingFee);\r\n                    jsonData = paymentService.MomoPayCreate(totalPrice.longValue(), specificAddress, ward, district, city, name, phoneNumber, email, null);\r\n                } else {\r\n                    Voucher uuDai = voucherService.getVoucherById(voucher);\r\n                    if (uuDai.getStatus() != 1){\r\n                        attributes.addFlashAttribute(\"error\", \"Voucher đã hết số lượng hoặc hết hạn\");\r\n                        return \"redirect:/checkout\";\r\n                    }\r\n                    if (sessionCart.getTotalPrice().compareTo(uuDai.getMinimumPrice()) < 0){\r\n                        attributes.addFlashAttribute(\"error\", \"Đơn hàng không đủ giá tối thiểu của voucher\");\r\n                        return \"redirect:/checkout\";\r\n                    }\r\n                    BigDecimal totalPrice = sessionCart.getTotalPrice().add(shippingFee).subtract(uuDai.getValue());\r\n                    jsonData = paymentService.MomoPayCreate(totalPrice.longValue(), specificAddress, ward, district, city, name, phoneNumber, email, String.valueOf(voucher));\r\n                }\r\n                return \"redirect:\" + jsonData.get(\"payUrl\").toString().replaceAll(\"\\\"\", \"\");\r\n            }\r\n            if (payment.equals(\"ZaloPay\")){\r\n                BigDecimal shippingFee = ghnUtil.calculateShippingFee(city, district, ward, sessionCart.getTotalItems());\r\n                //Long dok\r\n                if (voucher == null){\r\n                    BigDecimal totalPrice = sessionCart.getTotalPrice().add(shippingFee);\r\n                    jsonData = paymentService.zalopayCreate(totalPrice.longValue(), specificAddress, ward, district, city, name, phoneNumber, email, null);\r\n                } else {\r\n                    Voucher uuDai = voucherService.getVoucherById(voucher);\r\n                    if (uuDai.getStatus() != 1){\r\n                        attributes.addFlashAttribute(\"error\", \"Voucher đã hết số lượng hoặc hết hạn\");\r\n                        return \"redirect:/checkout\";\r\n                    }\r\n                    if (sessionCart.getTotalPrice().compareTo(uuDai.getMinimumPrice()) < 0){\r\n                        attributes.addFlashAttribute(\"error\", \"Đơn hàng không đủ giá tối thiểu của voucher\");\r\n                        return \"redirect:/checkout\";\r\n                    }\r\n                    BigDecimal totalPrice = sessionCart.getTotalPrice().add(shippingFee).subtract(uuDai.getValue());\r\n                    jsonData = paymentService.zalopayCreate(totalPrice.longValue(), specificAddress, ward, district, city, name, phoneNumber, email, String.valueOf(voucher));\r\n                }\r\n                return \"redirect:\" + jsonData.get(\"payUrl\").toString().replaceAll(\"\\\"\", \"\");\r\n            }\r\n            if (voucher != null){\r\n                Voucher uuDai = voucherService.getVoucherById(voucher);\r\n                if (uuDai.getStatus() != 1){\r\n                    attributes.addFlashAttribute(\"error\", \"Voucher đã hết số lượng hoặc hết hạn\");\r\n                    return \"redirect:/checkout\";\r\n                }\r\n            }\r\n            billService.placeOrderSession(sessionCart, email, name, specificAddress, ward, district, city, phoneNumber, payment, voucher);\r\n            attributes.addFlashAttribute(\"mess\", \"Đặt hàng thành công! Vui lòng kiểm tra mail của bạn để biết thêm chi tiết.\");\r\n            session.removeAttribute(\"totalItems\");\r\n            return \"redirect:/home\";\r\n        } else {\r\n            Cart cart = cartService.getCart(principal.getName());\r\n            cartService.reloadCartDetail(cart);\r\n            if (cart.getCartDetails().isEmpty()){\r\n                attributes.addFlashAttribute(\"error\", \"Các sản phẩm trong giỏ hàng của bạn đã hết hàng\");\r\n                return \"redirect:/cart\";\r\n            }\r\n            if (payment.equals(\"VNPAY\")){\r\n                BigDecimal shippingFee = ghnUtil.calculateShippingFee(city, district, ward, cart.getTotalItems());\r\n                //Long dok\r\n                if (voucher == null){\r\n                    BigDecimal totalPrice = cart.getTotalPrice().add(shippingFee);\r\n                    jsonData = paymentService.vnpayCreate(request, totalPrice.longValue(), specificAddress, ward, district, city, name, phoneNumber, email, null);\r\n                } else {\r\n                    Voucher uuDai = voucherService.getVoucherById(voucher);\r\n                    if (uuDai.getStatus() != 1){\r\n                        attributes.addFlashAttribute(\"error\", \"Voucher đã hết số lượng hoặc hết hạn\");\r\n                        return \"redirect:/checkout\";\r\n                    }\r\n                    if (cart.getTotalPrice().compareTo(uuDai.getMinimumPrice()) < 0){\r\n                        attributes.addFlashAttribute(\"error\", \"Đơn hàng không đủ giá tối thiểu của voucher\");\r\n                        return \"redirect:/checkout\";\r\n                    }\r\n                    BigDecimal totalPrice = cart.getTotalPrice().add(shippingFee).subtract(uuDai.getValue());\r\n                    jsonData = paymentService.vnpayCreate(request, totalPrice.longValue(), specificAddress, ward, district, city, name, phoneNumber, email, String.valueOf(voucher));\r\n                }\r\n                return \"redirect:\" + jsonData.get(\"payUrl\").toString().replaceAll(\"\\\"\", \"\");\r\n            }\r\n            if (payment.equals(\"Momo\")){\r\n                BigDecimal shippingFee = ghnUtil.calculateShippingFee(city, district, ward, cart.getTotalItems());\r\n                //Long dok\r\n                if (voucher == null){\r\n                    BigDecimal totalPrice = cart.getTotalPrice().add(shippingFee);\r\n                    jsonData = paymentService.MomoPayCreate(totalPrice.longValue(), specificAddress, ward, district, city, name, phoneNumber, email, null);\r\n                } else {\r\n                    Voucher uuDai = voucherService.getVoucherById(voucher);\r\n                    if (uuDai.getStatus() != 1){\r\n                        attributes.addFlashAttribute(\"error\", \"Voucher đã hết số lượng hoặc hết hạn\");\r\n                        return \"redirect:/checkout\";\r\n                    }\r\n                    if (cart.getTotalPrice().compareTo(uuDai.getMinimumPrice()) < 0){\r\n                        attributes.addFlashAttribute(\"error\", \"Đơn hàng không đủ giá tối thiểu của voucher\");\r\n                        return \"redirect:/checkout\";\r\n                    }\r\n                    BigDecimal totalPrice = cart.getTotalPrice().add(shippingFee).subtract(uuDai.getValue());\r\n                    jsonData = paymentService.MomoPayCreate(totalPrice.longValue(), specificAddress, ward, district, city, name, phoneNumber, email, String.valueOf(voucher));\r\n                }\r\n                return \"redirect:\" + jsonData.get(\"payUrl\").toString().replaceAll(\"\\\"\", \"\");\r\n            }\r\n            if (payment.equals(\"ZaloPay\")){\r\n                BigDecimal shippingFee = ghnUtil.calculateShippingFee(city, district, ward, cart.getTotalItems());\r\n                //Long dok\r\n                if (voucher == null){\r\n                    BigDecimal totalPrice = cart.getTotalPrice().add(shippingFee);\r\n                    jsonData = paymentService.zalopayCreate(totalPrice.longValue(), specificAddress, ward, district, city, name, phoneNumber, email, null);\r\n                } else {\r\n                    Voucher uuDai = voucherService.getVoucherById(voucher);\r\n                    if (uuDai.getStatus() != 1){\r\n                        attributes.addFlashAttribute(\"error\", \"Voucher đã hết số lượng hoặc hết hạn\");\r\n                        return \"redirect:/checkout\";\r\n                    }\r\n                    if (cart.getTotalPrice().compareTo(uuDai.getMinimumPrice()) < 0){\r\n                        attributes.addFlashAttribute(\"error\", \"Đơn hàng không đủ giá tối thiểu của voucher\");\r\n                        return \"redirect:/checkout\";\r\n                    }\r\n                    BigDecimal totalPrice = cart.getTotalPrice().add(shippingFee).subtract(uuDai.getValue());\r\n                    jsonData = paymentService.zalopayCreate(totalPrice.longValue(), specificAddress, ward, district, city, name, phoneNumber, email, String.valueOf(voucher));\r\n                }\r\n                return \"redirect:\" + jsonData.get(\"payUrl\").toString().replaceAll(\"\\\"\", \"\");\r\n            }\r\n            if (voucher != null){\r\n                Voucher uuDai = voucherService.getVoucherById(voucher);\r\n                if (uuDai.getStatus() != 1){\r\n                    attributes.addFlashAttribute(\"error\", \"Voucher đã hết số lượng hoặc hết hạn\");\r\n                    return \"redirect:/checkout\";\r\n                }\r\n            }\r\n            billService.placeOrder(cart, name, specificAddress, ward, district, city, phoneNumber, payment, voucher);\r\n            session.removeAttribute(\"totalItems\");\r\n            attributes.addFlashAttribute(\"mess\", \"Đặt hàng thành công!\");\r\n        }\r\n        return \"redirect:/orders\";\r\n    }\r\n\r\n    @GetMapping(\"/vnpay/return\")\r\n    public String vnpayReturn(Principal principal, HttpSession session, VNPaymentResponse VNPaymentResponse, RedirectAttributes attributes) {\r\n        if (principal == null) {\r\n            if (VNPaymentResponse.getVnp_ResponseCode().equals(\"00\")) {\r\n                SessionCart sessionCart = (SessionCart) session.getAttribute(\"sessionCart\");\r\n                String payment = \"Thanh toán qua VNPAY\";\r\n                String specificAddress = jsonData.get(\"specificAddress\").toString().replaceAll(\"\\\"\", \"\");\r\n                String ward = jsonData.get(\"ward\").toString().replaceAll(\"\\\"\", \"\");\r\n                String district = jsonData.get(\"district\").toString().replaceAll(\"\\\"\", \"\");\r\n                String city = jsonData.get(\"city\").toString().replaceAll(\"\\\"\", \"\");\r\n                String name = jsonData.get(\"name\").toString().replaceAll(\"\\\"\", \"\");\r\n                String phoneNumber = jsonData.get(\"phoneNumber\").toString().replaceAll(\"\\\"\", \"\");\r\n                String email = jsonData.get(\"email\").toString().replaceAll(\"\\\"\", \"\");\r\n                String voucher = jsonData.get(\"voucher\").toString().replaceAll(\"\\\"\", \"\");\r\n                if (voucher.equals(\"null\")){\r\n                    billService.placeOrderSession(sessionCart, email, name, specificAddress, ward, district, city, phoneNumber, payment, null);\r\n                } else {\r\n                    billService.placeOrderSession(sessionCart, email, name, specificAddress, ward, district, city, phoneNumber, payment, Integer.valueOf(voucher));\r\n                }\r\n                attributes.addFlashAttribute(\"mess\", \"Đặt hàng thành công! Vui lòng kiểm tra mail của bạn để biết thêm chi tiết.\");\r\n                session.removeAttribute(\"totalItems\");\r\n                return \"redirect:/home\";\r\n            } else {\r\n                attributes.addFlashAttribute(\"error\", \"Thanh toán không thành công\");\r\n                return \"redirect:/checkout\";\r\n            }\r\n        } else {\r\n            if (VNPaymentResponse.getVnp_ResponseCode().equals(\"00\")) {\r\n                Cart cart = cartService.getCart(principal.getName());\r\n                String payment = \"Thanh toán qua VNPAY\";\r\n                String specificAddress = jsonData.get(\"specificAddress\").toString().replaceAll(\"\\\"\", \"\");\r\n                String ward = jsonData.get(\"ward\").toString().replaceAll(\"\\\"\", \"\");\r\n                String district = jsonData.get(\"district\").toString().replaceAll(\"\\\"\", \"\");\r\n                String city = jsonData.get(\"city\").toString().replaceAll(\"\\\"\", \"\");\r\n                String name = jsonData.get(\"name\").toString().replaceAll(\"\\\"\", \"\");\r\n                String phoneNumber = jsonData.get(\"phoneNumber\").toString().replaceAll(\"\\\"\", \"\");\r\n                String voucher = jsonData.get(\"voucher\").toString().replaceAll(\"\\\"\", \"\");\r\n                if (voucher.equals(\"null\")){\r\n                    billService.placeOrder(cart, name, specificAddress, ward, district, city, phoneNumber, payment, null);\r\n                } else {\r\n                    billService.placeOrder(cart, name, specificAddress, ward, district, city, phoneNumber, payment, Integer.valueOf(voucher));\r\n                }\r\n                session.removeAttribute(\"totalItems\");\r\n                attributes.addFlashAttribute(\"mess\", \"Đặt hàng thành công!\");\r\n                return \"redirect:/orders\";\r\n            } else {\r\n                attributes.addFlashAttribute(\"error\", \"Thanh toán không thành công\");\r\n                return \"redirect:/checkout\";\r\n            }\r\n        }\r\n    }\r\n\r\n    @GetMapping(\"/momo/return\")\r\n    public String momoReturn(Principal principal, HttpSession session,MomoPaymentResponse momoPaymentResponse, RedirectAttributes attributes) {\r\n        if (principal == null){\r\n            if (momoPaymentResponse.getResultCode().equals(\"0\")) {\r\n                SessionCart sessionCart = (SessionCart) session.getAttribute(\"sessionCart\");\r\n                String payment = \"Thanh toán qua Momo\";\r\n                String specificAddress = jsonData.get(\"specificAddress\").toString().replaceAll(\"\\\"\", \"\");\r\n                String ward = jsonData.get(\"ward\").toString().replaceAll(\"\\\"\", \"\");\r\n                String district = jsonData.get(\"district\").toString().replaceAll(\"\\\"\", \"\");\r\n                String city = jsonData.get(\"city\").toString().replaceAll(\"\\\"\", \"\");\r\n                String name = jsonData.get(\"name\").toString().replaceAll(\"\\\"\", \"\");\r\n                String phoneNumber = jsonData.get(\"phoneNumber\").toString().replaceAll(\"\\\"\", \"\");\r\n                String email = jsonData.get(\"email\").toString().replaceAll(\"\\\"\", \"\");\r\n                String voucher = jsonData.get(\"voucher\").toString().replaceAll(\"\\\"\", \"\");\r\n                if (voucher.equals(\"null\")){\r\n                    billService.placeOrderSession(sessionCart, email, name, specificAddress, ward, district, city, phoneNumber, payment, null);\r\n                } else {\r\n                    billService.placeOrderSession(sessionCart, email, name, specificAddress, ward, district, city, phoneNumber, payment, Integer.valueOf(voucher));\r\n                }\r\n                attributes.addFlashAttribute(\"mess\", \"Đặt hàng thành công! Vui lòng kiểm tra mail của bạn để biết thêm chi tiết.\");\r\n                session.removeAttribute(\"totalItems\");\r\n                return \"redirect:/home\";\r\n            } else {\r\n                attributes.addFlashAttribute(\"error\", \"Thanh toán không thành công\");\r\n                return \"redirect:/checkout\";\r\n            }\r\n        } else {\r\n            if (momoPaymentResponse.getResultCode().equals(\"0\")) {\r\n                Cart cart = cartService.getCart(principal.getName());\r\n                String payment = \"Thanh toán qua Momo\";\r\n                String specificAddress = jsonData.get(\"specificAddress\").toString().replaceAll(\"\\\"\", \"\");\r\n                String ward = jsonData.get(\"ward\").toString().replaceAll(\"\\\"\", \"\");\r\n                String district = jsonData.get(\"district\").toString().replaceAll(\"\\\"\", \"\");\r\n                String city = jsonData.get(\"city\").toString().replaceAll(\"\\\"\", \"\");\r\n                String name = jsonData.get(\"name\").toString().replaceAll(\"\\\"\", \"\");\r\n                String phoneNumber = jsonData.get(\"phoneNumber\").toString().replaceAll(\"\\\"\", \"\");\r\n                String voucher = jsonData.get(\"voucher\").toString().replaceAll(\"\\\"\", \"\");\r\n                if (voucher.equals(\"null\")){\r\n                    billService.placeOrder(cart, name, specificAddress, ward, district, city, phoneNumber, payment, null);\r\n                } else {\r\n                    billService.placeOrder(cart, name, specificAddress, ward, district, city, phoneNumber, payment, Integer.valueOf(voucher));\r\n                }\r\n                session.removeAttribute(\"totalItems\");\r\n                attributes.addFlashAttribute(\"mess\", \"Đặt hàng thành công!\");\r\n                return \"redirect:/orders\";\r\n            } else {\r\n                attributes.addFlashAttribute(\"error\", \"Thanh toán không thành công\");\r\n                return \"redirect:/checkout\";\r\n            }\r\n        }\r\n    }\r\n\r\n    @GetMapping(\"/zalo/return\")\r\n    public String zaloReturn(Principal principal, HttpSession session, ZaloPaymentResponse zaloPaymentResponse, RedirectAttributes attributes) {\r\n        if (principal == null){\r\n            if (zaloPaymentResponse.getStatus().equals(\"1\")) {\r\n                SessionCart sessionCart = (SessionCart) session.getAttribute(\"sessionCart\");\r\n                String payment = \"Thanh toán qua ZaloPay\";\r\n                String specificAddress = jsonData.get(\"specificAddress\").toString().replaceAll(\"\\\"\", \"\");\r\n                String ward = jsonData.get(\"ward\").toString().replaceAll(\"\\\"\", \"\");\r\n                String district = jsonData.get(\"district\").toString().replaceAll(\"\\\"\", \"\");\r\n                String city = jsonData.get(\"city\").toString().replaceAll(\"\\\"\", \"\");\r\n                String name = jsonData.get(\"name\").toString().replaceAll(\"\\\"\", \"\");\r\n                String phoneNumber = jsonData.get(\"phoneNumber\").toString().replaceAll(\"\\\"\", \"\");\r\n                String email = jsonData.get(\"email\").toString().replaceAll(\"\\\"\", \"\");\r\n                String voucher = jsonData.get(\"voucher\").toString().replaceAll(\"\\\"\", \"\");\r\n                if (voucher.equals(\"null\")){\r\n                    billService.placeOrderSession(sessionCart, email, name, specificAddress, ward, district, city, phoneNumber, payment, null);\r\n                } else {\r\n                    billService.placeOrderSession(sessionCart, email, name, specificAddress, ward, district, city, phoneNumber, payment, Integer.valueOf(voucher));\r\n                }\r\n                attributes.addFlashAttribute(\"mess\", \"Đặt hàng thành công! Vui lòng kiểm tra mail của bạn để biết thêm chi tiết.\");\r\n                session.removeAttribute(\"totalItems\");\r\n                return \"redirect:/home\";\r\n            } else {\r\n                attributes.addFlashAttribute(\"error\", \"Thanh toán không thành công\");\r\n                return \"redirect:/checkout\";\r\n            }\r\n        } else {\r\n            if (zaloPaymentResponse.getStatus().equals(\"1\")) {\r\n                Cart cart = cartService.getCart(principal.getName());\r\n                String payment = \"Thanh toán qua ZaloPay\";\r\n                String specificAddress = jsonData.get(\"specificAddress\").toString().replaceAll(\"\\\"\", \"\");\r\n                String ward = jsonData.get(\"ward\").toString().replaceAll(\"\\\"\", \"\");\r\n                String district = jsonData.get(\"district\").toString().replaceAll(\"\\\"\", \"\");\r\n                String city = jsonData.get(\"city\").toString().replaceAll(\"\\\"\", \"\");\r\n                String name = jsonData.get(\"name\").toString().replaceAll(\"\\\"\", \"\");\r\n                String phoneNumber = jsonData.get(\"phoneNumber\").toString().replaceAll(\"\\\"\", \"\");\r\n                String voucher = jsonData.get(\"voucher\").toString().replaceAll(\"\\\"\", \"\");\r\n                if (voucher.equals(\"null\")){\r\n                    billService.placeOrder(cart, name, specificAddress, ward, district, city, phoneNumber, payment, null);\r\n                } else {\r\n                    billService.placeOrder(cart, name, specificAddress, ward, district, city, phoneNumber, payment, Integer.valueOf(voucher));\r\n                }\r\n                session.removeAttribute(\"totalItems\");\r\n                attributes.addFlashAttribute(\"mess\", \"Đặt hàng thành công!\");\r\n                return \"redirect:/orders\";\r\n            } else {\r\n                attributes.addFlashAttribute(\"error\", \"Thanh toán không thành công\");\r\n                return \"redirect:/checkout\";\r\n            }\r\n        }\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/com/sd38/gymtiger/controller/user/UserBillController.java b/src/main/java/com/sd38/gymtiger/controller/user/UserBillController.java
--- a/src/main/java/com/sd38/gymtiger/controller/user/UserBillController.java	(revision a3f2f4fe416fb7db81751953dbcaea2f7d6afbda)
+++ b/src/main/java/com/sd38/gymtiger/controller/user/UserBillController.java	(date 1725264597966)
@@ -152,7 +152,8 @@
     }
 
     @RequestMapping(value = "/cancel-order/{id}", method = {RequestMethod.PUT, RequestMethod.GET})
-    public String cancelOrder(@PathVariable Integer id, Principal principal, RedirectAttributes attributes) {
+    public String cancelOrder(@PathVariable Integer id, Principal principal,
+                              RedirectAttributes attributes, @RequestParam("cancelReason") String cancelReason) {
         if (principal == null) {
             return "redirect:/login";
         }
@@ -163,7 +164,7 @@
             return "redirect:/orders";
         }
         if (customer.getId().equals(bill.getCustomer().getId())){
-            boolean check = billService.userCancelOrder(id);
+            boolean check = billService.userCancelOrder(id, cancelReason);
             if (check){
                 attributes.addFlashAttribute("mess", "Huỷ đơn hàng thành công");
             } else {
@@ -176,7 +177,8 @@
     }
 
     @RequestMapping(value = "/detail-cancel-order/{id}", method = {RequestMethod.PUT, RequestMethod.GET})
-    public String detailCancelOrder(@PathVariable Integer id, Principal principal, RedirectAttributes attributes) {
+    public String detailCancelOrder(@PathVariable Integer id, Principal principal,
+                                    RedirectAttributes attributes, @RequestParam("cancelReason") String cancelReason) {
         if (principal == null) {
             return "redirect:/login";
         }
@@ -187,7 +189,7 @@
             return "redirect:/orders";
         }
         if (customer.getId().equals(bill.getCustomer().getId())){
-            boolean check = billService.userCancelOrder(id);
+            boolean check = billService.userCancelOrder(id, cancelReason);
             if (check){
                 attributes.addFlashAttribute("mess", "Huỷ đơn hàng thành công");
             } else {
Index: src/main/java/com/sd38/gymtiger/service/impl/BillServiceImpl.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.sd38.gymtiger.service.impl;\r\n\r\nimport com.sd38.gymtiger.config.MailConfig;\r\nimport com.sd38.gymtiger.dto.admin.BillDto;\r\nimport com.sd38.gymtiger.model.Account;\r\nimport com.sd38.gymtiger.model.Address;\r\nimport com.sd38.gymtiger.model.BillDetail;\r\nimport com.sd38.gymtiger.model.Cart;\r\nimport com.sd38.gymtiger.model.CartDetail;\r\nimport com.sd38.gymtiger.model.Customer;\r\nimport com.sd38.gymtiger.model.PaymentMethod;\r\nimport com.sd38.gymtiger.model.ProductDetail;\r\nimport com.sd38.gymtiger.model.Role;\r\nimport com.sd38.gymtiger.model.SessionCart;\r\nimport com.sd38.gymtiger.model.SessionCartItem;\r\nimport com.sd38.gymtiger.model.Voucher;\r\nimport com.sd38.gymtiger.repository.AccountRepository;\r\nimport com.sd38.gymtiger.repository.AddressRepository;\r\nimport com.sd38.gymtiger.repository.BillDetailRepository;\r\nimport com.sd38.gymtiger.model.Bill;\r\nimport com.sd38.gymtiger.repository.BillRepository;\r\nimport com.sd38.gymtiger.repository.CustomerRepository;\r\nimport com.sd38.gymtiger.repository.PaymentMethodRepository;\r\nimport com.sd38.gymtiger.repository.ProductDetailRepository;\r\nimport com.sd38.gymtiger.repository.RoleRepository;\r\nimport com.sd38.gymtiger.repository.VoucherRepository;\r\nimport com.sd38.gymtiger.service.BillService;\r\nimport com.sd38.gymtiger.service.CartService;\r\nimport com.sd38.gymtiger.utils.GHNUtil;\r\nimport com.sd38.gymtiger.utils.MailUtil;\r\nimport jakarta.servlet.http.HttpServletResponse;\r\nimport org.apache.poi.common.usermodel.HyperlinkType;\r\nimport org.apache.poi.ss.usermodel.CreationHelper;\r\nimport org.apache.poi.xssf.usermodel.XSSFCell;\r\nimport org.apache.poi.xssf.usermodel.XSSFCellStyle;\r\nimport org.apache.poi.xssf.usermodel.XSSFDataFormat;\r\nimport org.apache.poi.xssf.usermodel.XSSFHyperlink;\r\nimport org.apache.poi.xssf.usermodel.XSSFRichTextString;\r\nimport org.apache.poi.xssf.usermodel.XSSFRow;\r\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\r\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.data.domain.Page;\r\nimport org.springframework.data.domain.PageRequest;\r\nimport org.springframework.data.domain.Pageable;\r\nimport org.springframework.data.domain.Sort;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.transaction.annotation.Transactional;\r\n\r\nimport java.io.IOException;\r\nimport java.io.OutputStream;\r\nimport java.math.BigDecimal;\r\nimport java.util.ArrayList;\r\nimport java.util.Date;\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\n@Service\r\npublic class BillServiceImpl implements BillService {\r\n\r\n    @Autowired\r\n    private MailUtil mailUtil;\r\n\r\n    @Autowired\r\n    private BillRepository billRepository;\r\n\r\n    @Autowired\r\n    private BillDetailRepository billDetailRepository;\r\n\r\n    @Autowired\r\n    private ProductDetailRepository productDetailRepository;\r\n\r\n    @Autowired\r\n    private CartService cartService;\r\n\r\n    @Autowired\r\n    private PaymentMethodRepository paymentMethodRepository;\r\n\r\n    @Autowired\r\n    private AddressRepository addressRepository;\r\n\r\n    @Autowired\r\n    private CustomerRepository customerRepository;\r\n\r\n    @Autowired\r\n    private AccountRepository accountRepository;\r\n\r\n    @Autowired\r\n    private RoleRepository roleRepository;\r\n\r\n    @Autowired\r\n    private VoucherRepository voucherRepository;\r\n\r\n    @Autowired\r\n    private PasswordEncoder passwordEncoder;\r\n\r\n    @Autowired\r\n    private GHNUtil ghnUtil;\r\n\r\n    MailConfig mailConfig = new MailConfig();\r\n\r\n    @Override\r\n    public List<Bill> getAllBill() {\r\n        return billRepository.findAll();\r\n    }\r\n\r\n    @Override\r\n    public Page<Bill> getAllBillPT(Integer page) {\r\n        Pageable pageable = PageRequest.of(page, 5, Sort.by(Sort.Direction.DESC, \"OrderDate\"));\r\n        return billRepository.findAll(pageable);\r\n    }\r\n\r\n    @Override\r\n    public Bill addBillPos(Bill bill) {\r\n//        bill.setStatus(1);\r\n//        bill.setCreateDate(new Date());\r\n//        bill.setUpdateDate(new Date());\r\n        return billRepository.save(bill);\r\n    }\r\n\r\n    @Override\r\n    public Bill updateBill(Bill bill, Integer id) {\r\n        Optional<Bill> optional = billRepository.findById(id);\r\n        if (optional.isPresent()) {\r\n            Bill oldBill = optional.get();\r\n            bill.setId(oldBill.getId());\r\n            bill.setStatus(oldBill.getStatus());\r\n            bill.setCreateDate(oldBill.getCreateDate());\r\n            bill.setUpdateDate(new Date());\r\n            return billRepository.save(bill);\r\n        }\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public List<BillDetail> getAllBillDetail() {\r\n        return billDetailRepository.findAllByStatus(1);\r\n    }\r\n\r\n    @Override\r\n    public Page<BillDetail> getAllBillDetailPT(Integer page) {\r\n        Pageable pageable = PageRequest.of(page, 5);\r\n        return billDetailRepository.findAllByStatus(pageable, 1);\r\n    }\r\n\r\n    @Override\r\n    public BillDetail addBillDetailPos(BillDetail billDetail) {\r\n        billDetail.setStatus(1);\r\n        return billDetailRepository.save(billDetail);\r\n    }\r\n\r\n    @Override\r\n    public BillDetail updateBillDetail(BillDetail billDetail, Integer id) {\r\n        Optional<BillDetail> optional = billDetailRepository.findById(id);\r\n        if (optional.isPresent()) {\r\n            BillDetail oldBillDetail = optional.get();\r\n            billDetail.setId(oldBillDetail.getId());\r\n            return billDetailRepository.save(billDetail);\r\n        }\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public Bill getOneBill(Integer id) {\r\n        return billRepository.findById(id).orElse(null);\r\n    }\r\n\r\n    @Override\r\n    public BillDetail getOneBillDetail(Integer id) {\r\n        return billDetailRepository.findById(id).orElse(null);\r\n    }\r\n\r\n    @Override\r\n    public List<BillDetail> getLstDetailByBillId(Integer id) {\r\n        return billDetailRepository.findAllByBill_Id(id);\r\n    }\r\n\r\n    @Override\r\n    public Bill delete(Integer id) {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    @Transactional\r\n    public Bill placeOrder(Cart cart, String name, String specificAddress, String ward, String district, String city, String phoneNumber, String payment, Integer voucher) {\r\n        Bill bill = new Bill();\r\n        bill.setCode(generateBillCode());\r\n        bill.setType(0);\r\n        bill.setCustomerName(name);\r\n        String address = specificAddress + \", \" + ward + \", \" + district + \", \" + city;\r\n        bill.setAddress(address);\r\n        bill.setPhoneNumber(phoneNumber);\r\n        bill.setOrderDate(new Date());\r\n        bill.setPrice(cart.getTotalPrice());\r\n        BigDecimal shippingFee = ghnUtil.calculateShippingFee(city, district, ward, cart.getTotalItems());\r\n   //     BigDecimal shippingFee = BigDecimal.valueOf(0.0);\r\n        bill.setShippingFee(shippingFee);\r\n\r\n        // Xử lý việc áp dụng mã giảm giá\r\n        if (voucher == null) {\r\n            // Không có mã giảm giá: đặt mức giảm giá bằng 0, tổng giá bao gồm phí vận chuyển\r\n            bill.setDiscountAmount(BigDecimal.ZERO);\r\n            bill.setTotalPrice(cart.getTotalPrice().add(shippingFee));\r\n        } else {\r\n            // Tìm thấy mã giảm giá: lấy thông tin chi tiết của mã giảm giá\r\n            Voucher uuDai = voucherRepository.findById(voucher).orElse(null);\r\n            bill.setDiscountAmount(uuDai.getValue());\r\n            bill.setTotalPrice(cart.getTotalPrice().add(shippingFee).subtract(uuDai.getValue()));\r\n            bill.setVoucher(uuDai);\r\n\r\n            // Cập nhật số lượng và trạng thái của mã giảm giá\r\n            uuDai.setQuantity(uuDai.getQuantity() - 1);\r\n            if (uuDai.getQuantity() == 0) {\r\n                uuDai.setStatus(10); // Có thể cho biết mã giảm giá không còn hiệu lực\r\n            }\r\n            voucherRepository.save(uuDai);\r\n        }\r\n\r\n        // Đặt thời gian tạo và cập nhật bill\r\n        bill.setCreateDate(new Date());\r\n        bill.setUpdateDate(new Date());\r\n\r\n        // Đặt trạng thái của bill dựa trên phương thức thanh toán\r\n        if (payment.equals(\"Thanh toán qua VNPAY\") || payment.equals(\"Thanh toán qua Momo\") || payment.equals(\"Thanh toán qua ZaloPay\")) {\r\n            // Thanh toán trực tuyến: đánh dấu là đã thanh toán và xác nhận\r\n            bill.setPaymentDate(new Date());\r\n            bill.setConfirmationDate(new Date());\r\n            bill.setStatus(3); // Có thể đại diện cho trạng thái \"Đã thanh toán\"\r\n        } else {\r\n            bill.setStatus(10); // Có thể đại diện cho trạng thái \"Chờ xử lý\" hoặc \"Chưa thanh toán\"\r\n        }\r\n\r\n        // Liên kết bill với khách hàng (lấy từ giỏ hàng)\r\n        bill.setCustomer(cart.getCustomer());\r\n\r\n        // Kiểm tra xem khách hàng đã có địa chỉ lưu trong hệ thống chưa\r\n        List<Address> listAccountAddress = addressRepository.findAllAccountAddress(cart.getCustomer().getId());\r\n        if (listAccountAddress.isEmpty()) {\r\n            // Nếu chưa có, tạo mới địa chỉ cho khách hàng\r\n            Account account = accountRepository.findById(cart.getCustomer().getId()).orElse(null);\r\n            Address newAddress = new Address();\r\n            newAddress.setCustomerName(name);\r\n            newAddress.setPhoneNumber(phoneNumber);\r\n            newAddress.setSpecificAddress(specificAddress);\r\n            newAddress.setWard(ward);\r\n            newAddress.setDistrict(district);\r\n            newAddress.setCity(city);\r\n            newAddress.setCreateDate(new Date());\r\n            newAddress.setUpdateDate(new Date());\r\n            newAddress.setStatus(1); // Có thể đại diện cho trạng thái \"Hoạt động\" của địa chỉ\r\n            newAddress.setAccount(account);\r\n            addressRepository.save(newAddress);\r\n        }\r\n\r\n        // Tạo danh sách chi tiết đơn hàng từ các sản phẩm trong giỏ hàng\r\n        List<BillDetail> billDetailList = new ArrayList<>();\r\n        for (CartDetail item : cart.getCartDetails()) {\r\n            BillDetail billDetail = new BillDetail();\r\n            billDetail.setBill(bill);\r\n            billDetail.setProductDetail(item.getProductDetail());\r\n            billDetail.setPrice(item.getPrice());\r\n            billDetail.setQuantity(item.getQuantity());\r\n            billDetail.setStatus(1); // Có thể đại diện cho trạng thái \"Hoạt động\" của chi tiết đơn hàng\r\n            billDetailRepository.save(billDetail);\r\n            billDetailList.add(billDetail);\r\n\r\n            // Cập nhật số lượng sản phẩm sau khi đặt hàng\r\n            ProductDetail productDetail = productDetailRepository.findById(item.getProductDetail().getId()).orElse(null);\r\n            productDetail.setQuantity(productDetail.getQuantity() - item.getQuantity());\r\n            productDetailRepository.save(productDetail);\r\n        }\r\n        cartService.deleteCartById(cart.getId());\r\n\r\n        // Tạo phương thức thanh toán và liên kết với bill\r\n        PaymentMethod paymentMethod = new PaymentMethod();\r\n        paymentMethod.setBill(bill);\r\n        paymentMethod.setName(payment);\r\n\r\n        // Đặt trạng thái và số tiền của phương thức thanh toán dựa trên phương thức thanh toán\r\n        if (payment.equals(\"Thanh toán qua VNPAY\") || payment.equals(\"Thanh toán qua Momo\") || payment.equals(\"Thanh toán qua ZaloPay\")) {\r\n            // Thanh toán trực tuyến: đánh dấu là đã thanh toán và xác nhận\r\n            paymentMethod.setMoney(bill.getTotalPrice());\r\n            paymentMethod.setStatus(1);\r\n        } else {\r\n            paymentMethod.setMoney(bill.getTotalPrice());\r\n            paymentMethod.setStatus(10); // Có thể đại diện cho trạng thái \"Chờ xử lý\" hoặc \"Chưa thanh toán\"\r\n        }\r\n\r\n        paymentMethod.setDescription(payment);\r\n        paymentMethodRepository.save(paymentMethod);\r\n\r\n        // Lưu bill vào cơ sở dữ liệu và trả về bill đã được lưu\r\n        return billRepository.save(bill);\r\n    }\r\n\r\n    @Override\r\n    @Transactional\r\n    public Bill placeOrderSession(SessionCart cart, String email, String name, String specificAddress, String ward, String district, String city, String phoneNumber, String payment, Integer voucher) {\r\n        Bill bill = new Bill();\r\n        bill.setCode(generateBillCode());\r\n        bill.setType(0);\r\n        bill.setCustomerName(name);\r\n        String address = specificAddress + \", \" + ward + \", \" + district + \", \" + city;\r\n        bill.setAddress(address);\r\n        bill.setPhoneNumber(phoneNumber);\r\n        bill.setOrderDate(new Date());\r\n        bill.setPrice(cart.getTotalPrice());\r\n        BigDecimal shippingFee = ghnUtil.calculateShippingFee(city, district, ward, cart.getTotalItems());;\r\n        bill.setShippingFee(shippingFee);\r\n        if (voucher == null) {\r\n            bill.setDiscountAmount(BigDecimal.ZERO);\r\n            bill.setTotalPrice(cart.getTotalPrice().add(shippingFee));\r\n        } else {\r\n            Voucher uuDai = voucherRepository.findById(voucher).orElse(null);\r\n            bill.setDiscountAmount(uuDai.getValue());\r\n            bill.setTotalPrice(cart.getTotalPrice().add(shippingFee).subtract(uuDai.getValue()));\r\n            bill.setVoucher(uuDai);\r\n            uuDai.setQuantity(uuDai.getQuantity() - 1);\r\n            if (uuDai.getQuantity() == 0) {\r\n                uuDai.setStatus(10);\r\n            }\r\n            voucherRepository.save(uuDai);\r\n        }\r\n        bill.setCreateDate(new Date());\r\n        bill.setUpdateDate(new Date());\r\n        if (payment.equals(\"Thanh toán qua VNPAY\") || payment.equals(\"Thanh toán qua Momo\") || payment.equals(\"Thanh toán qua ZaloPay\")) {\r\n            bill.setPaymentDate(new Date());\r\n            bill.setConfirmationDate(new Date());\r\n            bill.setStatus(3);\r\n        } else {\r\n            bill.setStatus(10);\r\n        }\r\n        Customer customer = customerRepository.findByEmail(email);\r\n        String body;\r\n        if (customer == null) {\r\n            customer = new Customer();\r\n            customer.setName(name);\r\n            customer.setEmail(email);\r\n            customer.setPhoneNumber(phoneNumber);\r\n            customer.setCreateDate(new Date());\r\n            customer.setUpdateDate(new Date());\r\n            customer.setStatus(1);\r\n            Role role = roleRepository.findFirstByName(\"User\");\r\n            customer.setRole(role);\r\n            customer.setPassword(passwordEncoder.encode(\"123456\"));\r\n            customerRepository.save(customer);\r\n            body = mailUtil.noAccountMailTemplate(email, mailConfig.company, mailConfig.contact);\r\n        } else {\r\n            body = mailUtil.accountMailTemplate(email, mailConfig.company, mailConfig.contact);\r\n        }\r\n        mailUtil.sendEmail(email, mailConfig.placeOrderMail, body);\r\n        bill.setCustomer(customer);\r\n        List<Address> listAccountAddress = addressRepository.findAllAccountAddress(bill.getCustomer().getId());\r\n        if (listAccountAddress.isEmpty()) {\r\n            Account account = accountRepository.findById(bill.getCustomer().getId()).orElse(null);\r\n            Address newAddress = new Address();\r\n            newAddress.setCustomerName(name);\r\n            newAddress.setPhoneNumber(phoneNumber);\r\n            newAddress.setSpecificAddress(specificAddress);\r\n            newAddress.setWard(ward);\r\n            newAddress.setDistrict(district);\r\n            newAddress.setCity(city);\r\n            newAddress.setCreateDate(new Date());\r\n            newAddress.setUpdateDate(new Date());\r\n            newAddress.setStatus(1);\r\n            newAddress.setAccount(account);\r\n            addressRepository.save(newAddress);\r\n        }\r\n\r\n        List<BillDetail> billDetailList = new ArrayList<>();\r\n        for (SessionCartItem item : cart.getCartDetails()) {\r\n            BillDetail billDetail = new BillDetail();\r\n            billDetail.setBill(bill);\r\n            ProductDetail productDetail = productDetailRepository.findById(item.getProductDetail().getId()).orElse(null);\r\n            billDetail.setProductDetail(productDetail);\r\n            billDetail.setPrice(item.getPrice());\r\n            billDetail.setQuantity(item.getQuantity());\r\n            billDetail.setStatus(1);\r\n            billDetailRepository.save(billDetail);\r\n            billDetailList.add(billDetail);\r\n            productDetail.setQuantity(productDetail.getQuantity() - item.getQuantity());\r\n            productDetailRepository.save(productDetail);\r\n        }\r\n        cart.clear();\r\n        PaymentMethod paymentMethod = new PaymentMethod();\r\n        paymentMethod.setBill(bill);\r\n        paymentMethod.setName(payment);\r\n        if (payment.equals(\"Thanh toán qua VNPAY\") || payment.equals(\"Thanh toán qua Momo\") || payment.equals(\"Thanh toán qua ZaloPay\")) {\r\n            paymentMethod.setMoney(bill.getTotalPrice());\r\n            paymentMethod.setStatus(1);\r\n        } else {\r\n            paymentMethod.setMoney(bill.getTotalPrice());\r\n            paymentMethod.setStatus(10);\r\n        }\r\n        paymentMethod.setDescription(payment);\r\n        paymentMethodRepository.save(paymentMethod);\r\n        return billRepository.save(bill);\r\n    }\r\n\r\n    @Override\r\n    public List<Bill> getStatusOrders(Integer status ,Integer customerId) {\r\n        return billRepository.getOrders(status, customerId);\r\n    }\r\n\r\n    @Override\r\n    public List<Bill> getAllOrders(Integer customerId) {\r\n        return billRepository.getAllOrders(customerId);\r\n    }\r\n\r\n    @Override\r\n    @Transactional\r\n    public boolean userCancelOrder(Integer billId) {\r\n        Bill bill = billRepository.findById(billId).orElse(null);\r\n        if (bill.getStatus() != 10) {\r\n            return false;\r\n        } else {\r\n            bill.setStatus(0);\r\n            bill.setCancellationDate(new Date());\r\n            if (bill.getVoucher() != null) {\r\n                Voucher voucher = bill.getVoucher();\r\n                if (voucher.getStatus() == 10 || voucher.getStatus() == 1) {\r\n                    voucher.setQuantity(voucher.getQuantity() + 1);\r\n                    voucher.setStatus(1);\r\n                }\r\n                voucherRepository.save(voucher);\r\n            }\r\n            List<PaymentMethod> paymentMethodList = paymentMethodRepository.findAllByBillIdOrderById(billId);\r\n            for (PaymentMethod paymentMethod : paymentMethodList) {\r\n                paymentMethod.setStatus(0);\r\n            }\r\n            List<BillDetail> billDetailList = billDetailRepository.findAllByBill_Id(billId);\r\n            for (BillDetail billDetail : billDetailList) {\r\n                billDetail.setStatus(0);\r\n                billDetailRepository.save(billDetail);\r\n                ProductDetail productDetail = productDetailRepository.findById(billDetail.getProductDetail().getId()).orElse(null);\r\n                productDetail.setQuantity(productDetail.getQuantity() + billDetail.getQuantity());\r\n                productDetailRepository.save(productDetail);\r\n            }\r\n            billRepository.save(bill);\r\n            return true;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public boolean confirmOrder(Integer id, Account account) {\r\n        Bill bill = billRepository.findById(id).orElse(null);\r\n        if (bill.getStatus() != 10) {\r\n            return false;\r\n        } else {\r\n            bill.setStatus(3);\r\n            bill.setConfirmationDate(new Date());\r\n            bill.setEmployee(account);\r\n            billRepository.save(bill);\r\n            return true;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public boolean shippingOrder(Integer id, Account account) {\r\n        Bill bill = billRepository.findById(id).orElse(null);\r\n        if (bill.getStatus() != 3) {\r\n            return false;\r\n        } else {\r\n            bill.setStatus(2);\r\n            bill.setShippingDate(new Date());\r\n            bill.setEmployee(account);\r\n            billRepository.save(bill);\r\n            return true;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public boolean completeOrder(Integer id, Account account) {\r\n        Bill bill = billRepository.findById(id).orElse(null);\r\n        if (bill.getStatus() != 2) {\r\n            return false;\r\n        } else {\r\n            bill.setStatus(1);\r\n            bill.setCompletionDate(new Date());\r\n            if (bill.getPaymentDate() == null) {\r\n                bill.setPaymentDate(new Date());\r\n            }\r\n            bill.setEmployee(account);\r\n            List<PaymentMethod> listPaymentMethod = paymentMethodRepository.findAllByBillIdOrderById(id);\r\n            for (PaymentMethod paymentMethod : listPaymentMethod) {\r\n                if (paymentMethod.getStatus() == 10) {\r\n                    paymentMethod.setStatus(1);\r\n                    paymentMethodRepository.save(paymentMethod);\r\n                }\r\n            }\r\n            billRepository.save(bill);\r\n            return true;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public boolean changeAddressOrder(Integer billId, String name, String phoneNumber, String specificAddress, String ward, String district, String city, Account account) {\r\n        Bill bill = billRepository.findById(billId).orElse(null);\r\n        if (bill.getStatus() != 10){\r\n            return false;\r\n        } else {\r\n            String address = specificAddress + \", \" + ward + \", \" + district + \", \" + city;\r\n            bill.setCustomerName(name);\r\n            bill.setAddress(address);\r\n            List<BillDetail> billDetails = billDetailRepository.findAllByBill_Id(billId);\r\n            int totalQuantity = billDetails.stream()\r\n                    .mapToInt(BillDetail::getQuantity)\r\n                    .sum();\r\n            BigDecimal newShippingFee = ghnUtil.calculateShippingFee(city, district, ward, totalQuantity);\r\n            bill.setShippingFee(newShippingFee);\r\n            bill.setTotalPrice(bill.getPrice().add(newShippingFee).subtract(bill.getDiscountAmount()));\r\n            bill.setUpdateDate(new Date());\r\n            bill.setEmployee(account);\r\n            List<PaymentMethod> listPaymentMethod = paymentMethodRepository.findAllByBillIdOrderById(billId);\r\n            for (PaymentMethod paymentMethod : listPaymentMethod) {\r\n                if (paymentMethod.getStatus() == 10) {\r\n                    paymentMethod.setMoney(bill.getTotalPrice());\r\n                    paymentMethodRepository.save(paymentMethod);\r\n                }\r\n            }\r\n            billRepository.save(bill);\r\n            return true;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    @Transactional\r\n    public boolean updateBillItem(Integer itemId, Integer quantity, Account account) {\r\n        BillDetail billDetail = billDetailRepository.findById(itemId).orElse(null);\r\n        Integer quantityGap = quantity - billDetail.getQuantity();\r\n        ProductDetail productDetail = productDetailRepository.findById(billDetail.getProductDetail().getId()).orElse(null);\r\n        if (quantity <= productDetail.getQuantity() + billDetail.getQuantity()){\r\n            billDetail.setQuantity(quantity);\r\n            billDetailRepository.save(billDetail);\r\n            productDetail.setQuantity(productDetail.getQuantity() - quantityGap);\r\n            productDetailRepository.save(productDetail);\r\n            Bill bill = billRepository.findById(billDetail.getBill().getId()).orElse(null);\r\n            List<BillDetail> billDetailList = billDetailRepository.findAllByBill_Id(bill.getId());\r\n            BigDecimal newPrice = BigDecimal.ZERO;\r\n            for (BillDetail item : billDetailList){\r\n                BigDecimal price = item.getPrice();\r\n                BigDecimal qtt = BigDecimal.valueOf(item.getQuantity());\r\n                BigDecimal subTotal = price.multiply(qtt);\r\n                newPrice = newPrice.add(subTotal);\r\n            }\r\n            bill.setPrice(newPrice);\r\n            String address = bill.getAddress();\r\n            String[] parts = address.split(\", \");\r\n            String ward = parts[1];\r\n            String district = parts[2];\r\n            String city = parts[3];\r\n            int totalQuantity = billDetailList.stream()\r\n                    .mapToInt(BillDetail::getQuantity)\r\n                    .sum();\r\n            BigDecimal newShippingFee = ghnUtil.calculateShippingFee(city, district, ward, totalQuantity);\r\n            bill.setShippingFee(newShippingFee);\r\n            Voucher voucher = bill.getVoucher();\r\n            if (voucher != null){\r\n                if (newPrice.compareTo(voucher.getMinimumPrice()) < 0){\r\n                    bill.setDiscountAmount(BigDecimal.ZERO);\r\n                } else {\r\n                    bill.setDiscountAmount(voucher.getValue());\r\n                }\r\n            }\r\n            bill.setTotalPrice(newPrice.add(newShippingFee).subtract(bill.getDiscountAmount()));\r\n            bill.setUpdateDate(new Date());\r\n            bill.setEmployee(account);\r\n\r\n            List<PaymentMethod> listPaymentMethod = paymentMethodRepository.findAllByBillIdOrderById(bill.getId());\r\n            for (PaymentMethod paymentMethod : listPaymentMethod) {\r\n                if (paymentMethod.getStatus() == 10) {\r\n                    paymentMethod.setMoney(bill.getTotalPrice());\r\n                    paymentMethodRepository.save(paymentMethod);\r\n                }\r\n            }\r\n            billRepository.save(bill);\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public boolean deleteBillItem(Integer itemId, Account account) {\r\n        BillDetail billDetail = billDetailRepository.findById(itemId).orElse(null);\r\n        Bill bill = billRepository.findById(billDetail.getBill().getId()).orElse(null);\r\n        List<BillDetail> billDetailList = billDetailRepository.findAllByBill_Id(bill.getId());\r\n        ProductDetail productDetail = productDetailRepository.findById(billDetail.getProductDetail().getId()).orElse(null);\r\n        if (billDetailList.size() > 1){\r\n            productDetail.setQuantity(productDetail.getQuantity() + billDetail.getQuantity());\r\n            productDetailRepository.save(productDetail);\r\n            billDetail.setProductDetail(null);\r\n            billDetailRepository.delete(billDetail);\r\n            BigDecimal newPrice = BigDecimal.ZERO;\r\n            List<BillDetail> billDetailList2 = billDetailRepository.findAllByBill_Id(bill.getId());\r\n            for (BillDetail item : billDetailList2){\r\n                BigDecimal price = item.getPrice();\r\n                BigDecimal qtt = BigDecimal.valueOf(item.getQuantity());\r\n                BigDecimal subTotal = price.multiply(qtt);\r\n                newPrice = newPrice.add(subTotal);\r\n            }\r\n            bill.setPrice(newPrice);\r\n            String address = bill.getAddress();\r\n            String[] parts = address.split(\", \");\r\n            String ward = parts[1];\r\n            String district = parts[2];\r\n            String city = parts[3];\r\n            int totalQuantity = billDetailList2.stream()\r\n                    .mapToInt(BillDetail::getQuantity)\r\n                    .sum();\r\n            BigDecimal newShippingFee = ghnUtil.calculateShippingFee(city, district, ward, totalQuantity);\r\n            bill.setShippingFee(newShippingFee);\r\n            Voucher voucher = bill.getVoucher();\r\n            if (voucher != null){\r\n                if (newPrice.compareTo(voucher.getMinimumPrice()) < 0){\r\n                    bill.setDiscountAmount(BigDecimal.ZERO);\r\n                } else {\r\n                    bill.setDiscountAmount(voucher.getValue());\r\n                }\r\n            }\r\n            bill.setTotalPrice(newPrice.add(newShippingFee).subtract(bill.getDiscountAmount()));\r\n            bill.setUpdateDate(new Date());\r\n            bill.setEmployee(account);\r\n\r\n            List<PaymentMethod> listPaymentMethod = paymentMethodRepository.findAllByBillIdOrderById(bill.getId());\r\n            for (PaymentMethod paymentMethod : listPaymentMethod) {\r\n                if (paymentMethod.getStatus() == 10) {\r\n                    paymentMethod.setMoney(bill.getTotalPrice());\r\n                    paymentMethodRepository.save(paymentMethod);\r\n                }\r\n            }\r\n            billRepository.save(bill);\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public boolean addBillItem(Integer billId, Integer productDetailId, Integer quantity, Account account) {\r\n        ProductDetail productDetail = productDetailRepository.findById(productDetailId).orElse(null);\r\n        if (quantity <= productDetail.getQuantity()){\r\n            BillDetail billDetail = billDetailRepository.findByBill_IdAndProductDetail_Id(billId, productDetailId);\r\n            Bill bill = billRepository.findById(billId).orElse(null);\r\n            if (billDetail == null){\r\n                billDetail = new BillDetail();\r\n                billDetail.setProductDetail(productDetail);\r\n                billDetail.setPrice(productDetail.getPriceDiscount());\r\n                billDetail.setQuantity(quantity);\r\n                billDetail.setBill(bill);\r\n                billDetail.setStatus(1);\r\n                billDetailRepository.save(billDetail);\r\n            } else {\r\n                billDetail.setQuantity(billDetail.getQuantity() + quantity);\r\n                billDetailRepository.save(billDetail);\r\n            }\r\n            productDetail.setQuantity(productDetail.getQuantity() - quantity);\r\n            productDetailRepository.save(productDetail);\r\n            List<BillDetail> billDetailList = billDetailRepository.findAllByBill_Id(billId);\r\n            BigDecimal newPrice = BigDecimal.ZERO;\r\n            for (BillDetail item : billDetailList){\r\n                BigDecimal price = item.getPrice();\r\n                BigDecimal qtt = BigDecimal.valueOf(item.getQuantity());\r\n                BigDecimal subTotal = price.multiply(qtt);\r\n                newPrice = newPrice.add(subTotal);\r\n            }\r\n            bill.setPrice(newPrice);\r\n            String address = bill.getAddress();\r\n            String[] parts = address.split(\", \");\r\n            String ward = parts[1];\r\n            String district = parts[2];\r\n            String city = parts[3];\r\n            int totalQuantity = billDetailList.stream()\r\n                    .mapToInt(BillDetail::getQuantity)\r\n                    .sum();\r\n            BigDecimal newShippingFee =ghnUtil.calculateShippingFee(city, district, ward, totalQuantity);\r\n            bill.setShippingFee(newShippingFee);\r\n            Voucher voucher = bill.getVoucher();\r\n            if (voucher != null){\r\n                if (newPrice.compareTo(voucher.getMinimumPrice()) < 0){\r\n                    bill.setDiscountAmount(BigDecimal.ZERO);\r\n                } else {\r\n                    bill.setDiscountAmount(voucher.getValue());\r\n                }\r\n            }\r\n            bill.setTotalPrice(newPrice.add(newShippingFee).subtract(bill.getDiscountAmount()));\r\n            bill.setUpdateDate(new Date());\r\n            bill.setEmployee(account);\r\n\r\n            List<PaymentMethod> listPaymentMethod = paymentMethodRepository.findAllByBillIdOrderById(bill.getId());\r\n            for (PaymentMethod paymentMethod : listPaymentMethod) {\r\n                if (paymentMethod.getStatus() == 10) {\r\n                    paymentMethod.setMoney(bill.getTotalPrice());\r\n                    paymentMethodRepository.save(paymentMethod);\r\n                }\r\n            }\r\n            billRepository.save(bill);\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    @Transactional\r\n    public boolean cancelOrder(Integer billId, Account account) {\r\n        Bill bill = billRepository.findById(billId).orElse(null);\r\n        if (bill.getStatus() == 0) {\r\n            return false;\r\n        } else {\r\n            bill.setStatus(0);\r\n            bill.setCancellationDate(new Date());\r\n            if (bill.getVoucher() != null) {\r\n                Voucher voucher = bill.getVoucher();\r\n                if (voucher.getStatus() == 10 || voucher.getStatus() == 1) {\r\n                    voucher.setQuantity(voucher.getQuantity() + 1);\r\n                    voucher.setStatus(1);\r\n                }\r\n                voucherRepository.save(voucher);\r\n            }\r\n            bill.setEmployee(account);\r\n            List<PaymentMethod> paymentMethodList = paymentMethodRepository.findAllByBillIdOrderById(billId);\r\n            for (PaymentMethod paymentMethod : paymentMethodList) {\r\n                paymentMethod.setStatus(0);\r\n                paymentMethodRepository.save(paymentMethod);\r\n            }\r\n            List<BillDetail> billDetailList = billDetailRepository.findAllByBill_Id(billId);\r\n            for (BillDetail billDetail : billDetailList) {\r\n                billDetail.setStatus(0);\r\n                billDetailRepository.save(billDetail);\r\n                ProductDetail productDetail = productDetailRepository.findById(billDetail.getProductDetail().getId()).orElse(null);\r\n                productDetail.setQuantity(productDetail.getQuantity() + billDetail.getQuantity());\r\n                productDetailRepository.save(productDetail);\r\n            }\r\n            billRepository.save(bill);\r\n            return true;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public String generateBillCode() {\r\n        Integer lastId = 0;\r\n        Bill lastBill = billRepository.findTopByOrderByIdDesc();\r\n        if (lastBill != null) {\r\n            lastId = lastBill.getId();\r\n        }\r\n        return String.format(\"HD%06d\", lastId + 1);\r\n    }\r\n\r\n    @Override\r\n    public Page<BillDto> findAll(Pageable pageable) {\r\n        return billRepository.listBill(pageable);\r\n    }\r\n\r\n    @Override\r\n    public Page<BillDto> searchListBill(String code, Date ngayTaoStart, Date ngayTaoEnd, Integer status, Integer type, String phoneNumber, String customerName, Pageable pageable) {\r\n        return billRepository.listSearchBill(code, ngayTaoStart, ngayTaoEnd, status, type, phoneNumber, customerName, pageable);\r\n    }\r\n\r\n    public void exportToExcel(HttpServletResponse response, Page<BillDto> bills, String exportUrl) throws IOException {\r\n        response.setContentType(\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\");\r\n        response.setHeader(\"Content-Disposition\", \"attachment; filename=bills.xlsx\");\r\n\r\n        // Tạo workbook Excel và các sheet, row, cell tương ứng\r\n        XSSFWorkbook workbook = new XSSFWorkbook();\r\n        XSSFSheet sheet = workbook.createSheet(\"Bills\");\r\n\r\n        // Tạo tiêu đề cột\r\n        XSSFRow headerRow = sheet.createRow(0);\r\n        headerRow.createCell(0).setCellValue(\"Mã Hóa Đơn\");\r\n        headerRow.createCell(1).setCellValue(\"Họ và Tên\");\r\n        headerRow.createCell(2).setCellValue(\"Số điện thoại\");\r\n        headerRow.createCell(3).setCellValue(\"Ngày đặt\");\r\n        headerRow.createCell(4).setCellValue(\"Tổng tiền\");\r\n        headerRow.createCell(5).setCellValue(\"Trạng thái\");\r\n        headerRow.createCell(6).setCellValue(\"Loại đơn\");\r\n\r\n        int rowNum = 1;\r\n        for (BillDto bill : bills) {\r\n            XSSFRow row = sheet.createRow(rowNum++);\r\n            row.createCell(0).setCellValue(bill.getCode());\r\n            row.createCell(1).setCellValue(bill.getCustomerName());\r\n            row.createCell(2).setCellValue(bill.getPhoneNumber());\r\n            XSSFCell dateCell = row.createCell(3);\r\n            XSSFCellStyle dateCellStyle = workbook.createCellStyle();\r\n            XSSFDataFormat dataFormat = workbook.createDataFormat();\r\n            dateCellStyle.setDataFormat(dataFormat.getFormat(\"dd/MM/yyyy\"));\r\n            dateCell.setCellStyle(dateCellStyle);\r\n            dateCell.setCellValue(bill.getCreateDate());\r\n            XSSFCell totalCell = row.createCell(4);\r\n            totalCell.setCellValue(bill.getTotalPrice().doubleValue());\r\n\r\n            XSSFCellStyle totalCellStyle = workbook.createCellStyle();\r\n            XSSFDataFormat dataFormat1 = workbook.createDataFormat();\r\n            totalCellStyle.setDataFormat(dataFormat1.getFormat(\"#,###\"));\r\n            totalCell.setCellStyle(totalCellStyle);\r\n            String trangThaiText = \"\";\r\n            switch (bill.getStatus()) {\r\n                case 10:\r\n                    trangThaiText = \"Chờ xác nhận\";\r\n                    break;\r\n                case 3:\r\n                    trangThaiText = \"Chờ giao hàng\";\r\n                    break;\r\n                case 2:\r\n                    trangThaiText = \"Đang giao hàng\";\r\n                    break;\r\n                case 1:\r\n                    trangThaiText = \"Đã hoàn thành\";\r\n                    break;\r\n                case 0:\r\n                    trangThaiText = \"Đã hủy\";\r\n                    break;\r\n                default:\r\n                    trangThaiText = \"  \";\r\n            }\r\n            String loaiDonText = \"\";\r\n            switch (bill.getType()) {\r\n                case 1:\r\n                    loaiDonText = \"Tại quầy\";\r\n                    break;\r\n                case 0:\r\n                    loaiDonText = \"Mua Online\";\r\n                    break;\r\n                default:\r\n                    loaiDonText = \"  \";\r\n            }\r\n            row.createCell(5).setCellValue(trangThaiText);\r\n            row.createCell(6).setCellValue(loaiDonText);\r\n\r\n            XSSFCell linkCell = row.createCell(7);\r\n            XSSFRichTextString linkText = new XSSFRichTextString(\" \");\r\n            CreationHelper createHelper = workbook.getCreationHelper();\r\n            XSSFHyperlink hyperlink = (XSSFHyperlink) createHelper.createHyperlink(HyperlinkType.URL);\r\n            hyperlink.setAddress(exportUrl);\r\n            linkCell.setHyperlink(hyperlink);\r\n            linkCell.setCellValue(linkText);\r\n\r\n            for (int i = 0; i < 7; i++) {\r\n                sheet.autoSizeColumn(i);\r\n            }\r\n        }\r\n\r\n        try (OutputStream outputStream = response.getOutputStream()) {\r\n            workbook.write(outputStream);\r\n            workbook.close();\r\n            outputStream.flush();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public List<Bill> findAllByStatus(Integer status) {\r\n        return billRepository.findAllByStatus(status);\r\n    }\r\n\r\n    @Override\r\n    public void deleteBillDetail(BillDetail id) {\r\n        id.setQuantity(0);\r\n        id.setStatus(0);\r\n        billDetailRepository.save(id);\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/com/sd38/gymtiger/service/impl/BillServiceImpl.java b/src/main/java/com/sd38/gymtiger/service/impl/BillServiceImpl.java
--- a/src/main/java/com/sd38/gymtiger/service/impl/BillServiceImpl.java	(revision a3f2f4fe416fb7db81751953dbcaea2f7d6afbda)
+++ b/src/main/java/com/sd38/gymtiger/service/impl/BillServiceImpl.java	(date 1725264597976)
@@ -410,13 +410,14 @@
 
     @Override
     @Transactional
-    public boolean userCancelOrder(Integer billId) {
+    public boolean userCancelOrder(Integer billId, String cancelReason) {
         Bill bill = billRepository.findById(billId).orElse(null);
         if (bill.getStatus() != 10) {
             return false;
         } else {
             bill.setStatus(0);
             bill.setCancellationDate(new Date());
+            bill.setCancelReason(cancelReason); // Thêm lí do hủy đơn
             if (bill.getVoucher() != null) {
                 Voucher voucher = bill.getVoucher();
                 if (voucher.getStatus() == 10 || voucher.getStatus() == 1) {
Index: .idea/jsLinters/jshint.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"JSHintConfiguration\" version=\"2.13.6\" use-config-file=\"true\" use-custom-config-file=\"true\" custom-config-file-path=\"$PROJECT_DIR$/src/main/resources/static/admin/vendors/jquery/src/.jshintrc\">\r\n    <option bitwise=\"true\" />\r\n    <option browser=\"true\" />\r\n    <option curly=\"true\" />\r\n    <option eqeqeq=\"true\" />\r\n    <option forin=\"true\" />\r\n    <option maxerr=\"50\" />\r\n    <option noarg=\"true\" />\r\n    <option noempty=\"true\" />\r\n    <option nonew=\"true\" />\r\n    <option strict=\"true\" />\r\n    <option undef=\"true\" />\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/jsLinters/jshint.xml b/.idea/jsLinters/jshint.xml
--- a/.idea/jsLinters/jshint.xml	(revision a3f2f4fe416fb7db81751953dbcaea2f7d6afbda)
+++ b/.idea/jsLinters/jshint.xml	(date 1725264782873)
@@ -1,6 +1,6 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <project version="4">
-  <component name="JSHintConfiguration" version="2.13.6" use-config-file="true" use-custom-config-file="true" custom-config-file-path="$PROJECT_DIR$/src/main/resources/static/admin/vendors/jquery/src/.jshintrc">
+  <component name="JSHintConfiguration" version="2.12.0" use-config-file="true" use-custom-config-file="true" custom-config-file-path="$PROJECT_DIR$/target/classes/static/admin/vendors/jquery/src/.jshintrc">
     <option bitwise="true" />
     <option browser="true" />
     <option curly="true" />
Index: src/main/java/com/sd38/gymtiger/repository/VoucherRepository.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.sd38.gymtiger.repository;\r\n\r\nimport com.sd38.gymtiger.dto.admin.thongke.VoucherSearchDTO;\r\nimport com.sd38.gymtiger.model.Voucher;\r\nimport org.springframework.data.domain.Page;\r\nimport org.springframework.data.domain.Pageable;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.data.jpa.repository.Query;\r\nimport org.springframework.data.repository.query.Param;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport java.math.BigDecimal;\r\nimport java.util.Date;\r\nimport java.util.List;\r\n\r\n@Repository\r\npublic interface VoucherRepository extends JpaRepository<Voucher, Integer> {\r\n    Voucher findTopByOrderByIdDesc();\r\n\r\n    @Query(\"select o from Voucher o where o.status=?1\")\r\n    List<Voucher> findAllByStatusOrderByIdDesc(Integer status);\r\n\r\n    List<Voucher> findByEndDateBeforeAndStatus(Date endDate, Integer status);\r\n\r\n    @Query(\"SELECT v FROM Voucher v WHERE v.status IN (1, 2) ORDER BY v.id DESC\")\r\n    Page<Voucher> findAllByStatusOrderByIdDesc(Pageable pageable);\r\n\r\n    Page<Voucher> findAllByNameContainsAndStatusOrderByIdDesc(String name, Integer status, Pageable pageable);\r\n\r\n    @Query(\"SELECT v FROM Voucher v WHERE v.status = 1 AND v.minimumPrice <= :cartPrice ORDER BY v.value DESC\")\r\n    List<Voucher> getVoucherByCartPrice(@Param(\"cartPrice\") BigDecimal cartPrice);\r\n\r\n    @Query(value = \"SELECT v.id AS id, v.code AS code, v.name AS name, v.value AS value,v.quantity AS quantity, v.minimumPrice AS minimumPrice, v.startDate AS startDate, v.endDate AS endDate, v.status AS status \" +\r\n            \"FROM Voucher v \" +\r\n            \"WHERE (v.code IS NULL OR v.code LIKE CONCAT('%', :code, '%')) \" +\r\n            \"AND (:ngayTaoStart IS NULL OR :ngayTaoEnd IS NULL OR (v.endDate BETWEEN :ngayTaoStart AND :ngayTaoEnd)) \" +\r\n            \"AND (v.status IS NULL OR v.status = :status) \" +\r\n            \"AND (v.name IS NULL OR v.name LIKE CONCAT('%', :name, '%')) \")\r\n    Page<VoucherSearchDTO> searchVoucher(\r\n            @Param(\"code\") String code,\r\n            @Param(\"ngayTaoStart\") Date ngayTaoStart,\r\n            @Param(\"ngayTaoEnd\") Date ngayTaoEnd,\r\n            @Param(\"status\") Integer status,\r\n            @Param(\"name\") String name,\r\n            Pageable pageable);\r\n\r\n    Voucher findByNameAndStatus(String name, Integer status);\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/com/sd38/gymtiger/repository/VoucherRepository.java b/src/main/java/com/sd38/gymtiger/repository/VoucherRepository.java
--- a/src/main/java/com/sd38/gymtiger/repository/VoucherRepository.java	(revision a3f2f4fe416fb7db81751953dbcaea2f7d6afbda)
+++ b/src/main/java/com/sd38/gymtiger/repository/VoucherRepository.java	(date 1725264597971)
@@ -22,7 +22,7 @@
 
     List<Voucher> findByEndDateBeforeAndStatus(Date endDate, Integer status);
 
-    @Query("SELECT v FROM Voucher v WHERE v.status IN (1, 2) ORDER BY v.id DESC")
+    @Query("SELECT v FROM Voucher v WHERE v.status IN (0, 1, 2) ORDER BY v.id DESC")
     Page<Voucher> findAllByStatusOrderByIdDesc(Pageable pageable);
 
     Page<Voucher> findAllByNameContainsAndStatusOrderByIdDesc(String name, Integer status, Pageable pageable);
@@ -30,12 +30,12 @@
     @Query("SELECT v FROM Voucher v WHERE v.status = 1 AND v.minimumPrice <= :cartPrice ORDER BY v.value DESC")
     List<Voucher> getVoucherByCartPrice(@Param("cartPrice") BigDecimal cartPrice);
 
-    @Query(value = "SELECT v.id AS id, v.code AS code, v.name AS name, v.value AS value,v.quantity AS quantity, v.minimumPrice AS minimumPrice, v.startDate AS startDate, v.endDate AS endDate, v.status AS status " +
-            "FROM Voucher v " +
-            "WHERE (v.code IS NULL OR v.code LIKE CONCAT('%', :code, '%')) " +
-            "AND (:ngayTaoStart IS NULL OR :ngayTaoEnd IS NULL OR (v.endDate BETWEEN :ngayTaoStart AND :ngayTaoEnd)) " +
-            "AND (v.status IS NULL OR v.status = :status) " +
-            "AND (v.name IS NULL OR v.name LIKE CONCAT('%', :name, '%')) ")
+    @Query("SELECT v FROM Voucher v WHERE " +
+            "(LOWER(v.code) LIKE LOWER(CONCAT('%', :code, '%')) OR :code IS NULL) AND " +
+            "(v.status = :status OR :status IS NULL) AND " +
+            "(LOWER(v.name) LIKE LOWER(CONCAT('%', :name, '%')) OR :name IS NULL) AND " +
+            "(:ngayTaoStart IS NULL OR v.startDate <= :ngayTaoStart) AND " +
+            "(:ngayTaoEnd IS NULL OR v.endDate >= :ngayTaoEnd)")
     Page<VoucherSearchDTO> searchVoucher(
             @Param("code") String code,
             @Param("ngayTaoStart") Date ngayTaoStart,
Index: .idea/CodeDao.iml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/CodeDao.iml b/.idea/CodeDao.iml
new file mode 100644
--- /dev/null	(date 1725264597959)
+++ b/.idea/CodeDao.iml	(date 1725264597959)
@@ -0,0 +1,2 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<module type="JAVA_MODULE" version="4" />
\ No newline at end of file
Index: src/main/java/com/sd38/gymtiger/model/Bill.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.sd38.gymtiger.model;\r\n\r\nimport jakarta.persistence.*;\r\nimport lombok.*;\r\n\r\nimport java.math.BigDecimal;\r\nimport java.util.Date;\r\n\r\n@Table(name = \"Bill\")\r\n@Entity\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Getter\r\n@Setter\r\n@Builder\r\npublic class Bill {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = \"Id\")\r\n    private Integer id;\r\n\r\n    @Column(name = \"Code\")\r\n    private String code;\r\n\r\n    @Column(name = \"type\")\r\n    private Integer type;\r\n\r\n    @Column(name = \"CustomerName\")\r\n    private String customerName;\r\n\r\n    @Column(name = \"Address\")\r\n    private String address;\r\n\r\n    @Column(name = \"PhoneNumber\")\r\n    private String phoneNumber;\r\n\r\n    @Column(name = \"Note\")\r\n    private String note;\r\n\r\n    @Column(name = \"OrderDate\")\r\n    private Date orderDate;\r\n\r\n    @Column(name = \"ConfirmationDate\")\r\n    private Date confirmationDate;\r\n\r\n    @Column(name = \"ShippingDate\")\r\n    private Date shippingDate;\r\n\r\n    @Column(name = \"CompletionDate\")\r\n    private Date completionDate;\r\n\r\n    @Column(name = \"CancellationDate\")\r\n    private Date cancellationDate;\r\n\r\n    @Column(name = \"PaymentDate\")\r\n    private Date paymentDate;\r\n\r\n    @Column(name = \"Price\")\r\n    private BigDecimal price;\r\n\r\n    @Column(name = \"ShippingFee\")\r\n    private BigDecimal shippingFee;\r\n\r\n    @Column(name = \"DiscountAmount\")\r\n    private BigDecimal discountAmount;\r\n\r\n    @Column(name = \"TotalPrice\")\r\n    private BigDecimal totalPrice;\r\n\r\n    @Column(name = \"CreateDate\")\r\n    private Date createDate;\r\n\r\n    @Column(name = \"UpdateDate\")\r\n    private Date updateDate;\r\n\r\n    @Column(name = \"Status\")\r\n    private Integer status;\r\n\r\n    @ManyToOne(fetch = FetchType.EAGER)\r\n    @JoinColumn(name = \"EmployeeId\", referencedColumnName = \"Id\")\r\n    private Account employee;\r\n\r\n    @ManyToOne(fetch = FetchType.EAGER)\r\n    @JoinColumn(name = \"CustomerId\", referencedColumnName = \"Id\")\r\n    private Customer customer;\r\n\r\n    @ManyToOne()\r\n    @JoinColumn(name = \"VoucherId\", referencedColumnName = \"Id\")\r\n    private Voucher voucher;\r\n\r\n    public String getStatusName() {\r\n        if (this.status == 10) {\r\n            return \"Chờ xác nhận\";\r\n        } else if (this.status == 3) {\r\n            return \"Chờ giao hàng\";\r\n        } else if (this.status == 2) {\r\n            return \"Đang giao hàng\";\r\n        } else if (this.status == 1) {\r\n            return \"Đã hoàn thành\";\r\n        } else if (this.status == 0) {\r\n            return \"Đã huỷ\";\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/com/sd38/gymtiger/model/Bill.java b/src/main/java/com/sd38/gymtiger/model/Bill.java
--- a/src/main/java/com/sd38/gymtiger/model/Bill.java	(revision a3f2f4fe416fb7db81751953dbcaea2f7d6afbda)
+++ b/src/main/java/com/sd38/gymtiger/model/Bill.java	(date 1725264597968)
@@ -77,6 +77,9 @@
     @Column(name = "Status")
     private Integer status;
 
+    @Column(name = "CancelReason")
+    private String cancelReason;
+
     @ManyToOne(fetch = FetchType.EAGER)
     @JoinColumn(name = "EmployeeId", referencedColumnName = "Id")
     private Account employee;
Index: src/main/resources/templates/user/order.html
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><!DOCTYPE html>\r\n<html lang=\"en\" xmlns:th=\"http://www.thymeleaf.org\">\r\n\r\n<head th:replace=\"~{/user/fragments::head}\">\r\n</head>\r\n\r\n<body>\r\n<div th:replace=\"~{/user/fragments::header}\"></div>\r\n\r\n<!-- Cart Start -->\r\n<div class=\"container-fluid pt-5\">\r\n    <div th:if=\"${mess}\">\r\n        <button hidden id=\"btnSuccess\" th:onclick=\"alertSuccess([[${mess}]])\">Click Me</button>\r\n        <script th:inline=\"javascript\">\r\n            window.onload = function () {\r\n                var btnSuccess = document.getElementById(\"btnSuccess\");\r\n                btnSuccess.click();\r\n            }\r\n            alertSuccess = (content) => {\r\n                Swal.fire({\r\n                    title: content,\r\n                    icon: \"success\",\r\n                    confirmButtonColor: \"#0DC149\"\r\n                });\r\n            }\r\n        </script>\r\n    </div>\r\n    <div th:if=\"${error}\">\r\n        <button hidden id=\"btnError\" th:onclick=\"alertError([[${error}]])\">Click Me</button>\r\n        <script th:inline=\"javascript\">\r\n            window.onload = function () {\r\n                var btnError = document.getElementById(\"btnError\");\r\n                btnError.click();\r\n            }\r\n            alertError = (content) => {\r\n                Swal.fire({\r\n                    title: \"Lỗi\",\r\n                    text: content,\r\n                    icon: \"error\",\r\n                    confirmButtonColor: \"#d33\"\r\n                });\r\n            }\r\n        </script>\r\n    </div>\r\n    <div class=\"row px-xl-5\">\r\n        <div class=\"col-lg-12 mb-5\">\r\n            <ul class=\"nav nav-tabs bg-secondary text-center\">\r\n                <li class=\"tab-item\" style=\"width: 16%\" data-status=\"\">\r\n                    <a class=\"nav-link text-dark\" title=\"Tất cả\" href=\"#\" style=\"padding: 20px\">Tất cả</a>\r\n                </li>\r\n                <li class=\"tab-item\" style=\"width: 16%\" data-status=\"10\">\r\n                    <a class=\"nav-link text-dark\" title=\"Chờ xác nhận\" href=\"#\" style=\"padding: 20px\">Chờ xác nhận</a>\r\n                </li>\r\n                <li class=\"tab-item\" style=\"width: 16%\" data-status=\"3\">\r\n                    <a class=\"nav-link text-dark\" title=\"Chờ giao hàng\" href=\"#\" style=\"padding: 20px\">Chờ giao hàng</a>\r\n                </li>\r\n                <li class=\"tab-item\" style=\"width: 16%\" data-status=\"2\">\r\n                    <a class=\"nav-link text-dark\" title=\"Đang giao hàng\" href=\"#\" style=\"padding: 20px\">Đang giao hàng</a>\r\n                </li>\r\n                <li class=\"tab-item\" style=\"width: 16%\" data-status=\"1\">\r\n                    <a class=\"nav-link text-dark\" title=\"Đã giao thành công\" href=\"#\" style=\"padding: 20px\">Đã hoàn thành</a>\r\n                </li>\r\n                <li class=\"tab-item\" style=\"width: 16%\" data-status=\"0\">\r\n                    <a class=\"nav-link text-dark\" title=\"Đã huỷ\" href=\"#\" style=\"padding: 20px\">Đã huỷ</a>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n    <div class=\"row px-xl-5\">\r\n        <div class=\"col-lg-12 table-responsive mb-5\">\r\n            <table class=\"table table-bordered text-center mb-0\">\r\n                <thead class=\"bg-secondary text-dark\">\r\n                <tr>\r\n                    <th>Đơn hàng</th>\r\n                    <th>Ngày đặt hàng</th>\r\n                    <th>Tổng tiền</th>\r\n                    <th>Trạng thái đơn hàng</th>\r\n                    <th>Thao tác</th>\r\n                </tr>\r\n                </thead>\r\n                <tbody class=\"align-middle\">\r\n                <tr th:each=\"order : ${orders}\">\r\n                    <td class=\"align-middle\" th:text=\"${order.code}\"></td>\r\n                    <td class=\"align-middle\"\r\n                        th:text=\"${#dates.format(order.orderDate, 'dd-MM-yyyy HH:mm:ss')}\"></td>\r\n                    <td class=\"align-middle\"\r\n                        th:text=\"'₫' + ${#numbers.formatDecimal(order.totalPrice, 0, 'COMMA', 0, 'POINT')}\"></td>\r\n                    <td class=\"align-middle\"\r\n                        th:text=\"${order.getStatusName()}\">\r\n                    </td>\r\n                    <td class=\"align-middle\">\r\n                        <a class=\"btn btn-sm btn-primary\"\r\n                           th:href=\"@{'/order-detail/' + ${order.id}}\">Xem chi tiết</a>\r\n                        <a class=\"btn cancel-btn btn-sm btn-danger\" th:href=\"@{'/cancel-order/' + ${order.id}}\" th:if=\"${order.status == 10}\">Huỷ</a>\r\n                    </td>\r\n                </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n</div>\r\n</div>\r\n<!-- Cart End -->\r\n\r\n<div th:replace=\"~{/user/fragments::footer}\"></div>\r\n\r\n<div th:replace=\"~{/user/fragments::script}\"></div>\r\n\r\n<script>\r\n    $('.cancel-btn').on('click', function (e) {\r\n        e.preventDefault();\r\n        Swal.fire({\r\n            title: \"Xác nhận?\",\r\n            text: `Bạn chắc chắn muốn hủy đơn này?`,\r\n            icon: \"warning\",\r\n            showCancelButton: true,\r\n            cancelButtonText: 'Hủy',\r\n            confirmButtonText: 'Xác nhận',\r\n            reverseButtons: true\r\n        }).then((result) => {\r\n            if (result.isConfirmed) {\r\n                window.location.href = $(this).attr('href');\r\n            }\r\n        })\r\n    });\r\n\r\n    openTab()\r\n\r\n    function openTab() {\r\n        const $tabs = $(\".tab-item\");\r\n\r\n        $tabs.each(function (index) {\r\n            const $tab = $(this);\r\n\r\n            $tab.on(\"click\", function () {\r\n                var status = $tab.attr('data-status')\r\n                var url = ''\r\n                if(status == null || status == '') {\r\n                    url = '/orders'\r\n                }else {\r\n                    url = `/orders?status=${status}`\r\n                }\r\n                window.location.href = url\r\n            });\r\n        });\r\n    }\r\n\r\n\r\n</script>\r\n\r\n</body>\r\n\r\n</html>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/resources/templates/user/order.html b/src/main/resources/templates/user/order.html
--- a/src/main/resources/templates/user/order.html	(revision a3f2f4fe416fb7db81751953dbcaea2f7d6afbda)
+++ b/src/main/resources/templates/user/order.html	(date 1725264597984)
@@ -109,19 +109,31 @@
 <script>
     $('.cancel-btn').on('click', function (e) {
         e.preventDefault();
+        const href = $(this).attr('href');
+
         Swal.fire({
             title: "Xác nhận?",
-            text: `Bạn chắc chắn muốn hủy đơn này?`,
+            text: "Bạn chắc chắn muốn hủy đơn này? Vui lòng nhập lý do hủy:",
+            input: 'text',
+            inputPlaceholder: 'Nhập lý do hủy',
             icon: "warning",
             showCancelButton: true,
             cancelButtonText: 'Hủy',
             confirmButtonText: 'Xác nhận',
-            reverseButtons: true
+            reverseButtons: true,
+            preConfirm: (reason) => {
+                if (!reason) {
+                    Swal.showValidationMessage("Lý do hủy không được để trống");
+                    return false;
+                }
+                return reason;
+            }
         }).then((result) => {
             if (result.isConfirmed) {
-                window.location.href = $(this).attr('href');
+                const cancelReason = result.value;
+                window.location.href = `${href}?cancelReason=${encodeURIComponent(cancelReason)}`;
             }
-        })
+        });
     });
 
     openTab()
Index: src/main/java/com/sd38/gymtiger/controller/admin/PromotionController.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.sd38.gymtiger.controller.admin;\r\n\r\nimport com.sd38.gymtiger.dto.admin.PromotionDetailDTO;\r\nimport com.sd38.gymtiger.dto.admin.thongke.PromotionSearchDTO;\r\nimport com.sd38.gymtiger.model.Promotion;\r\nimport com.sd38.gymtiger.service.PromotionService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.data.domain.Page;\r\nimport org.springframework.format.annotation.DateTimeFormat;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.ModelAttribute;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport org.springframework.web.servlet.mvc.support.RedirectAttributes;\r\n\r\nimport java.util.Date;\r\nimport java.util.List;\r\n\r\n@Controller\r\n@RequestMapping(\"/tiger/promotion\")\r\npublic class PromotionController {\r\n\r\n    @Autowired\r\n    private PromotionService promotionService;\r\n\r\n    @GetMapping(\"/page\")\r\n    public String getAllPagination(@ModelAttribute(\"promotion\") Promotion promotion, @RequestParam(name = \"page\", defaultValue = \"0\") Integer page,\r\n                                   Model model) {\r\n        Page<Promotion> pagePromotion = promotionService.getAllPT(page);\r\n        model.addAttribute(\"pagePromotion\", pagePromotion);\r\n        model.addAttribute(\"page\", page);\r\n        return \"admin/promotion/promotion\";\r\n    }\r\n\r\n    @PostMapping(\"/add\")\r\n    public String add(@ModelAttribute(\"promotion\") Promotion promotion, RedirectAttributes redirectAttributes) {\r\n        if (promotionService.add(promotion)) {\r\n            redirectAttributes.addFlashAttribute(\"mess\", \"Thêm dữ liệu thành công\");\r\n            return \"redirect:/tiger/promotion/page\";\r\n        } else {\r\n            redirectAttributes.addFlashAttribute(\"error\", \"Tên khuyến mãi đã tồn tại\");\r\n            return \"redirect:/tiger/promotion/page\";\r\n        }\r\n    }\r\n\r\n    @PostMapping(\"/update/{id}\")\r\n    public String update(@ModelAttribute(\"promotion\") Promotion promotion, @PathVariable Integer id,\r\n                         RedirectAttributes redirectAttributes) {\r\n       if(promotionService.update(promotion,id)){\r\n           redirectAttributes.addFlashAttribute(\"mess\", \"Sửa dữ liệu thành công\");\r\n           return \"redirect:/tiger/promotion/page\";\r\n       }else{\r\n           redirectAttributes.addFlashAttribute(\"error\", \"Tên khuyến mãi đã tồn tại\");\r\n           return \"redirect:/tiger/promotion/page\";\r\n       }\r\n\r\n    }\r\n\r\n    @PostMapping(\"/delete/{id}\")\r\n    public String delete(@PathVariable Integer id, RedirectAttributes redirectAttributes) {\r\n        promotionService.delete(id);\r\n        redirectAttributes.addFlashAttribute(\"mess\", \"Xoá thành công!!\");\r\n        return \"redirect:/tiger/promotion/page\";\r\n\r\n    }\r\n\r\n    @GetMapping(\"/detail/{id}\")\r\n    public String detail(@PathVariable Integer id, Model model) {\r\n        Promotion promotion = promotionService.getOne(id);\r\n        model.addAttribute(\"promotion\", promotion);\r\n        return \"admin/promotion/promotion-detail\";\r\n    }\r\n\r\n    @GetMapping(\"/promotionChiTiet/{id}\")\r\n    public String detailCT(@PathVariable Integer id, Model model) {\r\n        Promotion promotion = promotionService.getOne(id);\r\n        model.addAttribute(\"promotion\", promotion);\r\n        List<PromotionDetailDTO> promotionDetails = promotionService.getPromotionDetailsByPromotionId(id);\r\n        model.addAttribute(\"promotionDetails\", promotionDetails);\r\n        return \"admin/promotion/promotionChiTiet\";\r\n    }\r\n\r\n\r\n    @GetMapping(\"/search\")\r\n    public String search(\r\n            @RequestParam(required = false) String code,\r\n            @RequestParam(name = \"ngayTaoStart\", required = false) @DateTimeFormat(pattern = \"yyyy-MM-dd\") Date ngayTaoStart,\r\n            @RequestParam(name = \"ngayTaoEnd\", required = false) @DateTimeFormat(pattern = \"yyyy-MM-dd\") Date ngayTaoEnd,\r\n            @RequestParam(required = false) Integer status,\r\n            @RequestParam(required = false) String name,\r\n            Model model, @RequestParam(defaultValue = \"0\") int page) {\r\n\r\n        if ((code == null || code.isEmpty()) && status == null && (name == null || name.isEmpty()) && ngayTaoStart == null && ngayTaoEnd == null) {\r\n            return \"redirect:/tiger/promotion/page\";\r\n        }\r\n        Page<PromotionSearchDTO> promotionSearchDTOPage = promotionService.searchPromotion(code, ngayTaoStart, ngayTaoEnd, status, name, page);\r\n        model.addAttribute(\"pagePromotion\", promotionSearchDTOPage);\r\n        model.addAttribute(\"code\", code);\r\n        model.addAttribute(\"status\", status);\r\n        model.addAttribute(\"name\", name);\r\n        model.addAttribute(\"ngayTaoStart\", ngayTaoStart);\r\n        model.addAttribute(\"ngayTaoEnd\", ngayTaoEnd);\r\n\r\n        return \"admin/promotion/promotion\";\r\n    }\r\n\r\n\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/com/sd38/gymtiger/controller/admin/PromotionController.java b/src/main/java/com/sd38/gymtiger/controller/admin/PromotionController.java
--- a/src/main/java/com/sd38/gymtiger/controller/admin/PromotionController.java	(revision a3f2f4fe416fb7db81751953dbcaea2f7d6afbda)
+++ b/src/main/java/com/sd38/gymtiger/controller/admin/PromotionController.java	(date 1725264597964)
@@ -50,20 +50,20 @@
     @PostMapping("/update/{id}")
     public String update(@ModelAttribute("promotion") Promotion promotion, @PathVariable Integer id,
                          RedirectAttributes redirectAttributes) {
-       if(promotionService.update(promotion,id)){
-           redirectAttributes.addFlashAttribute("mess", "Sửa dữ liệu thành công");
-           return "redirect:/tiger/promotion/page";
-       }else{
-           redirectAttributes.addFlashAttribute("error", "Tên khuyến mãi đã tồn tại");
-           return "redirect:/tiger/promotion/page";
-       }
+        if(promotionService.update(promotion,id)){
+            redirectAttributes.addFlashAttribute("mess", "Sửa dữ liệu thành công");
+            return "redirect:/tiger/promotion/page";
+        }else{
+            redirectAttributes.addFlashAttribute("error", "Tên khuyến mãi đã tồn tại");
+            return "redirect:/tiger/promotion/page";
+        }
 
     }
 
     @PostMapping("/delete/{id}")
     public String delete(@PathVariable Integer id, RedirectAttributes redirectAttributes) {
         promotionService.delete(id);
-        redirectAttributes.addFlashAttribute("mess", "Xoá thành công!!");
+        redirectAttributes.addFlashAttribute("mess", "Đã ngưng hoạt động!");
         return "redirect:/tiger/promotion/page";
 
     }
Index: target/classes/templates/user/order.html
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><!DOCTYPE html>\r\n<html lang=\"en\" xmlns:th=\"http://www.thymeleaf.org\">\r\n\r\n<head th:replace=\"~{/user/fragments::head}\">\r\n</head>\r\n\r\n<body>\r\n<div th:replace=\"~{/user/fragments::header}\"></div>\r\n\r\n<!-- Cart Start -->\r\n<div class=\"container-fluid pt-5\">\r\n    <div th:if=\"${mess}\">\r\n        <button hidden id=\"btnSuccess\" th:onclick=\"alertSuccess([[${mess}]])\">Click Me</button>\r\n        <script th:inline=\"javascript\">\r\n            window.onload = function () {\r\n                var btnSuccess = document.getElementById(\"btnSuccess\");\r\n                btnSuccess.click();\r\n            }\r\n            alertSuccess = (content) => {\r\n                Swal.fire({\r\n                    title: content,\r\n                    icon: \"success\",\r\n                    confirmButtonColor: \"#0DC149\"\r\n                });\r\n            }\r\n        </script>\r\n    </div>\r\n    <div th:if=\"${error}\">\r\n        <button hidden id=\"btnError\" th:onclick=\"alertError([[${error}]])\">Click Me</button>\r\n        <script th:inline=\"javascript\">\r\n            window.onload = function () {\r\n                var btnError = document.getElementById(\"btnError\");\r\n                btnError.click();\r\n            }\r\n            alertError = (content) => {\r\n                Swal.fire({\r\n                    title: \"Lỗi\",\r\n                    text: content,\r\n                    icon: \"error\",\r\n                    confirmButtonColor: \"#d33\"\r\n                });\r\n            }\r\n        </script>\r\n    </div>\r\n    <div class=\"row px-xl-5\">\r\n        <div class=\"col-lg-12 mb-5\">\r\n            <ul class=\"nav nav-tabs bg-secondary text-center\">\r\n                <li class=\"tab-item\" style=\"width: 16%\" data-status=\"\">\r\n                    <a class=\"nav-link text-dark\" title=\"Tất cả\" href=\"#\" style=\"padding: 20px\">Tất cả</a>\r\n                </li>\r\n                <li class=\"tab-item\" style=\"width: 16%\" data-status=\"10\">\r\n                    <a class=\"nav-link text-dark\" title=\"Chờ xác nhận\" href=\"#\" style=\"padding: 20px\">Chờ xác nhận</a>\r\n                </li>\r\n                <li class=\"tab-item\" style=\"width: 16%\" data-status=\"3\">\r\n                    <a class=\"nav-link text-dark\" title=\"Chờ giao hàng\" href=\"#\" style=\"padding: 20px\">Chờ giao hàng</a>\r\n                </li>\r\n                <li class=\"tab-item\" style=\"width: 16%\" data-status=\"2\">\r\n                    <a class=\"nav-link text-dark\" title=\"Đang giao hàng\" href=\"#\" style=\"padding: 20px\">Đang giao hàng</a>\r\n                </li>\r\n                <li class=\"tab-item\" style=\"width: 16%\" data-status=\"1\">\r\n                    <a class=\"nav-link text-dark\" title=\"Đã giao thành công\" href=\"#\" style=\"padding: 20px\">Đã hoàn thành</a>\r\n                </li>\r\n                <li class=\"tab-item\" style=\"width: 16%\" data-status=\"0\">\r\n                    <a class=\"nav-link text-dark\" title=\"Đã huỷ\" href=\"#\" style=\"padding: 20px\">Đã huỷ</a>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n    <div class=\"row px-xl-5\">\r\n        <div class=\"col-lg-12 table-responsive mb-5\">\r\n            <table class=\"table table-bordered text-center mb-0\">\r\n                <thead class=\"bg-secondary text-dark\">\r\n                <tr>\r\n                    <th>Đơn hàng</th>\r\n                    <th>Ngày đặt hàng</th>\r\n                    <th>Tổng tiền</th>\r\n                    <th>Trạng thái đơn hàng</th>\r\n                    <th>Thao tác</th>\r\n                </tr>\r\n                </thead>\r\n                <tbody class=\"align-middle\">\r\n                <tr th:each=\"order : ${orders}\">\r\n                    <td class=\"align-middle\" th:text=\"${order.code}\"></td>\r\n                    <td class=\"align-middle\"\r\n                        th:text=\"${#dates.format(order.orderDate, 'dd-MM-yyyy HH:mm:ss')}\"></td>\r\n                    <td class=\"align-middle\"\r\n                        th:text=\"'₫' + ${#numbers.formatDecimal(order.totalPrice, 0, 'COMMA', 0, 'POINT')}\"></td>\r\n                    <td class=\"align-middle\"\r\n                        th:text=\"${order.getStatusName()}\">\r\n                    </td>\r\n                    <td class=\"align-middle\">\r\n                        <a class=\"btn btn-sm btn-primary\"\r\n                           th:href=\"@{'/order-detail/' + ${order.id}}\">Xem chi tiết</a>\r\n                        <a class=\"btn cancel-btn btn-sm btn-danger\" th:href=\"@{'/cancel-order/' + ${order.id}}\" th:if=\"${order.status == 10}\">Huỷ</a>\r\n                    </td>\r\n                </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n</div>\r\n</div>\r\n<!-- Cart End -->\r\n\r\n<div th:replace=\"~{/user/fragments::footer}\"></div>\r\n\r\n<div th:replace=\"~{/user/fragments::script}\"></div>\r\n\r\n<script>\r\n    $('.cancel-btn').on('click', function (e) {\r\n        e.preventDefault();\r\n        Swal.fire({\r\n            title: \"Xác nhận?\",\r\n            text: `Bạn chắc chắn muốn hủy đơn này?`,\r\n            icon: \"warning\",\r\n            showCancelButton: true,\r\n            cancelButtonText: 'Hủy',\r\n            confirmButtonText: 'Xác nhận',\r\n            reverseButtons: true\r\n        }).then((result) => {\r\n            if (result.isConfirmed) {\r\n                window.location.href = $(this).attr('href');\r\n            }\r\n        })\r\n    });\r\n\r\n    openTab()\r\n\r\n    function openTab() {\r\n        const $tabs = $(\".tab-item\");\r\n\r\n        $tabs.each(function (index) {\r\n            const $tab = $(this);\r\n\r\n            $tab.on(\"click\", function () {\r\n                var status = $tab.attr('data-status')\r\n                var url = ''\r\n                if(status == null || status == '') {\r\n                    url = '/orders'\r\n                }else {\r\n                    url = `/orders?status=${status}`\r\n                }\r\n                window.location.href = url\r\n            });\r\n        });\r\n    }\r\n\r\n\r\n</script>\r\n\r\n</body>\r\n\r\n</html>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/target/classes/templates/user/order.html b/target/classes/templates/user/order.html
--- a/target/classes/templates/user/order.html	(revision a3f2f4fe416fb7db81751953dbcaea2f7d6afbda)
+++ b/target/classes/templates/user/order.html	(date 1725264597984)
@@ -109,19 +109,31 @@
 <script>
     $('.cancel-btn').on('click', function (e) {
         e.preventDefault();
+        const href = $(this).attr('href');
+
         Swal.fire({
             title: "Xác nhận?",
-            text: `Bạn chắc chắn muốn hủy đơn này?`,
+            text: "Bạn chắc chắn muốn hủy đơn này? Vui lòng nhập lý do hủy:",
+            input: 'text',
+            inputPlaceholder: 'Nhập lý do hủy',
             icon: "warning",
             showCancelButton: true,
             cancelButtonText: 'Hủy',
             confirmButtonText: 'Xác nhận',
-            reverseButtons: true
+            reverseButtons: true,
+            preConfirm: (reason) => {
+                if (!reason) {
+                    Swal.showValidationMessage("Lý do hủy không được để trống");
+                    return false;
+                }
+                return reason;
+            }
         }).then((result) => {
             if (result.isConfirmed) {
-                window.location.href = $(this).attr('href');
+                const cancelReason = result.value;
+                window.location.href = `${href}?cancelReason=${encodeURIComponent(cancelReason)}`;
             }
-        })
+        });
     });
 
     openTab()
